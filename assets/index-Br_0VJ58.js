var Ap=Object.defineProperty;var $a=t=>{throw TypeError(t)};var jp=(t,e,r)=>e in t?Ap(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var P=(t,e,r)=>jp(t,typeof e!="symbol"?e+"":e,r),Ei=(t,e,r)=>e.has(t)||$a("Cannot "+r);var T=(t,e,r)=>(Ei(t,e,"read from private field"),r?r.call(t):e.get(t)),Y=(t,e,r)=>e.has(t)?$a("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),H=(t,e,r,s)=>(Ei(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),Re=(t,e,r)=>(Ei(t,e,"access private method"),r);var sn=(t,e,r,s)=>({set _(n){H(t,e,n,r)},get _(){return T(t,e,s)}});import{r as m,a as Kn,o as j,v as Mc,R as Gn,g as Np,c as Pp,b as $c}from"./react-vendor-BF3SIHgK.js";function Rp(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var Dc={exports:{}},Jn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=m,Ip=Symbol.for("react.element"),Mp=Symbol.for("react.fragment"),$p=Object.prototype.hasOwnProperty,Dp=Op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lp={key:!0,ref:!0,__self:!0,__source:!0};function Lc(t,e,r){var s,n={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)$p.call(e,s)&&!Lp.hasOwnProperty(s)&&(n[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)n[s]===void 0&&(n[s]=e[s]);return{$$typeof:Ip,type:t,key:i,ref:o,props:n,_owner:Dp.current}}Jn.Fragment=Mp;Jn.jsx=Lc;Jn.jsxs=Lc;Dc.exports=Jn;var u=Dc.exports,Uc,Da=Kn;Uc=Da.createRoot,Da.hydrateRoot;const Up=1,Fp=1e6;let Si=0;function Bp(){return Si=(Si+1)%Number.MAX_SAFE_INTEGER,Si.toString()}const Ci=new Map,La=t=>{if(Ci.has(t))return;const e=setTimeout(()=>{Ci.delete(t),_s({type:"REMOVE_TOAST",toastId:t})},Fp);Ci.set(t,e)},qp=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Up)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?La(r):t.toasts.forEach(s=>{La(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},En=[];let Sn={toasts:[]};function _s(t){Sn=qp(Sn,t),En.forEach(e=>{e(Sn)})}function Vp({...t}){const e=Bp(),r=n=>_s({type:"UPDATE_TOAST",toast:{...n,id:e}}),s=()=>_s({type:"DISMISS_TOAST",toastId:e});return _s({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:r}}function Hp(){const[t,e]=m.useState(Sn);return m.useEffect(()=>(En.push(e),()=>{const r=En.indexOf(e);r>-1&&En.splice(r,1)}),[t]),{...t,toast:Vp,dismiss:r=>_s({type:"DISMISS_TOAST",toastId:r})}}function Q(t,e,{checkForDefaultPrevented:r=!0}={}){return function(n){if(t==null||t(n),r===!1||!n.defaultPrevented)return e==null?void 0:e(n)}}function Ua(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vs(...t){return e=>{let r=!1;const s=t.map(n=>{const i=Ua(n,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let n=0;n<s.length;n++){const i=s[n];typeof i=="function"?i():Ua(t[n],null)}}}}function ke(...t){return m.useCallback(Vs(...t),t)}function Wp(t,e){const r=m.createContext(e),s=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return u.jsx(r.Provider,{value:l,children:o})};s.displayName=t+"Provider";function n(i){const o=m.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,n]}function er(t,e=[]){let r=[];function s(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const c=f=>{var w;const{scope:p,children:h,...b}=f,g=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,y=m.useMemo(()=>b,Object.values(b));return u.jsx(g.Provider,{value:y,children:h})};c.displayName=i+"Provider";function d(f,p){var g;const h=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,b=m.useContext(h);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const n=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return n.scopeName=t,[s,zp(n,...e)]}function zp(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Fa(t){const e=Kp(t),r=m.forwardRef((s,n)=>{const{children:i,...o}=s,a=m.Children.toArray(i),l=a.find(Jp);if(l){const c=l.props.children,d=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:n,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:n,children:i})});return r.displayName=`${t}.Slot`,r}function Kp(t){const e=m.forwardRef((r,s)=>{const{children:n,...i}=r;if(m.isValidElement(n)){const o=Qp(n),a=Yp(i,n.props);return n.type!==m.Fragment&&(a.ref=s?Vs(s,o):o),m.cloneElement(n,a)}return m.Children.count(n)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Gp=Symbol("radix.slottable");function Jp(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Gp}function Yp(t,e){const r={...e};for(const s in e){const n=t[s],i=e[s];/^on[A-Z]/.test(s)?n&&i?r[s]=(...a)=>{const l=i(...a);return n(...a),l}:n&&(r[s]=n):s==="style"?r[s]={...n,...i}:s==="className"&&(r[s]=[n,i].filter(Boolean).join(" "))}return{...t,...r}}function Qp(t){var s,n;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Fc(t){const e=t+"CollectionProvider",[r,s]=er(e),[n,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:w}=g,v=j.useRef(null),x=j.useRef(new Map).current;return u.jsx(n,{scope:y,itemMap:x,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=Fa(a),c=j.forwardRef((g,y)=>{const{scope:w,children:v}=g,x=i(a,w),E=ke(y,x.collectionRef);return u.jsx(l,{ref:E,children:v})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Fa(d),h=j.forwardRef((g,y)=>{const{scope:w,children:v,...x}=g,E=j.useRef(null),S=ke(y,E),C=i(d,w);return j.useEffect(()=>(C.itemMap.set(E,{ref:E,...x}),()=>void C.itemMap.delete(E))),u.jsx(p,{[f]:"",ref:S,children:v})});h.displayName=d;function b(g){const y=i(t+"CollectionConsumer",g);return j.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,k)=>x.indexOf(C.ref.current)-x.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},b,s]}function Xp(t){const e=Zp(t),r=m.forwardRef((s,n)=>{const{children:i,...o}=s,a=m.Children.toArray(i),l=a.find(tm);if(l){const c=l.props.children,d=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:n,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:n,children:i})});return r.displayName=`${t}.Slot`,r}function Zp(t){const e=m.forwardRef((r,s)=>{const{children:n,...i}=r;if(m.isValidElement(n)){const o=sm(n),a=rm(i,n.props);return n.type!==m.Fragment&&(a.ref=s?Vs(s,o):o),m.cloneElement(n,a)}return m.Children.count(n)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var em=Symbol("radix.slottable");function tm(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===em}function rm(t,e){const r={...e};for(const s in e){const n=t[s],i=e[s];/^on[A-Z]/.test(s)?n&&i?r[s]=(...a)=>{const l=i(...a);return n(...a),l}:n&&(r[s]=n):s==="style"?r[s]={...n,...i}:s==="className"&&(r[s]=[n,i].filter(Boolean).join(" "))}return{...t,...r}}function sm(t){var s,n;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var nm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oe=nm.reduce((t,e)=>{const r=Xp(`Primitive.${e}`),s=m.forwardRef((n,i)=>{const{asChild:o,...a}=n,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function Bc(t,e){t&&Kn.flushSync(()=>t.dispatchEvent(e))}function it(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...r)=>{var s;return(s=e.current)==null?void 0:s.call(e,...r)},[])}function im(t,e=globalThis==null?void 0:globalThis.document){const r=it(t);m.useEffect(()=>{const s=n=>{n.key==="Escape"&&r(n)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var om="DismissableLayer",Zi="dismissableLayer.update",am="dismissableLayer.pointerDownOutside",lm="dismissableLayer.focusOutside",Ba,qc=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yn=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(qc),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),b=ke(e,k=>f(k)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),v=d?g.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,E=v>=w,S=um(k=>{const A=k.target,D=[...c.branches].some(I=>I.contains(A));!E||D||(n==null||n(k),o==null||o(k),k.defaultPrevented||a==null||a())},p),C=dm(k=>{const A=k.target;[...c.branches].some(I=>I.contains(A))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},p);return im(k=>{v===c.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ba=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),qa(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Ba)}},[d,p,r,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),qa())},[d,c]),m.useEffect(()=>{const k=()=>h({});return document.addEventListener(Zi,k),()=>document.removeEventListener(Zi,k)},[]),u.jsx(oe.div,{...l,ref:b,style:{pointerEvents:x?E?"auto":"none":void 0,...t.style},onFocusCapture:Q(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Q(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Q(t.onPointerDownCapture,S.onPointerDownCapture)})});Yn.displayName=om;var cm="DismissableLayerBranch",Vc=m.forwardRef((t,e)=>{const r=m.useContext(qc),s=m.useRef(null),n=ke(e,s);return m.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),u.jsx(oe.div,{...t,ref:n})});Vc.displayName=cm;function um(t,e=globalThis==null?void 0:globalThis.document){const r=it(t),s=m.useRef(!1),n=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!s.current){let l=function(){Hc(am,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",n.current),n.current=l,e.addEventListener("click",n.current,{once:!0})):l()}else e.removeEventListener("click",n.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",n.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function dm(t,e=globalThis==null?void 0:globalThis.document){const r=it(t),s=m.useRef(!1);return m.useEffect(()=>{const n=i=>{i.target&&!s.current&&Hc(lm,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",n),()=>e.removeEventListener("focusin",n)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function qa(){const t=new CustomEvent(Zi);document.dispatchEvent(t)}function Hc(t,e,r,{discrete:s}){const n=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&n.addEventListener(t,e,{once:!0}),s?Bc(n,i):n.dispatchEvent(i)}var hm=Yn,fm=Vc,Et=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},pm="Portal",qo=m.forwardRef((t,e)=>{var a;const{container:r,...s}=t,[n,i]=m.useState(!1);Et(()=>i(!0),[]);const o=r||n&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Mc.createPortal(u.jsx(oe.div,{...s,ref:e}),o):null});qo.displayName=pm;function mm(t,e){return m.useReducer((r,s)=>e[r][s]??r,t)}var tr=t=>{const{present:e,children:r}=t,s=gm(e),n=typeof r=="function"?r({present:s.isPresent}):m.Children.only(r),i=ke(s.ref,ym(n));return typeof r=="function"||s.isPresent?m.cloneElement(n,{ref:i}):null};tr.displayName="Presence";function gm(t){const[e,r]=m.useState(),s=m.useRef(null),n=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=mm(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=nn(s.current);i.current=a==="mounted"?c:"none"},[a]),Et(()=>{const c=s.current,d=n.current;if(d!==t){const p=i.current,h=nn(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,l]),Et(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=h=>{const g=nn(s.current).includes(CSS.escape(h.animationName));if(h.target===e&&g&&(l("ANIMATION_END"),!n.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=h=>{h.target===e&&(i.current=nn(s.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{s.current=c?getComputedStyle(c):null,r(c)},[])}}function nn(t){return(t==null?void 0:t.animationName)||"none"}function ym(t){var s,n;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var bm=Gn[" useInsertionEffect ".trim().toString()]||Et;function Hs({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[n,i,o]=vm({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:n;{const d=m.useRef(t!==void 0);m.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,s])}const c=m.useCallback(d=>{var f;if(a){const p=wm(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else i(d)},[a,t,i,o]);return[l,c]}function vm({defaultProp:t,onChange:e}){const[r,s]=m.useState(t),n=m.useRef(r),i=m.useRef(e);return bm(()=>{i.current=e},[e]),m.useEffect(()=>{var o;n.current!==r&&((o=i.current)==null||o.call(i,r),n.current=r)},[r,n]),[r,s,i]}function wm(t){return typeof t=="function"}var xm=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_m="VisuallyHidden",Qn=m.forwardRef((t,e)=>u.jsx(oe.span,{...t,ref:e,style:{...xm,...t.style}}));Qn.displayName=_m;var Em=Qn,Vo="ToastProvider",[Ho,Sm,Cm]=Fc("Toast"),[Wc]=er("Toast",[Cm]),[Tm,Xn]=Wc(Vo),zc=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vo}\`. Expected non-empty \`string\`.`),u.jsx(Ho.Provider,{scope:e,children:u.jsx(Tm,{scope:e,label:r,duration:s,swipeDirection:n,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(h=>h+1),[]),onToastRemove:m.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};zc.displayName=Vo;var Kc="ToastViewport",km=["F8"],eo="toast.viewportPause",to="toast.viewportResume",Gc=m.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=km,label:n="Notifications ({hotkey})",...i}=t,o=Xn(Kc,r),a=Sm(r),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=ke(e,f,o.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;m.useEffect(()=>{const y=w=>{var x;s.length!==0&&s.every(E=>w[E]||w.code===E)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),m.useEffect(()=>{const y=l.current,w=f.current;if(b&&y&&w){const v=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(eo);w.dispatchEvent(C),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(to);w.dispatchEvent(C),o.isClosePausedRef.current=!1}},E=C=>{!y.contains(C.relatedTarget)&&x()},S=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",v),y.addEventListener("focusout",E),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",E),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[b,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:y})=>{const v=a().map(x=>{const E=x.ref.current,S=[E,...Fm(E)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?v.reverse():v).flat()},[a]);return m.useEffect(()=>{const y=f.current;if(y){const w=v=>{var S,C,k;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const A=document.activeElement,D=v.shiftKey;if(v.target===y&&D){(S=c.current)==null||S.focus();return}const M=g({tabbingDirection:D?"backwards":"forwards"}),X=M.findIndex(R=>R===A);Ti(M.slice(X+1))?v.preventDefault():D?(C=c.current)==null||C.focus():(k=d.current)==null||k.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[a,g]),u.jsxs(fm,{ref:l,role:"region","aria-label":n.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(ro,{ref:c,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Ti(y)}}),u.jsx(Ho.Slot,{scope:r,children:u.jsx(oe.ol,{tabIndex:-1,...i,ref:p})}),b&&u.jsx(ro,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Ti(y)}})]})});Gc.displayName=Kc;var Jc="ToastFocusProxy",ro=m.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...n}=t,i=Xn(Jc,r);return u.jsx(Qn,{tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&s()}})});ro.displayName=Jc;var Ws="Toast",Am="toast.swipeStart",jm="toast.swipeMove",Nm="toast.swipeCancel",Pm="toast.swipeEnd",Yc=m.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:n,onOpenChange:i,...o}=t,[a,l]=Hs({prop:s,defaultProp:n??!0,onChange:i,caller:Ws});return u.jsx(tr,{present:r||a,children:u.jsx(Im,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:it(t.onPause),onResume:it(t.onResume),onSwipeStart:Q(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Q(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Yc.displayName=Ws;var[Rm,Om]=Wc(Ws,{onClose(){}}),Im=m.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...b}=t,g=Xn(Ws,r),[y,w]=m.useState(null),v=ke(e,R=>w(R)),x=m.useRef(null),E=m.useRef(null),S=n||g.duration,C=m.useRef(0),k=m.useRef(S),A=m.useRef(0),{onToastAdd:D,onToastRemove:I}=g,W=it(()=>{var J;(y==null?void 0:y.contains(document.activeElement))&&((J=g.viewport)==null||J.focus()),o()}),M=m.useCallback(R=>{!R||R===1/0||(window.clearTimeout(A.current),C.current=new Date().getTime(),A.current=window.setTimeout(W,R))},[W]);m.useEffect(()=>{const R=g.viewport;if(R){const J=()=>{M(k.current),c==null||c()},U=()=>{const G=new Date().getTime()-C.current;k.current=k.current-G,window.clearTimeout(A.current),l==null||l()};return R.addEventListener(eo,U),R.addEventListener(to,J),()=>{R.removeEventListener(eo,U),R.removeEventListener(to,J)}}},[g.viewport,S,l,c,M]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&M(S)},[i,S,g.isClosePausedRef,M]),m.useEffect(()=>(D(),()=>I()),[D,I]);const X=m.useMemo(()=>y?su(y):null,[y]);return g.viewport?u.jsxs(u.Fragment,{children:[X&&u.jsx(Mm,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:X}),u.jsx(Rm,{scope:r,onClose:W,children:Kn.createPortal(u.jsx(Ho.ItemSlot,{scope:r,children:u.jsx(hm,{asChild:!0,onEscapeKeyDown:Q(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(oe.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Q(t.onKeyDown,R=>{R.key==="Escape"&&(a==null||a(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Q(t.onPointerDown,R=>{R.button===0&&(x.current={x:R.clientX,y:R.clientY})}),onPointerMove:Q(t.onPointerMove,R=>{if(!x.current)return;const J=R.clientX-x.current.x,U=R.clientY-x.current.y,G=!!E.current,F=["left","right"].includes(g.swipeDirection),O=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ne=F?O(0,J):0,we=F?0:O(0,U),Z=R.pointerType==="touch"?10:2,te={x:ne,y:we},le={originalEvent:R,delta:te};G?(E.current=te,on(jm,f,le,{discrete:!1})):Va(te,g.swipeDirection,Z)?(E.current=te,on(Am,d,le,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(J)>Z||Math.abs(U)>Z)&&(x.current=null)}),onPointerUp:Q(t.onPointerUp,R=>{const J=E.current,U=R.target;if(U.hasPointerCapture(R.pointerId)&&U.releasePointerCapture(R.pointerId),E.current=null,x.current=null,J){const G=R.currentTarget,F={originalEvent:R,delta:J};Va(J,g.swipeDirection,g.swipeThreshold)?on(Pm,h,F,{discrete:!0}):on(Nm,p,F,{discrete:!0}),G.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Mm=t=>{const{__scopeToast:e,children:r,...s}=t,n=Xn(Ws,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return Lm(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(qo,{asChild:!0,children:u.jsx(Qn,{...s,children:i&&u.jsxs(u.Fragment,{children:[n.label," ",r]})})})},$m="ToastTitle",Qc=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return u.jsx(oe.div,{...s,ref:e})});Qc.displayName=$m;var Dm="ToastDescription",Xc=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return u.jsx(oe.div,{...s,ref:e})});Xc.displayName=Dm;var Zc="ToastAction",eu=m.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?u.jsx(ru,{altText:r,asChild:!0,children:u.jsx(Wo,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Zc}\`. Expected non-empty \`string\`.`),null)});eu.displayName=Zc;var tu="ToastClose",Wo=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,n=Om(tu,r);return u.jsx(ru,{asChild:!0,children:u.jsx(oe.button,{type:"button",...s,ref:e,onClick:Q(t.onClick,n.onClose)})})});Wo.displayName=tu;var ru=m.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...n}=t;return u.jsx(oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:e})});function su(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),Um(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...su(s))}}),e}function on(t,e,r,{discrete:s}){const n=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&n.addEventListener(t,e,{once:!0}),s?Bc(n,i):n.dispatchEvent(i)}var Va=(t,e,r=0)=>{const s=Math.abs(t.x),n=Math.abs(t.y),i=s>n;return e==="left"||e==="right"?i&&s>r:!i&&n>r};function Lm(t=()=>{}){const e=it(t);Et(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function Um(t){return t.nodeType===t.ELEMENT_NODE}function Fm(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ti(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Bm=zc,nu=Gc,iu=Yc,ou=Qc,au=Xc,lu=eu,cu=Wo;function uu(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=uu(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function du(){for(var t,e,r=0,s="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=uu(t))&&(s&&(s+=" "),s+=e);return s}const Ha=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Wa=du,Zn=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return Wa(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(c=>{const d=r==null?void 0:r[c],f=i==null?void 0:i[c];if(d===null)return null;const p=Ha(d)||Ha(f);return n[c][p]}),a=r&&Object.entries(r).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(b=>{let[g,y]=b;return Array.isArray(y)?y.includes({...i,...a}[g]):{...i,...a}[g]===y})?[...c,f,p]:c},[]);return Wa(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hu=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...Vm,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:hu("lucide",n),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(t,e)=>{const r=m.forwardRef(({className:s,...n},i)=>m.createElement(Hm,{ref:i,iconNode:e,className:hu(`lucide-${qm(t)}`,s),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ae("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ae("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ae("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ae("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jo="-",ng=t=>{const e=og(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const a=o.split(Jo);return a[0]===""&&a.length!==1&&a.shift(),vu(a,e)||ig(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&s[o]?[...l,...s[o]]:l}}},vu=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),n=s?vu(t.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const i=t.join(Jo);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Qa=/^\[(.+)\]$/,ig=t=>{if(Qa.test(t)){const e=Qa.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},og=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return lg(Object.entries(t.classGroups),r).forEach(([i,o])=>{so(o,s,i,e)}),s},so=(t,e,r,s)=>{t.forEach(n=>{if(typeof n=="string"){const i=n===""?e:Xa(e,n);i.classGroupId=r;return}if(typeof n=="function"){if(ag(n)){so(n(s),e,r,s);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([i,o])=>{so(o,Xa(e,i),r,s)})})},Xa=(t,e)=>{let r=t;return e.split(Jo).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},ag=t=>t.isThemeGetter,lg=(t,e)=>e?t.map(([r,s])=>{const n=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,n]}):t,cg=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const n=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return n(i,o),o},set(i,o){r.has(i)?r.set(i,o):n(i,o)}}},wu="!",ug=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,n=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let y=0;y<a.length;y++){let w=a[y];if(c===0){if(w===n&&(s||a.slice(y,y+i)===e)){l.push(a.slice(d,y)),d=y+i;continue}if(w==="/"){f=y;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(d),h=p.startsWith(wu),b=h?p.substring(1):p,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:o}):o},dg=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},hg=t=>({cache:cg(t.cacheSize),parseClassName:ug(t),...ng(t)}),fg=/\s+/,pg=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=e,i=[],o=t.trim().split(fg);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=r(c);let b=!!h,g=s(b?p.substring(0,h):p);if(!g){if(!b){a=c+(a.length>0?" "+a:a);continue}if(g=s(p),!g){a=c+(a.length>0?" "+a:a);continue}b=!1}const y=dg(d).join(":"),w=f?y+wu:y,v=w+g;if(i.includes(v))continue;i.push(v);const x=n(g,b);for(let E=0;E<x.length;++E){const S=x[E];i.push(w+S)}a=c+(a.length>0?" "+a:a)}return a};function mg(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=xu(e))&&(s&&(s+=" "),s+=r);return s}const xu=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=xu(t[s]))&&(r&&(r+=" "),r+=e);return r};function gg(t,...e){let r,s,n,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return r=hg(c),s=r.cache.get,n=r.cache.set,i=a,a(l)}function a(l){const c=s(l);if(c)return c;const d=pg(l,r);return n(l,d),d}return function(){return i(mg.apply(null,arguments))}}const pe=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},_u=/^\[(?:([a-z-]+):)?(.+)\]$/i,yg=/^\d+\/\d+$/,bg=new Set(["px","full","screen"]),vg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_g=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Eg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bt=t=>zr(t)||bg.has(t)||yg.test(t),Mt=t=>ls(t,"length",Pg),zr=t=>!!t&&!Number.isNaN(Number(t)),Ai=t=>ls(t,"number",zr),gs=t=>!!t&&Number.isInteger(Number(t)),Sg=t=>t.endsWith("%")&&zr(t.slice(0,-1)),K=t=>_u.test(t),$t=t=>vg.test(t),Cg=new Set(["length","size","percentage"]),Tg=t=>ls(t,Cg,Eu),kg=t=>ls(t,"position",Eu),Ag=new Set(["image","url"]),jg=t=>ls(t,Ag,Og),Ng=t=>ls(t,"",Rg),ys=()=>!0,ls=(t,e,r)=>{const s=_u.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},Pg=t=>wg.test(t)&&!xg.test(t),Eu=()=>!1,Rg=t=>_g.test(t),Og=t=>Eg.test(t),Ig=()=>{const t=pe("colors"),e=pe("spacing"),r=pe("blur"),s=pe("brightness"),n=pe("borderColor"),i=pe("borderRadius"),o=pe("borderSpacing"),a=pe("borderWidth"),l=pe("contrast"),c=pe("grayscale"),d=pe("hueRotate"),f=pe("invert"),p=pe("gap"),h=pe("gradientColorStops"),b=pe("gradientColorStopPositions"),g=pe("inset"),y=pe("margin"),w=pe("opacity"),v=pe("padding"),x=pe("saturate"),E=pe("scale"),S=pe("sepia"),C=pe("skew"),k=pe("space"),A=pe("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",K,e],M=()=>[K,e],X=()=>["",bt,Mt],R=()=>["auto",zr,K],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",K],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],we=()=>[zr,K];return{cacheSize:500,separator:":",theme:{colors:[ys],spacing:[bt,Mt],blur:["none","",$t,K],brightness:we(),borderColor:[t],borderRadius:["none","","full",$t,K],borderSpacing:M(),borderWidth:X(),contrast:we(),grayscale:O(),hueRotate:we(),invert:O(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[Sg,Mt],inset:W(),margin:W(),opacity:we(),padding:M(),saturate:we(),scale:we(),sepia:O(),skew:we(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[$t]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),K]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gs,K]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",gs,K]}],"grid-cols":[{"grid-cols":[ys]}],"col-start-end":[{col:["auto",{span:["full",gs,K]},K]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[ys]}],"row-start-end":[{row:["auto",{span:[gs,K]},K]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,e]}],"min-w":[{"min-w":[K,e,"min","max","fit"]}],"max-w":[{"max-w":[K,e,"none","full","min","max","fit","prose",{screen:[$t]},$t]}],h:[{h:[K,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$t,Mt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ai]}],"font-family":[{font:[ys]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",zr,Ai]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bt,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bt,Mt]}],"underline-offset":[{"underline-offset":["auto",bt,K]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),kg]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tg]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jg]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[bt,K]}],"outline-w":[{outline:[bt,Mt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[bt,Mt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$t,Ng]}],"shadow-color":[{shadow:[ys]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$t,K]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:we()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:we()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[gs,K]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bt,Mt,Ai]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mg=gg(Ig);function de(...t){return Mg(du(t))}const $g=Bm,Su=m.forwardRef(({className:t,...e},r)=>u.jsx(nu,{ref:r,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Su.displayName=nu.displayName;const Dg=Zn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cu=m.forwardRef(({className:t,variant:e,...r},s)=>u.jsx(iu,{ref:s,className:de(Dg({variant:e}),t),...r}));Cu.displayName=iu.displayName;const Lg=m.forwardRef(({className:t,...e},r)=>u.jsx(lu,{ref:r,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Lg.displayName=lu.displayName;const Tu=m.forwardRef(({className:t,...e},r)=>u.jsx(cu,{ref:r,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Go,{className:"h-4 w-4"})}));Tu.displayName=cu.displayName;const ku=m.forwardRef(({className:t,...e},r)=>u.jsx(ou,{ref:r,className:de("text-sm font-semibold",t),...e}));ku.displayName=ou.displayName;const Au=m.forwardRef(({className:t,...e},r)=>u.jsx(au,{ref:r,className:de("text-sm opacity-90",t),...e}));Au.displayName=au.displayName;function Ug(){const{toasts:t}=Hp();return u.jsxs($g,{children:[t.map(function({id:e,title:r,description:s,action:n,...i}){return u.jsxs(Cu,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(ku,{children:r}),s&&u.jsx(Au,{children:s})]}),n,u.jsx(Tu,{})]},e)}),u.jsx(Su,{})]})}var Za=["light","dark"],Fg="(prefers-color-scheme: dark)",Bg=m.createContext(void 0),qg={setTheme:t=>{},themes:[]},Vg=()=>{var t;return(t=m.useContext(Bg))!=null?t:qg};m.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:s,enableColorScheme:n,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=n?Za.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,g=!1,y=!0)=>{let w=o?o[b]:b,v=g?b+"|| ''":`'${w}'`,x="";return n&&y&&!g&&Za.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?g||w?x+=`c.add(${v})`:x+="null":w&&(x+=`d[s](n,${v})`),x},h=t?`!function(){${d}${p(t)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Fg}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var Hg=t=>{switch(t){case"success":return Kg;case"info":return Jg;case"warning":return Gg;case"error":return Yg;default:return null}},Wg=Array(12).fill(0),zg=({visible:t,className:e})=>j.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},j.createElement("div",{className:"sonner-spinner"},Wg.map((r,s)=>j.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Kg=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Gg=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jg=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yg=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Qg=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},j.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),j.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Xg=()=>{let[t,e]=j.useState(document.hidden);return j.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},no=1,Zg=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...s}=t,n=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:no++,i=this.toasts.find(a=>a.id===n),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),i?this.toasts=this.toasts.map(a=>a.id===n?(this.publish({...a,...t,id:n,title:r}),{...a,...t,id:n,dismissible:o,title:r}):a):this.addToast({title:r,...s,dismissible:o,id:n}),n},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),n=r!==void 0,i,o=s.then(async l=>{if(i=["resolve",l],j.isValidElement(l))n=!1,this.create({id:r,type:"default",message:l});else if(ty(l)&&!l.ok){n=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:c,description:d})}else if(e.success!==void 0){n=!1;let c=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:c,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){n=!1;let c=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:c,description:d})}}).finally(()=>{var l;n&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||no++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Le=new Zg,ey=(t,e)=>{let r=(e==null?void 0:e.id)||no++;return Le.addToast({title:t,...e,id:r}),r},ty=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ry=ey,sy=()=>Le.toasts,ny=()=>Le.getActiveToasts(),Ie=Object.assign(ry,{success:Le.success,info:Le.info,warning:Le.warning,error:Le.error,custom:Le.custom,message:Le.message,promise:Le.promise,dismiss:Le.dismiss,loading:Le.loading},{getHistory:sy,getToasts:ny});function iy(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}iy(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function an(t){return t.label!==void 0}var oy=3,ay="32px",ly="16px",el=4e3,cy=356,uy=14,dy=20,hy=200;function Qe(...t){return t.filter(Boolean).join(" ")}function fy(t){let[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}var py=t=>{var e,r,s,n,i,o,a,l,c,d,f;let{invert:p,toast:h,unstyled:b,interacting:g,setHeights:y,visibleToasts:w,heights:v,index:x,toasts:E,expanded:S,removeToast:C,defaultRichColors:k,closeButton:A,style:D,cancelButtonStyle:I,actionButtonStyle:W,className:M="",descriptionClassName:X="",duration:R,position:J,gap:U,loadingIcon:G,expandByDefault:F,classNames:O,icons:ne,closeButtonAriaLabel:we="Close toast",pauseWhenPageIsHidden:Z}=t,[te,le]=j.useState(null),[Pe,At]=j.useState(null),[fe,Ar]=j.useState(!1),[jt,or]=j.useState(!1),[Nt,jr]=j.useState(!1),[Pt,en]=j.useState(!1),[vi,tn]=j.useState(!1),[wi,ps]=j.useState(0),[Nr,Na]=j.useState(0),ms=j.useRef(h.duration||R||el),Pa=j.useRef(null),ar=j.useRef(null),vp=x===0,wp=x+1<=w,He=h.type,Pr=h.dismissible!==!1,xp=h.className||"",_p=h.descriptionClassName||"",rn=j.useMemo(()=>v.findIndex(z=>z.toastId===h.id)||0,[v,h.id]),Ep=j.useMemo(()=>{var z;return(z=h.closeButton)!=null?z:A},[h.closeButton,A]),Ra=j.useMemo(()=>h.duration||R||el,[h.duration,R]),xi=j.useRef(0),Rr=j.useRef(0),Oa=j.useRef(0),Or=j.useRef(null),[Sp,Cp]=J.split("-"),Ia=j.useMemo(()=>v.reduce((z,ce,me)=>me>=rn?z:z+ce.height,0),[v,rn]),Ma=Xg(),Tp=h.invert||p,_i=He==="loading";Rr.current=j.useMemo(()=>rn*U+Ia,[rn,Ia]),j.useEffect(()=>{ms.current=Ra},[Ra]),j.useEffect(()=>{Ar(!0)},[]),j.useEffect(()=>{let z=ar.current;if(z){let ce=z.getBoundingClientRect().height;return Na(ce),y(me=>[{toastId:h.id,height:ce,position:h.position},...me]),()=>y(me=>me.filter(Ge=>Ge.toastId!==h.id))}},[y,h.id]),j.useLayoutEffect(()=>{if(!fe)return;let z=ar.current,ce=z.style.height;z.style.height="auto";let me=z.getBoundingClientRect().height;z.style.height=ce,Na(me),y(Ge=>Ge.find(Je=>Je.toastId===h.id)?Ge.map(Je=>Je.toastId===h.id?{...Je,height:me}:Je):[{toastId:h.id,height:me,position:h.position},...Ge])},[fe,h.title,h.description,y,h.id]);let Rt=j.useCallback(()=>{or(!0),ps(Rr.current),y(z=>z.filter(ce=>ce.toastId!==h.id)),setTimeout(()=>{C(h)},hy)},[h,C,y,Rr]);j.useEffect(()=>{if(h.promise&&He==="loading"||h.duration===1/0||h.type==="loading")return;let z;return S||g||Z&&Ma?(()=>{if(Oa.current<xi.current){let ce=new Date().getTime()-xi.current;ms.current=ms.current-ce}Oa.current=new Date().getTime()})():ms.current!==1/0&&(xi.current=new Date().getTime(),z=setTimeout(()=>{var ce;(ce=h.onAutoClose)==null||ce.call(h,h),Rt()},ms.current)),()=>clearTimeout(z)},[S,g,h,He,Z,Ma,Rt]),j.useEffect(()=>{h.delete&&Rt()},[Rt,h.delete]);function kp(){var z,ce,me;return ne!=null&&ne.loading?j.createElement("div",{className:Qe(O==null?void 0:O.loader,(z=h==null?void 0:h.classNames)==null?void 0:z.loader,"sonner-loader"),"data-visible":He==="loading"},ne.loading):G?j.createElement("div",{className:Qe(O==null?void 0:O.loader,(ce=h==null?void 0:h.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":He==="loading"},G):j.createElement(zg,{className:Qe(O==null?void 0:O.loader,(me=h==null?void 0:h.classNames)==null?void 0:me.loader),visible:He==="loading"})}return j.createElement("li",{tabIndex:0,ref:ar,className:Qe(M,xp,O==null?void 0:O.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[He],(r=h==null?void 0:h.classNames)==null?void 0:r[He]),"data-sonner-toast":"","data-rich-colors":(s=h.richColors)!=null?s:k,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":fe,"data-promise":!!h.promise,"data-swiped":vi,"data-removed":jt,"data-visible":wp,"data-y-position":Sp,"data-x-position":Cp,"data-index":x,"data-front":vp,"data-swiping":Nt,"data-dismissible":Pr,"data-type":He,"data-invert":Tp,"data-swipe-out":Pt,"data-swipe-direction":Pe,"data-expanded":!!(S||F&&fe),style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${jt?wi:Rr.current}px`,"--initial-height":F?"auto":`${Nr}px`,...D,...h.style},onDragEnd:()=>{jr(!1),le(null),Or.current=null},onPointerDown:z=>{_i||!Pr||(Pa.current=new Date,ps(Rr.current),z.target.setPointerCapture(z.pointerId),z.target.tagName!=="BUTTON"&&(jr(!0),Or.current={x:z.clientX,y:z.clientY}))},onPointerUp:()=>{var z,ce,me,Ge;if(Pt||!Pr)return;Or.current=null;let Je=Number(((z=ar.current)==null?void 0:z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ot=Number(((ce=ar.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lr=new Date().getTime()-((me=Pa.current)==null?void 0:me.getTime()),Ye=te==="x"?Je:Ot,It=Math.abs(Ye)/lr;if(Math.abs(Ye)>=dy||It>.11){ps(Rr.current),(Ge=h.onDismiss)==null||Ge.call(h,h),At(te==="x"?Je>0?"right":"left":Ot>0?"down":"up"),Rt(),en(!0),tn(!1);return}jr(!1),le(null)},onPointerMove:z=>{var ce,me,Ge,Je;if(!Or.current||!Pr||((ce=window.getSelection())==null?void 0:ce.toString().length)>0)return;let Ot=z.clientY-Or.current.y,lr=z.clientX-Or.current.x,Ye=(me=t.swipeDirections)!=null?me:fy(J);!te&&(Math.abs(lr)>1||Math.abs(Ot)>1)&&le(Math.abs(lr)>Math.abs(Ot)?"x":"y");let It={x:0,y:0};te==="y"?(Ye.includes("top")||Ye.includes("bottom"))&&(Ye.includes("top")&&Ot<0||Ye.includes("bottom")&&Ot>0)&&(It.y=Ot):te==="x"&&(Ye.includes("left")||Ye.includes("right"))&&(Ye.includes("left")&&lr<0||Ye.includes("right")&&lr>0)&&(It.x=lr),(Math.abs(It.x)>0||Math.abs(It.y)>0)&&tn(!0),(Ge=ar.current)==null||Ge.style.setProperty("--swipe-amount-x",`${It.x}px`),(Je=ar.current)==null||Je.style.setProperty("--swipe-amount-y",`${It.y}px`)}},Ep&&!h.jsx?j.createElement("button",{"aria-label":we,"data-disabled":_i,"data-close-button":!0,onClick:_i||!Pr?()=>{}:()=>{var z;Rt(),(z=h.onDismiss)==null||z.call(h,h)},className:Qe(O==null?void 0:O.closeButton,(n=h==null?void 0:h.classNames)==null?void 0:n.closeButton)},(i=ne==null?void 0:ne.close)!=null?i:Qg):null,h.jsx||m.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:j.createElement(j.Fragment,null,He||h.icon||h.promise?j.createElement("div",{"data-icon":"",className:Qe(O==null?void 0:O.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||kp():null,h.type!=="loading"?h.icon||(ne==null?void 0:ne[He])||Hg(He):null):null,j.createElement("div",{"data-content":"",className:Qe(O==null?void 0:O.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},j.createElement("div",{"data-title":"",className:Qe(O==null?void 0:O.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?j.createElement("div",{"data-description":"",className:Qe(X,_p,O==null?void 0:O.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),m.isValidElement(h.cancel)?h.cancel:h.cancel&&an(h.cancel)?j.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:z=>{var ce,me;an(h.cancel)&&Pr&&((me=(ce=h.cancel).onClick)==null||me.call(ce,z),Rt())},className:Qe(O==null?void 0:O.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,m.isValidElement(h.action)?h.action:h.action&&an(h.action)?j.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||W,onClick:z=>{var ce,me;an(h.action)&&((me=(ce=h.action).onClick)==null||me.call(ce,z),!z.defaultPrevented&&Rt())},className:Qe(O==null?void 0:O.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function tl(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function my(t,e){let r={};return[t,e].forEach((s,n)=>{let i=n===1,o=i?"--mobile-offset":"--offset",a=i?ly:ay;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(c=>{s[c]===void 0?r[`${o}-${c}`]=a:r[`${o}-${c}`]=typeof s[c]=="number"?`${s[c]}px`:s[c]}):l(a)}),r}var gy=m.forwardRef(function(t,e){let{invert:r,position:s="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:p,style:h,visibleToasts:b=oy,toastOptions:g,dir:y=tl(),gap:w=uy,loadingIcon:v,icons:x,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:S}=t,[C,k]=j.useState([]),A=j.useMemo(()=>Array.from(new Set([s].concat(C.filter(Z=>Z.position).map(Z=>Z.position)))),[C,s]),[D,I]=j.useState([]),[W,M]=j.useState(!1),[X,R]=j.useState(!1),[J,U]=j.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=j.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=j.useRef(null),ne=j.useRef(!1),we=j.useCallback(Z=>{k(te=>{var le;return(le=te.find(Pe=>Pe.id===Z.id))!=null&&le.delete||Le.dismiss(Z.id),te.filter(({id:Pe})=>Pe!==Z.id)})},[]);return j.useEffect(()=>Le.subscribe(Z=>{if(Z.dismiss){k(te=>te.map(le=>le.id===Z.id?{...le,delete:!0}:le));return}setTimeout(()=>{Mc.flushSync(()=>{k(te=>{let le=te.findIndex(Pe=>Pe.id===Z.id);return le!==-1?[...te.slice(0,le),{...te[le],...Z},...te.slice(le+1)]:[Z,...te]})})})}),[]),j.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:te})=>{U(te?"dark":"light")})}catch{Z.addListener(({matches:le})=>{try{U(le?"dark":"light")}catch(Pe){console.error(Pe)}})}},[d]),j.useEffect(()=>{C.length<=1&&M(!1)},[C]),j.useEffect(()=>{let Z=te=>{var le,Pe;n.every(At=>te[At]||te.code===At)&&(M(!0),(le=G.current)==null||le.focus()),te.code==="Escape"&&(document.activeElement===G.current||(Pe=G.current)!=null&&Pe.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[n]),j.useEffect(()=>{if(G.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,ne.current=!1)}},[G.current]),j.createElement("section",{ref:e,"aria-label":`${E} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((Z,te)=>{var le;let[Pe,At]=Z.split("-");return C.length?j.createElement("ol",{key:Z,dir:y==="auto"?tl():y,tabIndex:-1,ref:G,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":Pe,"data-lifted":W&&C.length>1&&!i,"data-x-position":At,style:{"--front-toast-height":`${((le=D[0])==null?void 0:le.height)||0}px`,"--width":`${cy}px`,"--gap":`${w}px`,...h,...my(l,c)},onBlur:fe=>{ne.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(ne.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,O.current=fe.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{X||M(!1)},onDragEnd:()=>M(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},C.filter(fe=>!fe.position&&te===0||fe.position===Z).map((fe,Ar)=>{var jt,or;return j.createElement(py,{key:fe.id,icons:x,index:Ar,toast:fe,defaultRichColors:f,duration:(jt=g==null?void 0:g.duration)!=null?jt:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(or=g==null?void 0:g.closeButton)!=null?or:o,interacting:X,position:Z,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:we,toasts:C.filter(Nt=>Nt.position==fe.position),heights:D.filter(Nt=>Nt.position==fe.position),setHeights:I,expandByDefault:i,gap:w,loadingIcon:v,expanded:W,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const yy=({...t})=>{const{theme:e="system"}=Vg();return u.jsx(gy,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var by=Gn[" useId ".trim().toString()]||(()=>{}),vy=0;function Ss(t){const[e,r]=m.useState(by());return Et(()=>{r(s=>s??String(vy++))},[t]),e?`radix-${e}`:""}const wy=["top","right","bottom","left"],Xt=Math.min,Ue=Math.max,On=Math.round,ln=Math.floor,mt=t=>({x:t,y:t}),xy={left:"right",right:"left",bottom:"top",top:"bottom"},_y={start:"end",end:"start"};function io(t,e,r){return Ue(t,Xt(e,r))}function St(t,e){return typeof t=="function"?t(e):t}function Ct(t){return t.split("-")[0]}function cs(t){return t.split("-")[1]}function Yo(t){return t==="x"?"y":"x"}function Qo(t){return t==="y"?"height":"width"}const Ey=new Set(["top","bottom"]);function pt(t){return Ey.has(Ct(t))?"y":"x"}function Xo(t){return Yo(pt(t))}function Sy(t,e,r){r===void 0&&(r=!1);const s=cs(t),n=Xo(t),i=Qo(n);let o=n==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=In(o)),[o,In(o)]}function Cy(t){const e=In(t);return[oo(t),e,oo(e)]}function oo(t){return t.replace(/start|end/g,e=>_y[e])}const rl=["left","right"],sl=["right","left"],Ty=["top","bottom"],ky=["bottom","top"];function Ay(t,e,r){switch(t){case"top":case"bottom":return r?e?sl:rl:e?rl:sl;case"left":case"right":return e?Ty:ky;default:return[]}}function jy(t,e,r,s){const n=cs(t);let i=Ay(Ct(t),r==="start",s);return n&&(i=i.map(o=>o+"-"+n),e&&(i=i.concat(i.map(oo)))),i}function In(t){return t.replace(/left|right|bottom|top/g,e=>xy[e])}function Ny(t){return{top:0,right:0,bottom:0,left:0,...t}}function ju(t){return typeof t!="number"?Ny(t):{top:t,right:t,bottom:t,left:t}}function Mn(t){const{x:e,y:r,width:s,height:n}=t;return{width:s,height:n,top:r,left:e,right:e+s,bottom:r+n,x:e,y:r}}function nl(t,e,r){let{reference:s,floating:n}=t;const i=pt(e),o=Xo(e),a=Qo(o),l=Ct(e),c=i==="y",d=s.x+s.width/2-n.width/2,f=s.y+s.height/2-n.height/2,p=s[a]/2-n[a]/2;let h;switch(l){case"top":h={x:d,y:s.y-n.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-n.width,y:f};break;default:h={x:s.x,y:s.y}}switch(cs(e)){case"start":h[o]-=p*(r&&c?-1:1);break;case"end":h[o]+=p*(r&&c?-1:1);break}return h}const Py=async(t,e,r)=>{const{placement:s="bottom",strategy:n="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:n}),{x:d,y:f}=nl(c,s,l),p=s,h={},b=0;for(let g=0;g<a.length;g++){const{name:y,fn:w}=a[g],{x:v,y:x,data:E,reset:S}=await w({x:d,y:f,initialPlacement:s,placement:p,strategy:n,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,f=x??f,h={...h,[y]:{...h[y],...E}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:n}):S.rects),{x:d,y:f}=nl(c,p,l)),g=-1)}return{x:d,y:f,placement:p,strategy:n,middlewareData:h}};async function As(t,e){var r;e===void 0&&(e={});const{x:s,y:n,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=St(e,t),b=ju(h),y=a[p?f==="floating"?"reference":"floating":f],w=Mn(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=f==="floating"?{x:s,y:n,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Mn(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(w.top-S.top+b.top)/E.y,bottom:(S.bottom-w.bottom+b.bottom)/E.y,left:(w.left-S.left+b.left)/E.x,right:(S.right-w.right+b.right)/E.x}}const Ry=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:n,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=St(t,e)||{};if(c==null)return{};const f=ju(d),p={x:r,y:s},h=Xo(n),b=Qo(h),g=await o.getDimensions(c),y=h==="y",w=y?"top":"left",v=y?"bottom":"right",x=y?"clientHeight":"clientWidth",E=i.reference[b]+i.reference[h]-p[h]-i.floating[b],S=p[h]-i.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=C?C[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(C)))&&(k=a.floating[x]||i.floating[b]);const A=E/2-S/2,D=k/2-g[b]/2-1,I=Xt(f[w],D),W=Xt(f[v],D),M=I,X=k-g[b]-W,R=k/2-g[b]/2+A,J=io(M,R,X),U=!l.arrow&&cs(n)!=null&&R!==J&&i.reference[b]/2-(R<M?I:W)-g[b]/2<0,G=U?R<M?R-M:R-X:0;return{[h]:p[h]+G,data:{[h]:J,centerOffset:R-J-G,...U&&{alignmentOffset:G}},reset:U}}}),Oy=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:n,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...y}=St(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Ct(n),v=pt(a),x=Ct(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=p||(x||!g?[In(a)]:Cy(a)),C=b!=="none";!p&&C&&S.push(...jy(a,g,b,E));const k=[a,...S],A=await As(e,y),D=[];let I=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&D.push(A[w]),f){const R=Sy(n,o,E);D.push(A[R[0]],A[R[1]])}if(I=[...I,{placement:n,overflows:D}],!D.every(R=>R<=0)){var W,M;const R=(((W=i.flip)==null?void 0:W.index)||0)+1,J=k[R];if(J&&(!(f==="alignment"?v!==pt(J):!1)||I.every(F=>pt(F.placement)===v?F.overflows[0]>0:!0)))return{data:{index:R,overflows:I},reset:{placement:J}};let U=(M=I.filter(G=>G.overflows[0]<=0).sort((G,F)=>G.overflows[1]-F.overflows[1])[0])==null?void 0:M.placement;if(!U)switch(h){case"bestFit":{var X;const G=(X=I.filter(F=>{if(C){const O=pt(F.placement);return O===v||O==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(O=>O>0).reduce((O,ne)=>O+ne,0)]).sort((F,O)=>F[1]-O[1])[0])==null?void 0:X[0];G&&(U=G);break}case"initialPlacement":U=a;break}if(n!==U)return{reset:{placement:U}}}return{}}}};function il(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ol(t){return wy.some(e=>t[e]>=0)}const Iy=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...n}=St(t,e);switch(s){case"referenceHidden":{const i=await As(e,{...n,elementContext:"reference"}),o=il(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ol(o)}}}case"escaped":{const i=await As(e,{...n,altBoundary:!0}),o=il(i,r.floating);return{data:{escapedOffsets:o,escaped:ol(o)}}}default:return{}}}}},Nu=new Set(["left","top"]);async function My(t,e){const{placement:r,platform:s,elements:n}=t,i=await(s.isRTL==null?void 0:s.isRTL(n.floating)),o=Ct(r),a=cs(r),l=pt(r)==="y",c=Nu.has(o)?-1:1,d=i&&l?-1:1,f=St(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(h=a==="end"?b*-1:b),l?{x:h*d,y:p*c}:{x:p*c,y:h*d}}const $y=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:n,y:i,placement:o,middlewareData:a}=e,l=await My(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:n+l.x,y:i+l.y,data:{...l,placement:o}}}}},Dy=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:n}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:v}=y;return{x:w,y:v}}},...l}=St(t,e),c={x:r,y:s},d=await As(e,l),f=pt(Ct(n)),p=Yo(f);let h=c[p],b=c[f];if(i){const y=p==="y"?"top":"left",w=p==="y"?"bottom":"right",v=h+d[y],x=h-d[w];h=io(v,h,x)}if(o){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=b+d[y],x=b-d[w];b=io(v,b,x)}const g=a.fn({...e,[p]:h,[f]:b});return{...g,data:{x:g.x-r,y:g.y-s,enabled:{[p]:i,[f]:o}}}}}},Ly=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:n,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=St(t,e),d={x:r,y:s},f=pt(n),p=Yo(f);let h=d[p],b=d[f];const g=St(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=p==="y"?"height":"width",E=i.reference[p]-i.floating[x]+y.mainAxis,S=i.reference[p]+i.reference[x]-y.mainAxis;h<E?h=E:h>S&&(h=S)}if(c){var w,v;const x=p==="y"?"width":"height",E=Nu.has(Ct(n)),S=i.reference[f]-i.floating[x]+(E&&((w=o.offset)==null?void 0:w[f])||0)+(E?0:y.crossAxis),C=i.reference[f]+i.reference[x]+(E?0:((v=o.offset)==null?void 0:v[f])||0)-(E?y.crossAxis:0);b<S?b=S:b>C&&(b=C)}return{[p]:h,[f]:b}}}},Uy=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:n,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=St(t,e),d=await As(e,c),f=Ct(n),p=cs(n),h=pt(n)==="y",{width:b,height:g}=i.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,y=p==="end"?"top":"bottom");const v=g-d.top-d.bottom,x=b-d.left-d.right,E=Xt(g-d[y],v),S=Xt(b-d[w],x),C=!e.middlewareData.shift;let k=E,A=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=x),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(k=v),C&&!p){const I=Ue(d.left,0),W=Ue(d.right,0),M=Ue(d.top,0),X=Ue(d.bottom,0);h?A=b-2*(I!==0||W!==0?I+W:Ue(d.left,d.right)):k=g-2*(M!==0||X!==0?M+X:Ue(d.top,d.bottom))}await l({...e,availableWidth:A,availableHeight:k});const D=await o.getDimensions(a.floating);return b!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function ei(){return typeof window<"u"}function us(t){return Pu(t)?(t.nodeName||"").toLowerCase():"#document"}function qe(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yt(t){var e;return(e=(Pu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pu(t){return ei()?t instanceof Node||t instanceof qe(t).Node:!1}function ot(t){return ei()?t instanceof Element||t instanceof qe(t).Element:!1}function gt(t){return ei()?t instanceof HTMLElement||t instanceof qe(t).HTMLElement:!1}function al(t){return!ei()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qe(t).ShadowRoot}const Fy=new Set(["inline","contents"]);function zs(t){const{overflow:e,overflowX:r,overflowY:s,display:n}=at(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!Fy.has(n)}const By=new Set(["table","td","th"]);function qy(t){return By.has(us(t))}const Vy=[":popover-open",":modal"];function ti(t){return Vy.some(e=>{try{return t.matches(e)}catch{return!1}})}const Hy=["transform","translate","scale","rotate","perspective"],Wy=["transform","translate","scale","rotate","perspective","filter"],zy=["paint","layout","strict","content"];function Zo(t){const e=ea(),r=ot(t)?at(t):t;return Hy.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Wy.some(s=>(r.willChange||"").includes(s))||zy.some(s=>(r.contain||"").includes(s))}function Ky(t){let e=Zt(t);for(;gt(e)&&!ns(e);){if(Zo(e))return e;if(ti(e))return null;e=Zt(e)}return null}function ea(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gy=new Set(["html","body","#document"]);function ns(t){return Gy.has(us(t))}function at(t){return qe(t).getComputedStyle(t)}function ri(t){return ot(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zt(t){if(us(t)==="html")return t;const e=t.assignedSlot||t.parentNode||al(t)&&t.host||yt(t);return al(e)?e.host:e}function Ru(t){const e=Zt(t);return ns(e)?t.ownerDocument?t.ownerDocument.body:t.body:gt(e)&&zs(e)?e:Ru(e)}function js(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const n=Ru(t),i=n===((s=t.ownerDocument)==null?void 0:s.body),o=qe(n);if(i){const a=ao(o);return e.concat(o,o.visualViewport||[],zs(n)?n:[],a&&r?js(a):[])}return e.concat(n,js(n,[],r))}function ao(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ou(t){const e=at(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=gt(t),i=n?t.offsetWidth:r,o=n?t.offsetHeight:s,a=On(r)!==i||On(s)!==o;return a&&(r=i,s=o),{width:r,height:s,$:a}}function ta(t){return ot(t)?t:t.contextElement}function Kr(t){const e=ta(t);if(!gt(e))return mt(1);const r=e.getBoundingClientRect(),{width:s,height:n,$:i}=Ou(e);let o=(i?On(r.width):r.width)/s,a=(i?On(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Jy=mt(0);function Iu(t){const e=qe(t);return!ea()||!e.visualViewport?Jy:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Yy(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==qe(t)?!1:e}function Tr(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=ta(t);let o=mt(1);e&&(s?ot(s)&&(o=Kr(s)):o=Kr(t));const a=Yy(i,r,s)?Iu(i):mt(0);let l=(n.left+a.x)/o.x,c=(n.top+a.y)/o.y,d=n.width/o.x,f=n.height/o.y;if(i){const p=qe(i),h=s&&ot(s)?qe(s):s;let b=p,g=ao(b);for(;g&&s&&h!==b;){const y=Kr(g),w=g.getBoundingClientRect(),v=at(g),x=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,E=w.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,f*=y.y,l+=x,c+=E,b=qe(g),g=ao(b)}}return Mn({width:d,height:f,x:l,y:c})}function si(t,e){const r=ri(t).scrollLeft;return e?e.left+r:Tr(yt(t)).left+r}function Mu(t,e){const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-si(t,r),n=r.top+e.scrollTop;return{x:s,y:n}}function Qy(t){let{elements:e,rect:r,offsetParent:s,strategy:n}=t;const i=n==="fixed",o=yt(s),a=e?ti(e.floating):!1;if(s===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=mt(1);const d=mt(0),f=gt(s);if((f||!f&&!i)&&((us(s)!=="body"||zs(o))&&(l=ri(s)),gt(s))){const h=Tr(s);c=Kr(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}const p=o&&!f&&!i?Mu(o,l):mt(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:r.y*c.y-l.scrollTop*c.y+d.y+p.y}}function Xy(t){return Array.from(t.getClientRects())}function Zy(t){const e=yt(t),r=ri(t),s=t.ownerDocument.body,n=Ue(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Ue(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+si(t);const a=-r.scrollTop;return at(s).direction==="rtl"&&(o+=Ue(e.clientWidth,s.clientWidth)-n),{width:n,height:i,x:o,y:a}}const ll=25;function eb(t,e){const r=qe(t),s=yt(t),n=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,a=0,l=0;if(n){i=n.width,o=n.height;const d=ea();(!d||d&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}const c=si(s);if(c<=0){const d=s.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(s.clientWidth-f.clientWidth-h);b<=ll&&(i-=b)}else c<=ll&&(i+=c);return{width:i,height:o,x:a,y:l}}const tb=new Set(["absolute","fixed"]);function rb(t,e){const r=Tr(t,!0,e==="fixed"),s=r.top+t.clientTop,n=r.left+t.clientLeft,i=gt(t)?Kr(t):mt(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=n*i.x,c=s*i.y;return{width:o,height:a,x:l,y:c}}function cl(t,e,r){let s;if(e==="viewport")s=eb(t,r);else if(e==="document")s=Zy(yt(t));else if(ot(e))s=rb(e,r);else{const n=Iu(t);s={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return Mn(s)}function $u(t,e){const r=Zt(t);return r===e||!ot(r)||ns(r)?!1:at(r).position==="fixed"||$u(r,e)}function sb(t,e){const r=e.get(t);if(r)return r;let s=js(t,[],!1).filter(a=>ot(a)&&us(a)!=="body"),n=null;const i=at(t).position==="fixed";let o=i?Zt(t):t;for(;ot(o)&&!ns(o);){const a=at(o),l=Zo(o);!l&&a.position==="fixed"&&(n=null),(i?!l&&!n:!l&&a.position==="static"&&!!n&&tb.has(n.position)||zs(o)&&!l&&$u(t,o))?s=s.filter(d=>d!==o):n=a,o=Zt(o)}return e.set(t,s),s}function nb(t){let{element:e,boundary:r,rootBoundary:s,strategy:n}=t;const o=[...r==="clippingAncestors"?ti(e)?[]:sb(e,this._c):[].concat(r),s],a=o[0],l=o.reduce((c,d)=>{const f=cl(e,d,n);return c.top=Ue(f.top,c.top),c.right=Xt(f.right,c.right),c.bottom=Xt(f.bottom,c.bottom),c.left=Ue(f.left,c.left),c},cl(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ib(t){const{width:e,height:r}=Ou(t);return{width:e,height:r}}function ob(t,e,r){const s=gt(e),n=yt(e),i=r==="fixed",o=Tr(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=mt(0);function c(){l.x=si(n)}if(s||!s&&!i)if((us(e)!=="body"||zs(n))&&(a=ri(e)),s){const h=Tr(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else n&&c();i&&!s&&n&&c();const d=n&&!s&&!i?Mu(n,a):mt(0),f=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function ji(t){return at(t).position==="static"}function ul(t,e){if(!gt(t)||at(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return yt(t)===r&&(r=r.ownerDocument.body),r}function Du(t,e){const r=qe(t);if(ti(t))return r;if(!gt(t)){let n=Zt(t);for(;n&&!ns(n);){if(ot(n)&&!ji(n))return n;n=Zt(n)}return r}let s=ul(t,e);for(;s&&qy(s)&&ji(s);)s=ul(s,e);return s&&ns(s)&&ji(s)&&!Zo(s)?r:s||Ky(t)||r}const ab=async function(t){const e=this.getOffsetParent||Du,r=this.getDimensions,s=await r(t.floating);return{reference:ob(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function lb(t){return at(t).direction==="rtl"}const cb={convertOffsetParentRelativeRectToViewportRelativeRect:Qy,getDocumentElement:yt,getClippingRect:nb,getOffsetParent:Du,getElementRects:ab,getClientRects:Xy,getDimensions:ib,getScale:Kr,isElement:ot,isRTL:lb};function Lu(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ub(t,e){let r=null,s;const n=yt(t);function i(){var a;clearTimeout(s),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=c;if(a||e(),!p||!h)return;const b=ln(f),g=ln(n.clientWidth-(d+p)),y=ln(n.clientHeight-(f+h)),w=ln(d),x={rootMargin:-b+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Ue(0,Xt(1,l))||1};let E=!0;function S(C){const k=C[0].intersectionRatio;if(k!==l){if(!E)return o();k?o(!1,k):s=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!Lu(c,t.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(S,{...x,root:n.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(t)}return o(!0),i}function db(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=ta(t),d=n||i?[...c?js(c):[],...js(e)]:[];d.forEach(w=>{n&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const f=c&&a?ub(c,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(e)})),r()}),c&&!l&&h.observe(c),h.observe(e));let b,g=l?Tr(t):null;l&&y();function y(){const w=Tr(t);g&&!Lu(g,w)&&r(),g=w,b=requestAnimationFrame(y)}return r(),()=>{var w;d.forEach(v=>{n&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(w=h)==null||w.disconnect(),h=null,l&&cancelAnimationFrame(b)}}const hb=$y,fb=Dy,pb=Oy,mb=Uy,gb=Iy,dl=Ry,yb=Ly,bb=(t,e,r)=>{const s=new Map,n={platform:cb,...r},i={...n.platform,_c:s};return Py(t,e,{...n,platform:i})};var vb=typeof document<"u",wb=function(){},Cn=vb?m.useLayoutEffect:wb;function $n(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,n;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!$n(t[s],e[s]))return!1;return!0}if(n=Object.keys(t),r=n.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,n[s]))return!1;for(s=r;s--!==0;){const i=n[s];if(!(i==="_owner"&&t.$$typeof)&&!$n(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Uu(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hl(t,e){const r=Uu(t);return Math.round(e*r)/r}function Ni(t){const e=m.useRef(t);return Cn(()=>{e.current=t}),e}function xb(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:n,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=m.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=m.useState(s);$n(p,s)||h(s);const[b,g]=m.useState(null),[y,w]=m.useState(null),v=m.useCallback(F=>{F!==C.current&&(C.current=F,g(F))},[]),x=m.useCallback(F=>{F!==k.current&&(k.current=F,w(F))},[]),E=i||b,S=o||y,C=m.useRef(null),k=m.useRef(null),A=m.useRef(d),D=l!=null,I=Ni(l),W=Ni(n),M=Ni(c),X=m.useCallback(()=>{if(!C.current||!k.current)return;const F={placement:e,strategy:r,middleware:p};W.current&&(F.platform=W.current),bb(C.current,k.current,F).then(O=>{const ne={...O,isPositioned:M.current!==!1};R.current&&!$n(A.current,ne)&&(A.current=ne,Kn.flushSync(()=>{f(ne)}))})},[p,e,r,W,M]);Cn(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const R=m.useRef(!1);Cn(()=>(R.current=!0,()=>{R.current=!1}),[]),Cn(()=>{if(E&&(C.current=E),S&&(k.current=S),E&&S){if(I.current)return I.current(E,S,X);X()}},[E,S,X,I,D]);const J=m.useMemo(()=>({reference:C,floating:k,setReference:v,setFloating:x}),[v,x]),U=m.useMemo(()=>({reference:E,floating:S}),[E,S]),G=m.useMemo(()=>{const F={position:r,left:0,top:0};if(!U.floating)return F;const O=hl(U.floating,d.x),ne=hl(U.floating,d.y);return a?{...F,transform:"translate("+O+"px, "+ne+"px)",...Uu(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:ne}},[r,a,U.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:X,refs:J,elements:U,floatingStyles:G}),[d,X,J,U,G])}const _b=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:n}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?dl({element:s.current,padding:n}).fn(r):{}:s?dl({element:s,padding:n}).fn(r):{}}}},Eb=(t,e)=>({...hb(t),options:[t,e]}),Sb=(t,e)=>({...fb(t),options:[t,e]}),Cb=(t,e)=>({...yb(t),options:[t,e]}),Tb=(t,e)=>({...pb(t),options:[t,e]}),kb=(t,e)=>({...mb(t),options:[t,e]}),Ab=(t,e)=>({...gb(t),options:[t,e]}),jb=(t,e)=>({..._b(t),options:[t,e]});var Nb="Arrow",Fu=m.forwardRef((t,e)=>{const{children:r,width:s=10,height:n=5,...i}=t;return u.jsx(oe.svg,{...i,ref:e,width:s,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Fu.displayName=Nb;var Pb=Fu;function Bu(t){const[e,r]=m.useState(void 0);return Et(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var qu="Popper",[Vu,Hu]=er(qu),[GC,Wu]=Vu(qu),zu="PopperAnchor",Ku=m.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...n}=t,i=Wu(zu,r),o=m.useRef(null),a=ke(e,o),l=m.useRef(null);return m.useEffect(()=>{const c=l.current;l.current=(s==null?void 0:s.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),s?null:u.jsx(oe.div,{...n,ref:a})});Ku.displayName=zu;var ra="PopperContent",[Rb,Ob]=Vu(ra),Gu=m.forwardRef((t,e)=>{var fe,Ar,jt,or,Nt,jr;const{__scopePopper:r,side:s="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:b,...g}=t,y=Wu(ra,r),[w,v]=m.useState(null),x=ke(e,Pt=>v(Pt)),[E,S]=m.useState(null),C=Bu(E),k=(C==null?void 0:C.width)??0,A=(C==null?void 0:C.height)??0,D=s+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(c)?c:[c],M=W.length>0,X={padding:I,boundary:W.filter(Mb),altBoundary:M},{refs:R,floatingStyles:J,placement:U,isPositioned:G,middlewareData:F}=xb({strategy:"fixed",placement:D,whileElementsMounted:(...Pt)=>db(...Pt,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[Eb({mainAxis:n+A,alignmentAxis:o}),l&&Sb({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Cb():void 0,...X}),l&&Tb({...X}),kb({...X,apply:({elements:Pt,rects:en,availableWidth:vi,availableHeight:tn})=>{const{width:wi,height:ps}=en.reference,Nr=Pt.floating.style;Nr.setProperty("--radix-popper-available-width",`${vi}px`),Nr.setProperty("--radix-popper-available-height",`${tn}px`),Nr.setProperty("--radix-popper-anchor-width",`${wi}px`),Nr.setProperty("--radix-popper-anchor-height",`${ps}px`)}}),E&&jb({element:E,padding:a}),$b({arrowWidth:k,arrowHeight:A}),p&&Ab({strategy:"referenceHidden",...X})]}),[O,ne]=Qu(U),we=it(b);Et(()=>{G&&(we==null||we())},[G,we]);const Z=(fe=F.arrow)==null?void 0:fe.x,te=(Ar=F.arrow)==null?void 0:Ar.y,le=((jt=F.arrow)==null?void 0:jt.centerOffset)!==0,[Pe,At]=m.useState();return Et(()=>{w&&At(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:G?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(or=F.transformOrigin)==null?void 0:or.x,(Nt=F.transformOrigin)==null?void 0:Nt.y].join(" "),...((jr=F.hide)==null?void 0:jr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Rb,{scope:r,placedSide:O,onArrowChange:S,arrowX:Z,arrowY:te,shouldHideArrow:le,children:u.jsx(oe.div,{"data-side":O,"data-align":ne,...g,ref:x,style:{...g.style,animation:G?void 0:"none"}})})})});Gu.displayName=ra;var Ju="PopperArrow",Ib={top:"bottom",right:"left",bottom:"top",left:"right"},Yu=m.forwardRef(function(e,r){const{__scopePopper:s,...n}=e,i=Ob(Ju,s),o=Ib[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(Pb,{...n,ref:r,style:{...n.style,display:"block"}})})});Yu.displayName=Ju;function Mb(t){return t!==null}var $b=t=>({name:"transformOrigin",options:t,fn(e){var y,w,v;const{placement:r,rects:s,middlewareData:n}=e,o=((y=n.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=Qu(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=n.arrow)==null?void 0:w.x)??0)+a/2,h=(((v=n.arrow)==null?void 0:v.y)??0)+l/2;let b="",g="";return c==="bottom"?(b=o?f:`${p}px`,g=`${-l}px`):c==="top"?(b=o?f:`${p}px`,g=`${s.floating.height+l}px`):c==="right"?(b=`${-l}px`,g=o?f:`${h}px`):c==="left"&&(b=`${s.floating.width+l}px`,g=o?f:`${h}px`),{data:{x:b,y:g}}}});function Qu(t){const[e,r="center"]=t.split("-");return[e,r]}var Db=Ku,Lb=Gu,Ub=Yu,Fb=Symbol("radix.slottable");function Bb(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Fb,e}var[ni]=er("Tooltip",[Hu]),sa=Hu(),Xu="TooltipProvider",qb=700,fl="tooltip.open",[Vb,Zu]=ni(Xu),ed=t=>{const{__scopeTooltip:e,delayDuration:r=qb,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:i}=t,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(Vb,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:n,children:i})};ed.displayName=Xu;var td="Tooltip",[JC,ii]=ni(td),lo="TooltipTrigger",Hb=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,n=ii(lo,r),i=Zu(lo,r),o=sa(r),a=m.useRef(null),l=ke(e,a,n.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Db,{asChild:!0,...o,children:u.jsx(oe.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:l,onPointerMove:Q(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),d.current=!0)}),onPointerLeave:Q(t.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:Q(t.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Q(t.onFocus,()=>{c.current||n.onOpen()}),onBlur:Q(t.onBlur,n.onClose),onClick:Q(t.onClick,n.onClose)})})});Hb.displayName=lo;var Wb="TooltipPortal",[YC,zb]=ni(Wb,{forceMount:void 0}),is="TooltipContent",rd=m.forwardRef((t,e)=>{const r=zb(is,t.__scopeTooltip),{forceMount:s=r.forceMount,side:n="top",...i}=t,o=ii(is,t.__scopeTooltip);return u.jsx(tr,{present:s||o.open,children:o.disableHoverableContent?u.jsx(sd,{side:n,...i,ref:e}):u.jsx(Kb,{side:n,...i,ref:e})})}),Kb=m.forwardRef((t,e)=>{const r=ii(is,t.__scopeTooltip),s=Zu(is,t.__scopeTooltip),n=m.useRef(null),i=ke(e,n),[o,a]=m.useState(null),{trigger:l,onClose:c}=r,d=n.current,{onPointerInTransitChange:f}=s,p=m.useCallback(()=>{a(null),f(!1)},[f]),h=m.useCallback((b,g)=>{const y=b.currentTarget,w={x:b.clientX,y:b.clientY},v=Xb(w,y.getBoundingClientRect()),x=Zb(w,v),E=ev(g.getBoundingClientRect()),S=rv([...x,...E]);a(S),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const b=y=>h(y,d),g=y=>h(y,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[l,d,h,p]),m.useEffect(()=>{if(o){const b=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),x=!tv(w,o);v?p():x&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,c,p]),u.jsx(sd,{...t,ref:i})}),[Gb,Jb]=ni(td,{isInside:!1}),Yb=Bb("TooltipContent"),sd=m.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=ii(is,r),c=sa(r),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(fl,d),()=>document.removeEventListener(fl,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Yn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(Lb,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Yb,{children:s}),u.jsx(Gb,{scope:r,isInside:!0,children:u.jsx(Em,{id:l.contentId,role:"tooltip",children:n||s})})]})})});rd.displayName=is;var nd="TooltipArrow",Qb=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,n=sa(r);return Jb(nd,r).isInside?null:u.jsx(Ub,{...n,...s,ref:e})});Qb.displayName=nd;function Xb(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),n=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,s,n,i)){case i:return"left";case n:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Zb(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function ev(t){const{top:e,right:r,bottom:s,left:n}=t;return[{x:n,y:e},{x:r,y:e},{x:r,y:s},{x:n,y:s}]}function tv(t,e){const{x:r,y:s}=t;let n=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,f=l.x,p=l.y;d>s!=p>s&&r<(f-c)*(s-d)/(p-d)+c&&(n=!n)}return n}function rv(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),sv(e)}function sv(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const n=t[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))e.pop();else break}e.push(n)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const n=t[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var nv=ed,id=rd;const iv=nv,ov=m.forwardRef(({className:t,sideOffset:e=4,...r},s)=>u.jsx(id,{ref:s,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));ov.displayName=id.displayName;var oi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},av={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Vt,Bo,Tc,lv=(Tc=class{constructor(){Y(this,Vt,av);Y(this,Bo,!1)}setTimeoutProvider(t){H(this,Vt,t)}setTimeout(t,e){return T(this,Vt).setTimeout(t,e)}clearTimeout(t){T(this,Vt).clearTimeout(t)}setInterval(t,e){return T(this,Vt).setInterval(t,e)}clearInterval(t){T(this,Vt).clearInterval(t)}},Vt=new WeakMap,Bo=new WeakMap,Tc),co=new lv;function cv(t){setTimeout(t,0)}var ai=typeof window>"u"||"Deno"in globalThis;function tt(){}function uv(t,e){return typeof t=="function"?t(e):t}function dv(t){return typeof t=="number"&&t>=0&&t!==1/0}function hv(t,e){return Math.max(t+(e||0)-Date.now(),0)}function uo(t,e){return typeof t=="function"?t(e):t}function fv(t,e){return typeof t=="function"?t(e):t}function pl(t,e){const{type:r="all",exact:s,fetchStatus:n,predicate:i,queryKey:o,stale:a}=t;if(o){if(s){if(e.queryHash!==na(o,e.options))return!1}else if(!Ps(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||n&&n!==e.state.fetchStatus||i&&!i(e))}function ml(t,e){const{exact:r,status:s,predicate:n,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Ns(e.options.mutationKey)!==Ns(i))return!1}else if(!Ps(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function na(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ns)(t)}function Ns(t){return JSON.stringify(t,(e,r)=>ho(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function Ps(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ps(t[r],e[r])):!1}var pv=Object.prototype.hasOwnProperty;function od(t,e){if(t===e)return t;const r=gl(t)&&gl(e);if(!r&&!(ho(t)&&ho(e)))return e;const n=(r?t:Object.keys(t)).length,i=r?e:Object.keys(e),o=i.length,a=r?new Array(o):{};let l=0;for(let c=0;c<o;c++){const d=r?c:i[c],f=t[d],p=e[d];if(f===p){a[d]=f,(r?c<n:pv.call(t,d))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[d]=p;continue}const h=od(f,p);a[d]=h,h===f&&l++}return n===o&&l===n?t:a}function gl(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ho(t){if(!yl(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!yl(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function yl(t){return Object.prototype.toString.call(t)==="[object Object]"}function mv(t){return new Promise(e=>{co.setTimeout(e,t)})}function gv(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?od(t,e):e}function yv(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function bv(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var ia=Symbol();function ad(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ia?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var br,Ht,Yr,kc,vv=(kc=class extends oi{constructor(){super();Y(this,br);Y(this,Ht);Y(this,Yr);H(this,Yr,e=>{if(!ai&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,Ht)||this.setEventListener(T(this,Yr))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Ht))==null||e.call(this),H(this,Ht,void 0))}setEventListener(e){var r;H(this,Yr,e),(r=T(this,Ht))==null||r.call(this),H(this,Ht,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){T(this,br)!==e&&(H(this,br,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof T(this,br)=="boolean"?T(this,br):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},br=new WeakMap,Ht=new WeakMap,Yr=new WeakMap,kc),ld=new vv;function wv(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),t(n)},r.reject=n=>{s({status:"rejected",reason:n}),e(n)},r}var xv=cv;function _v(){let t=[],e=0,r=a=>{a()},s=a=>{a()},n=xv;const i=a=>{e?t.push(a):n(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&n(()=>{s(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{n=a}}}var $e=_v(),Qr,Wt,Xr,Ac,Ev=(Ac=class extends oi{constructor(){super();Y(this,Qr,!0);Y(this,Wt);Y(this,Xr);H(this,Xr,e=>{if(!ai&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){T(this,Wt)||this.setEventListener(T(this,Xr))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Wt))==null||e.call(this),H(this,Wt,void 0))}setEventListener(e){var r;H(this,Xr,e),(r=T(this,Wt))==null||r.call(this),H(this,Wt,e(this.setOnline.bind(this)))}setOnline(e){T(this,Qr)!==e&&(H(this,Qr,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return T(this,Qr)}},Qr=new WeakMap,Wt=new WeakMap,Xr=new WeakMap,Ac),Dn=new Ev;function Sv(t){return Math.min(1e3*2**t,3e4)}function cd(t){return(t??"online")==="online"?Dn.isOnline():!0}var fo=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ud(t){let e=!1,r=0,s;const n=wv(),i=()=>n.status!=="pending",o=g=>{var y;if(!i()){const w=new fo(g);p(w),(y=t.onCancel)==null||y.call(t,w)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>ld.isFocused()&&(t.networkMode==="always"||Dn.isOnline())&&t.canRun(),d=()=>cd(t.networkMode)&&t.canRun(),f=g=>{i()||(s==null||s(),n.resolve(g))},p=g=>{i()||(s==null||s(),n.reject(g))},h=()=>new Promise(g=>{var y;s=w=>{(i()||c())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,i()||(g=t.onContinue)==null||g.call(t)}),b=()=>{if(i())return;let g;const y=r===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var C;if(i())return;const v=t.retry??(ai?0:3),x=t.retryDelay??Sv,E=typeof x=="function"?x(r,w):x,S=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,w);if(e||!S){p(w);return}r++,(C=t.onFail)==null||C.call(t,r,w),mv(E).then(()=>c()?void 0:h()).then(()=>{e?p(w):b()})})};return{promise:n,status:()=>n.status,cancel:o,continue:()=>(s==null||s(),n),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():h().then(b),n)}}var vr,jc,dd=(jc=class{constructor(){Y(this,vr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dv(this.gcTime)&&H(this,vr,co.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ai?1/0:5*60*1e3))}clearGcTimeout(){T(this,vr)&&(co.clearTimeout(T(this,vr)),H(this,vr,void 0))}},vr=new WeakMap,jc),wr,Zr,We,xr,Ce,Fs,_r,st,vt,Nc,Cv=(Nc=class extends dd{constructor(e){super();Y(this,st);Y(this,wr);Y(this,Zr);Y(this,We);Y(this,xr);Y(this,Ce);Y(this,Fs);Y(this,_r);H(this,_r,!1),H(this,Fs,e.defaultOptions),this.setOptions(e.options),this.observers=[],H(this,xr,e.client),H(this,We,T(this,xr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,H(this,wr,vl(this.options)),this.state=e.state??T(this,wr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=T(this,Ce))==null?void 0:e.promise}setOptions(e){if(this.options={...T(this,Fs),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=vl(this.options);r.data!==void 0&&(this.setState(bl(r.data,r.dataUpdatedAt)),H(this,wr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,We).remove(this)}setData(e,r){const s=gv(this.state.data,e,this.options);return Re(this,st,vt).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){Re(this,st,vt).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,n;const r=(s=T(this,Ce))==null?void 0:s.promise;return(n=T(this,Ce))==null||n.cancel(e),r?r.then(tt).catch(tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,wr))}isActive(){return this.observers.some(e=>fv(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ia||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>uo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!hv(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,Ce))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,Ce))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),T(this,We).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(T(this,Ce)&&(T(this,_r)?T(this,Ce).cancel({revert:!0}):T(this,Ce).cancelRetry()),this.scheduleGc()),T(this,We).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Re(this,st,vt).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,f,p,h,b,g,y,w,v,x;if(this.state.fetchStatus!=="idle"&&((l=T(this,Ce))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,Ce))return T(this,Ce).continueRetry(),T(this,Ce).promise}if(e&&this.setOptions(e),!this.options.queryFn){const E=this.observers.find(S=>S.options.queryFn);E&&this.setOptions(E.options)}const s=new AbortController,n=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(H(this,_r,!0),s.signal)})},i=()=>{const E=ad(this.options,r),C=(()=>{const k={client:T(this,xr),queryKey:this.queryKey,meta:this.meta};return n(k),k})();return H(this,_r,!1),this.options.persister?this.options.persister(E,C,this):E(C)},a=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:T(this,xr),state:this.state,fetchFn:i};return n(E),E})();(c=this.options.behavior)==null||c.onFetch(a,this),H(this,Zr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Re(this,st,vt).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),H(this,Ce,ud({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:E=>{E instanceof fo&&E.revert&&this.setState({...T(this,Zr),fetchStatus:"idle"}),s.abort()},onFail:(E,S)=>{Re(this,st,vt).call(this,{type:"failed",failureCount:E,error:S})},onPause:()=>{Re(this,st,vt).call(this,{type:"pause"})},onContinue:()=>{Re(this,st,vt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const E=await T(this,Ce).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(h=(p=T(this,We).config).onSuccess)==null||h.call(p,E,this),(g=(b=T(this,We).config).onSettled)==null||g.call(b,E,this.state.error,this),E}catch(E){if(E instanceof fo){if(E.silent)return T(this,Ce).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw Re(this,st,vt).call(this,{type:"error",error:E}),(w=(y=T(this,We).config).onError)==null||w.call(y,E,this),(x=(v=T(this,We).config).onSettled)==null||x.call(v,this.state.data,E,this),E}finally{this.scheduleGc()}}},wr=new WeakMap,Zr=new WeakMap,We=new WeakMap,xr=new WeakMap,Ce=new WeakMap,Fs=new WeakMap,_r=new WeakMap,st=new WeakSet,vt=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Tv(s.data,this.options),fetchMeta:e.meta??null};case"success":const n={...s,...bl(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return H(this,Zr,e.manual?n:void 0),n;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),$e.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),T(this,We).notify({query:this,type:"updated",action:e})})},Nc);function Tv(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cd(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bl(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function vl(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function wl(t){return{onFetch:(e,r)=>{var d,f,p,h,b;const s=e.options,n=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=ad(e.options,e.fetchOptions),v=async(x,E,S)=>{if(g)return Promise.reject();if(E==null&&x.pages.length)return Promise.resolve(x);const k=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:E,direction:S?"backward":"forward",meta:e.options.meta};return y(W),W})(),A=await w(k),{maxPages:D}=e.options,I=S?bv:yv;return{pages:I(x.pages,A,D),pageParams:I(x.pageParams,E,D)}};if(n&&i.length){const x=n==="backward",E=x?kv:xl,S={pages:i,pageParams:o},C=E(s,S);a=await v(S,C,x)}else{const x=t??i.length;do{const E=l===0?o[0]??s.initialPageParam:xl(s,a);if(l>0&&E==null)break;a=await v(a,E),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function xl(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function kv(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var Bs,ut,Me,Er,dt,Lt,Pc,Av=(Pc=class extends dd{constructor(e){super();Y(this,dt);Y(this,Bs);Y(this,ut);Y(this,Me);Y(this,Er);H(this,Bs,e.client),this.mutationId=e.mutationId,H(this,Me,e.mutationCache),H(this,ut,[]),this.state=e.state||jv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){T(this,ut).includes(e)||(T(this,ut).push(e),this.clearGcTimeout(),T(this,Me).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){H(this,ut,T(this,ut).filter(r=>r!==e)),this.scheduleGc(),T(this,Me).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){T(this,ut).length||(this.state.status==="pending"?this.scheduleGc():T(this,Me).remove(this))}continue(){var e;return((e=T(this,Er))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,d,f,p,h,b,g,y,w,v,x,E,S,C,k,A,D;const r=()=>{Re(this,dt,Lt).call(this,{type:"continue"})},s={client:T(this,Bs),meta:this.options.meta,mutationKey:this.options.mutationKey};H(this,Er,ud({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(I,W)=>{Re(this,dt,Lt).call(this,{type:"failed",failureCount:I,error:W})},onPause:()=>{Re(this,dt,Lt).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Me).canRun(this)}));const n=this.state.status==="pending",i=!T(this,Er).canStart();try{if(n)r();else{Re(this,dt,Lt).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(o=T(this,Me).config).onMutate)==null?void 0:a.call(o,e,this,s));const W=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,s));W!==this.state.context&&Re(this,dt,Lt).call(this,{type:"pending",context:W,variables:e,isPaused:i})}const I=await T(this,Er).start();return await((f=(d=T(this,Me).config).onSuccess)==null?void 0:f.call(d,I,e,this.state.context,this,s)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,I,e,this.state.context,s)),await((g=(b=T(this,Me).config).onSettled)==null?void 0:g.call(b,I,null,this.state.variables,this.state.context,this,s)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,I,null,e,this.state.context,s)),Re(this,dt,Lt).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(v=T(this,Me).config).onError)==null?void 0:x.call(v,I,e,this.state.context,this,s)),await((S=(E=this.options).onError)==null?void 0:S.call(E,I,e,this.state.context,s)),await((k=(C=T(this,Me).config).onSettled)==null?void 0:k.call(C,void 0,I,this.state.variables,this.state.context,this,s)),await((D=(A=this.options).onSettled)==null?void 0:D.call(A,void 0,I,e,this.state.context,s)),I}finally{Re(this,dt,Lt).call(this,{type:"error",error:I})}}finally{T(this,Me).runNext(this)}}},Bs=new WeakMap,ut=new WeakMap,Me=new WeakMap,Er=new WeakMap,dt=new WeakSet,Lt=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$e.batch(()=>{T(this,ut).forEach(s=>{s.onMutationUpdate(e)}),T(this,Me).notify({mutation:this,type:"updated",action:e})})},Pc);function jv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xt,nt,qs,Rc,Nv=(Rc=class extends oi{constructor(e={}){super();Y(this,xt);Y(this,nt);Y(this,qs);this.config=e,H(this,xt,new Set),H(this,nt,new Map),H(this,qs,0)}build(e,r,s){const n=new Av({client:e,mutationCache:this,mutationId:++sn(this,qs)._,options:e.defaultMutationOptions(r),state:s});return this.add(n),n}add(e){T(this,xt).add(e);const r=cn(e);if(typeof r=="string"){const s=T(this,nt).get(r);s?s.push(e):T(this,nt).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(T(this,xt).delete(e)){const r=cn(e);if(typeof r=="string"){const s=T(this,nt).get(r);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&T(this,nt).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=cn(e);if(typeof r=="string"){const s=T(this,nt).get(r),n=s==null?void 0:s.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var s;const r=cn(e);if(typeof r=="string"){const n=(s=T(this,nt).get(r))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$e.batch(()=>{T(this,xt).forEach(e=>{this.notify({type:"removed",mutation:e})}),T(this,xt).clear(),T(this,nt).clear()})}getAll(){return Array.from(T(this,xt))}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ml(r,s))}findAll(e={}){return this.getAll().filter(r=>ml(e,r))}notify(e){$e.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return $e.batch(()=>Promise.all(e.map(r=>r.continue().catch(tt))))}},xt=new WeakMap,nt=new WeakMap,qs=new WeakMap,Rc);function cn(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ht,Oc,Pv=(Oc=class extends oi{constructor(e={}){super();Y(this,ht);this.config=e,H(this,ht,new Map)}build(e,r,s){const n=r.queryKey,i=r.queryHash??na(n,r);let o=this.get(i);return o||(o=new Cv({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){T(this,ht).has(e.queryHash)||(T(this,ht).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=T(this,ht).get(e.queryHash);r&&(e.destroy(),r===e&&T(this,ht).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$e.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return T(this,ht).get(e)}getAll(){return[...T(this,ht).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>pl(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>pl(e,s)):r}notify(e){$e.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ht=new WeakMap,Oc),ye,zt,Kt,es,ts,Gt,rs,ss,Ic,Rv=(Ic=class{constructor(t={}){Y(this,ye);Y(this,zt);Y(this,Kt);Y(this,es);Y(this,ts);Y(this,Gt);Y(this,rs);Y(this,ss);H(this,ye,t.queryCache||new Pv),H(this,zt,t.mutationCache||new Nv),H(this,Kt,t.defaultOptions||{}),H(this,es,new Map),H(this,ts,new Map),H(this,Gt,0)}mount(){sn(this,Gt)._++,T(this,Gt)===1&&(H(this,rs,ld.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,ye).onFocus())})),H(this,ss,Dn.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,ye).onOnline())})))}unmount(){var t,e;sn(this,Gt)._--,T(this,Gt)===0&&((t=T(this,rs))==null||t.call(this),H(this,rs,void 0),(e=T(this,ss))==null||e.call(this),H(this,ss,void 0))}isFetching(t){return T(this,ye).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return T(this,zt).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,ye).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=T(this,ye).build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(uo(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return T(this,ye).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),n=T(this,ye).get(s.queryHash),i=n==null?void 0:n.state.data,o=uv(e,i);if(o!==void 0)return T(this,ye).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return $e.batch(()=>T(this,ye).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,ye).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=T(this,ye);$e.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=T(this,ye);return $e.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=$e.batch(()=>T(this,ye).findAll(t).map(n=>n.cancel(r)));return Promise.all(s).then(tt).catch(tt)}invalidateQueries(t,e={}){return $e.batch(()=>(T(this,ye).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=$e.batch(()=>T(this,ye).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(tt)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(tt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=T(this,ye).build(this,e);return r.isStaleByTime(uo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(tt).catch(tt)}fetchInfiniteQuery(t){return t.behavior=wl(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(tt).catch(tt)}ensureInfiniteQueryData(t){return t.behavior=wl(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Dn.isOnline()?T(this,zt).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,ye)}getMutationCache(){return T(this,zt)}getDefaultOptions(){return T(this,Kt)}setDefaultOptions(t){H(this,Kt,t)}setQueryDefaults(t,e){T(this,es).set(Ns(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...T(this,es).values()],r={};return e.forEach(s=>{Ps(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){T(this,ts).set(Ns(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...T(this,ts).values()],r={};return e.forEach(s=>{Ps(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...T(this,Kt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=na(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ia&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...T(this,Kt).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){T(this,ye).clear(),T(this,zt).clear()}},ye=new WeakMap,zt=new WeakMap,Kt=new WeakMap,es=new WeakMap,ts=new WeakMap,Gt=new WeakMap,rs=new WeakMap,ss=new WeakMap,Ic),Ov=m.createContext(void 0),Iv=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(Ov.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Rs.apply(this,arguments)}var Jt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jt||(Jt={}));const _l="popstate";function Mv(t){t===void 0&&(t={});function e(s,n){let{pathname:i,search:o,hash:a}=s.location;return po("",{pathname:i,search:o,hash:a},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(s,n){return typeof n=="string"?n:hd(n)}return Dv(e,r,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $v(){return Math.random().toString(36).substr(2,8)}function El(t,e){return{usr:t.state,key:t.key,idx:e}}function po(t,e,r,s){return r===void 0&&(r=null),Rs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ds(e):e,{state:r,key:e&&e.key||s||$v()})}function hd(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ds(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Dv(t,e,r,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,o=n.history,a=Jt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Rs({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Jt.Pop;let y=d(),w=y==null?null:y-c;c=y,l&&l({action:a,location:g.location,delta:w})}function p(y,w){a=Jt.Push;let v=po(g.location,y,w);c=d()+1;let x=El(v,c),E=g.createHref(v);try{o.pushState(x,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(E)}i&&l&&l({action:a,location:g.location,delta:1})}function h(y,w){a=Jt.Replace;let v=po(g.location,y,w);c=d();let x=El(v,c),E=g.createHref(v);o.replaceState(x,"",E),i&&l&&l({action:a,location:g.location,delta:0})}function b(y){let w=n.location.origin!=="null"?n.location.origin:n.location.href,v=typeof y=="string"?y:hd(y);return v=v.replace(/ $/,"%20"),_e(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return t(n,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(_l,f),l=y,()=>{n.removeEventListener(_l,f),l=null}},createHref(y){return e(n,y)},createURL:b,encodeLocation(y){let w=b(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:h,go(y){return o.go(y)}};return g}var Sl;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sl||(Sl={}));function Lv(t,e,r){return r===void 0&&(r="/"),Uv(t,e,r)}function Uv(t,e,r,s){let n=typeof e=="string"?ds(e):e,i=md(n.pathname||"/",r);if(i==null)return null;let o=fd(t);Fv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Xv(i);a=Jv(o[l],c)}return a}function fd(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let n=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=Sr([s,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(_e(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),fd(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Kv(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))n(i,o);else for(let l of pd(i.path))n(i,o,l)}),e}function pd(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let o=pd(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),n&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Fv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Gv(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Bv=/^:[\w-]+$/,qv=3,Vv=2,Hv=1,Wv=10,zv=-2,Cl=t=>t==="*";function Kv(t,e){let r=t.split("/"),s=r.length;return r.some(Cl)&&(s+=zv),e&&(s+=Vv),r.filter(n=>!Cl(n)).reduce((n,i)=>n+(Bv.test(i)?qv:i===""?Hv:Wv),s)}function Gv(t,e){return t.length===e.length&&t.slice(0,-1).every((s,n)=>s===e[n])?t[t.length-1]-e[e.length-1]:0}function Jv(t,e,r){let{routesMeta:s}=t,n={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Yv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:Sr([i,f.pathname]),pathnameBase:sw(Sr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Sr([i,f.pathnameBase]))}return o}function Yv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=Qv(t.path,t.caseSensitive,t.end),n=e.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),a=n.slice(1);return{params:s.reduce((c,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const b=a[f];return h&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Qv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),s]}function Xv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function md(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}const Zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ew=t=>Zv.test(t);function tw(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:n=""}=typeof t=="string"?ds(t):t,i;if(r)if(ew(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),oa(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Tl(r.substring(1),"/"):i=Tl(r,e)}else i=e;return{pathname:i,search:nw(s),hash:iw(n)}}function Tl(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Pi(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function gd(t,e){let r=rw(t);return e?r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function yd(t,e,r,s){s===void 0&&(s=!1);let n;typeof t=="string"?n=ds(t):(n=Rs({},t),_e(!n.pathname||!n.pathname.includes("?"),Pi("?","pathname","search",n)),_e(!n.pathname||!n.pathname.includes("#"),Pi("#","pathname","hash",n)),_e(!n.search||!n.search.includes("#"),Pi("#","search","hash",n)));let i=t===""||n.pathname==="",o=i?"/":n.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=tw(n,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Sr=t=>t.join("/").replace(/\/\/+/g,"/"),sw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ow(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bd=["post","put","patch","delete"];new Set(bd);const aw=["get",...bd];new Set(aw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Os.apply(this,arguments)}const aa=m.createContext(null),lw=m.createContext(null),Ks=m.createContext(null),li=m.createContext(null),rr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),vd=m.createContext(null);function Gs(){return m.useContext(li)!=null}function ci(){return Gs()||_e(!1),m.useContext(li).location}function wd(t){m.useContext(Ks).static||m.useLayoutEffect(t)}function kt(){let{isDataRoute:t}=m.useContext(rr);return t?xw():cw()}function cw(){Gs()||_e(!1);let t=m.useContext(aa),{basename:e,future:r,navigator:s}=m.useContext(Ks),{matches:n}=m.useContext(rr),{pathname:i}=ci(),o=JSON.stringify(gd(n,r.v7_relativeSplatPath)),a=m.useRef(!1);return wd(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){s.go(c);return}let f=yd(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Sr([e,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[e,s,o,i,t])}function xd(){let{matches:t}=m.useContext(rr),e=t[t.length-1];return e?e.params:{}}function uw(t,e){return dw(t,e)}function dw(t,e,r,s){Gs()||_e(!1);let{navigator:n}=m.useContext(Ks),{matches:i}=m.useContext(rr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ci(),d;if(e){var f;let y=typeof e=="string"?ds(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||_e(!1),d=y}else d=c;let p=d.pathname||"/",h=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=Lv(t,{pathname:h}),g=gw(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Sr([l,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Sr([l,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,s);return e&&g?m.createElement(li.Provider,{value:{location:Os({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Jt.Pop}},g):g}function hw(){let t=ww(),e=ow(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),r?m.createElement("pre",{style:n},r):null,null)}const fw=m.createElement(hw,null);class pw extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?m.createElement(rr.Provider,{value:this.props.routeContext},m.createElement(vd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mw(t){let{routeContext:e,match:r,children:s}=t,n=m.useContext(aa);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(rr.Provider,{value:e},s)}function gw(t,e,r,s){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(n=r)==null?void 0:n.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||_e(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:h}=r,b=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let h,b=!1,g=null,y=null;r&&(h=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||fw,l&&(c<0&&p===0?(_w("route-fallback"),b=!0,y=null):c===p&&(b=!0,y=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),v=()=>{let x;return h?x=g:b?x=y:f.route.Component?x=m.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,m.createElement(mw,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(pw,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var _d=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_d||{}),Ed=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ed||{});function yw(t){let e=m.useContext(aa);return e||_e(!1),e}function bw(t){let e=m.useContext(lw);return e||_e(!1),e}function vw(t){let e=m.useContext(rr);return e||_e(!1),e}function Sd(t){let e=vw(),r=e.matches[e.matches.length-1];return r.route.id||_e(!1),r.route.id}function ww(){var t;let e=m.useContext(vd),r=bw(),s=Sd();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function xw(){let{router:t}=yw(_d.UseNavigateStable),e=Sd(Ed.UseNavigateStable),r=m.useRef(!1);return wd(()=>{r.current=!0}),m.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,Os({fromRouteId:e},i)))},[t,e])}const kl={};function _w(t,e,r){kl[t]||(kl[t]=!0)}function Ew(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Sw(t){let{to:e,replace:r,state:s,relative:n}=t;Gs()||_e(!1);let{future:i,static:o}=m.useContext(Ks),{matches:a}=m.useContext(rr),{pathname:l}=ci(),c=kt(),d=yd(e,gd(a,i.v7_relativeSplatPath),l,n==="path"),f=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(f),{replace:r,state:s,relative:n}),[c,f,n,r,s]),null}function Ut(t){_e(!1)}function Cw(t){let{basename:e="/",children:r=null,location:s,navigationType:n=Jt.Pop,navigator:i,static:o=!1,future:a}=t;Gs()&&_e(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Os({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=ds(s));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:b="default"}=s,g=m.useMemo(()=>{let y=md(d,l);return y==null?null:{location:{pathname:y,search:f,hash:p,state:h,key:b},navigationType:n}},[l,d,f,p,h,b,n]);return g==null?null:m.createElement(Ks.Provider,{value:c},m.createElement(li.Provider,{children:r,value:g}))}function Tw(t){let{children:e,location:r}=t;return uw(mo(e),r)}new Promise(()=>{});function mo(t,e){e===void 0&&(e=[]);let r=[];return m.Children.forEach(t,(s,n)=>{if(!m.isValidElement(s))return;let i=[...e,n];if(s.type===m.Fragment){r.push.apply(r,mo(s.props.children,i));return}s.type!==Ut&&_e(!1),!s.props.index||!s.props.children||_e(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=mo(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const kw="6";try{window.__reactRouterVersion=kw}catch{}const Aw="startTransition",Al=Gn[Aw];function jw(t){let{basename:e,children:r,future:s,window:n}=t,i=m.useRef();i.current==null&&(i.current=Mv({window:n,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},d=m.useCallback(f=>{c&&Al?Al(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>Ew(s),[s]),m.createElement(Cw,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:s})}var jl;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jl||(jl={}));var Nl;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Nl||(Nl={}));var go=function(t,e){return go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},go(t,e)};function Cd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");go(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ke=function(){return Ke=Object.assign||function(e){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ke.apply(this,arguments)};function sr(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r}function Td(t,e,r,s){var n=arguments.length,i=n<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,r,i):o(e,r))||i);return n>3&&i&&Object.defineProperty(e,r,i),i}function kd(t,e){return function(r,s){e(r,s,t)}}function Ad(t,e,r,s,n,i){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?s.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var b={};for(var g in s)b[g]=g==="access"?{}:s[g];for(var g in s.access)b.access[g]=s.access[g];b.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(w||null))};var y=(0,r[h])(a==="accessor"?{get:d.get,set:d.set}:d[l],b);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&n.unshift(f)}else(f=o(y))&&(a==="field"?n.unshift(f):d[l]=f)}c&&Object.defineProperty(c,s.name,d),p=!0}function jd(t,e,r){for(var s=arguments.length>2,n=0;n<e.length;n++)r=s?e[n].call(t,r):e[n].call(t);return s?r:void 0}function Nd(t){return typeof t=="symbol"?t:"".concat(t)}function Pd(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Rd(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function $(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(s.next(d))}catch(f){o(f)}}function l(d){try{c(s.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):n(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}function Od(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,n,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(s=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],n=0}finally{s=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var ui=Object.create?function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]};function Id(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ui(e,t,r)}function Ln(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function la(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function Md(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(la(arguments[e]));return t}function $d(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,n++)s[n]=i[o];return s}function ca(t,e,r){if(r||arguments.length===2)for(var s=0,n=e.length,i;s<n;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function os(t){return this instanceof os?(this.v=t,this):new os(t)}function Dd(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),n[Symbol.asyncIterator]=function(){return this},n;function o(h){return function(b){return Promise.resolve(b).then(h,f)}}function a(h,b){s[h]&&(n[h]=function(g){return new Promise(function(y,w){i.push([h,g,y,w])>1||l(h,g)})},b&&(n[h]=b(n[h])))}function l(h,b){try{c(s[h](b))}catch(g){p(i[0][3],g)}}function c(h){h.value instanceof os?Promise.resolve(h.value.v).then(d,f):p(i[0][2],h)}function d(h){l("next",h)}function f(h){l("throw",h)}function p(h,b){h(b),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Ld(t){var e,r;return e={},s("next"),s("throw",function(n){throw n}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(n,i){e[n]=t[n]?function(o){return(r=!r)?{value:os(t[n](o)),done:!1}:i?i(o):o}:i}}function Ud(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ln=="function"?Ln(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),n(a,l,o.done,o.value)})}}function n(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Fd(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Nw=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},yo=function(t){return yo=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},yo(t)};function Bd(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=yo(t),s=0;s<r.length;s++)r[s]!=="default"&&ui(e,t,r[s]);return Nw(e,t),e}function qd(t){return t&&t.__esModule?t:{default:t}}function Vd(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function Hd(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r}function Wd(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function zd(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(n=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var Pw=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function Kd(t){function e(i){t.error=t.hasError?new Pw(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,s=0;function n(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(n,function(o){return e(o),n()})}else s|=1}catch(o){e(o)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function Gd(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,n,i,o){return s?e?".jsx":".js":n&&(!i||!o)?r:n+i+"."+o.toLowerCase()+"js"}):t}const Rw={__extends:Cd,__assign:Ke,__rest:sr,__decorate:Td,__param:kd,__esDecorate:Ad,__runInitializers:jd,__propKey:Nd,__setFunctionName:Pd,__metadata:Rd,__awaiter:$,__generator:Od,__createBinding:ui,__exportStar:Id,__values:Ln,__read:la,__spread:Md,__spreadArrays:$d,__spreadArray:ca,__await:os,__asyncGenerator:Dd,__asyncDelegator:Ld,__asyncValues:Ud,__makeTemplateObject:Fd,__importStar:Bd,__importDefault:qd,__classPrivateFieldGet:Vd,__classPrivateFieldSet:Hd,__classPrivateFieldIn:Wd,__addDisposableResource:zd,__disposeResources:Kd,__rewriteRelativeImportExtension:Gd},Ow=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:zd,get __assign(){return Ke},__asyncDelegator:Ld,__asyncGenerator:Dd,__asyncValues:Ud,__await:os,__awaiter:$,__classPrivateFieldGet:Vd,__classPrivateFieldIn:Wd,__classPrivateFieldSet:Hd,__createBinding:ui,__decorate:Td,__disposeResources:Kd,__esDecorate:Ad,__exportStar:Id,__extends:Cd,__generator:Od,__importDefault:qd,__importStar:Bd,__makeTemplateObject:Fd,__metadata:Rd,__param:kd,__propKey:Nd,__read:la,__rest:sr,__rewriteRelativeImportExtension:Gd,__runInitializers:jd,__setFunctionName:Pd,__spread:Md,__spreadArray:ca,__spreadArrays:$d,__values:Ln,default:Rw},Symbol.toStringTag,{value:"Module"})),Iw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ua extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Mw extends ua{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pl extends ua{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Rl extends ua{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bo||(bo={}));class $w{constructor(e,{headers:r={},customFetch:s,region:n=bo.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=Iw(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $(this,arguments,void 0,function*(r,s={}){var n;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:f}=s;let p={},{region:h}=s;h||(h=this.region);const b=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,b.searchParams.set("forceFunctionRegion",h));let g;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(p["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(p["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;let y=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const w=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:g,signal:y}).catch(S=>{throw new Mw(S)}),v=w.headers.get("x-relay-error");if(v&&v==="true")throw new Pl(w);if(!w.ok)throw new Rl(w);let x=((n=w.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),E;return x==="application/json"?E=yield w.json():x==="application/octet-stream"||x==="application/pdf"?E=yield w.blob():x==="text/event-stream"?E=w:x==="multipart/form-data"?E=yield w.formData():E=yield w.text(),{data:E,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Rl||a instanceof Pl?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var De={};const hs=Np(Ow);var un={},dn={},hn={},fn={},pn={},mn={},Ol;function Jd(){if(Ol)return mn;Ol=1,Object.defineProperty(mn,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return mn.default=t,mn}var Il;function Yd(){if(Il)return pn;Il=1,Object.defineProperty(pn,"__esModule",{value:!0});const e=hs.__importDefault(Jd());class r{constructor(n){var i,o;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(i=n.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=n.signal,this.isMaybeSingle=(o=n.isMaybeSingle)!==null&&o!==void 0?o:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,i){return this.headers=new Headers(this.headers),this.headers.set(n,i),this}then(n,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f,p;let h=null,b=null,g=null,y=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?b=S:b=JSON.parse(S))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),E=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&E&&E.length>1&&(g=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(h={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,g=null,y=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const x=await l.text();try{h=JSON.parse(x),Array.isArray(h)&&l.status===404&&(b=[],h=null,y=200,w="OK")}catch{l.status===404&&x===""?(y=204,w="No Content"):h={message:x}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,y=200,w="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:b,count:g,status:y,statusText:w}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,d,f;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),a.then(n,i)}returns(){return this}overrideTypes(){return this}}return pn.default=r,pn}var Ml;function Qd(){if(Ml)return fn;Ml=1,Object.defineProperty(fn,"__esModule",{value:!0});const e=hs.__importDefault(Yd());class r extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const f=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return fn.default=r,fn}var $l;function da(){if($l)return hn;$l=1,Object.defineProperty(hn,"__esModule",{value:!0});const e=hs.__importDefault(Qd()),r=new RegExp("[,()]");class s extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return hn.default=s,hn}var Dl;function Xd(){if(Dl)return dn;Dl=1,Object.defineProperty(dn,"__esModule",{value:!0});const e=hs.__importDefault(da());class r{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(n,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(n??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return dn.default=r,dn}var Ll;function Dw(){if(Ll)return un;Ll=1,Object.defineProperty(un,"__esModule",{value:!0});const t=hs,e=t.__importDefault(Xd()),r=t.__importDefault(da());class s{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var d;let f;const p=new URL(`${this.url}/rpc/${i}`);let h;a||l?(f=a?"HEAD":"GET",Object.entries(o).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{p.searchParams.append(g,y)})):(f="POST",h=o);const b=new Headers(this.headers);return c&&b.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:b,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return un.default=s,un}Object.defineProperty(De,"__esModule",{value:!0});var Zd=De.PostgrestError=ch=De.PostgrestBuilder=ah=De.PostgrestTransformBuilder=ih=De.PostgrestFilterBuilder=sh=De.PostgrestQueryBuilder=th=De.PostgrestClient=void 0;const fs=hs,eh=fs.__importDefault(Dw());var th=De.PostgrestClient=eh.default;const rh=fs.__importDefault(Xd());var sh=De.PostgrestQueryBuilder=rh.default;const nh=fs.__importDefault(da());var ih=De.PostgrestFilterBuilder=nh.default;const oh=fs.__importDefault(Qd());var ah=De.PostgrestTransformBuilder=oh.default;const lh=fs.__importDefault(Yd());var ch=De.PostgrestBuilder=lh.default;const uh=fs.__importDefault(Jd());Zd=De.PostgrestError=uh.default;var dh=De.default={PostgrestClient:eh.default,PostgrestQueryBuilder:rh.default,PostgrestFilterBuilder:nh.default,PostgrestTransformBuilder:oh.default,PostgrestBuilder:lh.default,PostgrestError:uh.default};const Lw=Rp({__proto__:null,get PostgrestBuilder(){return ch},get PostgrestClient(){return th},get PostgrestError(){return Zd},get PostgrestFilterBuilder(){return ih},get PostgrestQueryBuilder(){return sh},get PostgrestTransformBuilder(){return ah},default:dh},[De]),{PostgrestClient:Uw,PostgrestQueryBuilder:QC,PostgrestFilterBuilder:XC,PostgrestTransformBuilder:ZC,PostgrestBuilder:eT,PostgrestError:tT}=dh||Lw;class Fw{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,n=parseInt(s.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Bw="2.81.1",qw=`realtime-js/${Bw}`,hh="1.0.0",Vw="2.0.0",Ul=hh,vo=1e4,Hw=1e3,Ww=100;var fr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fr||(fr={}));var Ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ee||(Ee={}));var ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ze||(ze={}));var wo;(function(t){t.websocket="websocket"})(wo||(wo={}));var pr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pr||(pr={}));class zw{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodePush(e){const{join_ref:r,ref:s,event:n,topic:i,payload:o}=e,a=this.META_LENGTH+r.length+s.length+i.length+n.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let c=new DataView(l),d=0;c.setUint8(d++,this.KINDS.push),c.setUint8(d++,r.length),c.setUint8(d++,s.length),c.setUint8(d++,i.length),c.setUint8(d++,n.length),Array.from(r,p=>c.setUint8(d++,p.charCodeAt(0))),Array.from(s,p=>c.setUint8(d++,p.charCodeAt(0))),Array.from(i,p=>c.setUint8(d++,p.charCodeAt(0))),Array.from(n,p=>c.setUint8(d++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+o.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(o),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const{join_ref:n,ref:i,topic:o}=e,a=e.payload.event,l=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+n.length+i.length+o.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(d),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,n.length),f.setUint8(p++,i.length),f.setUint8(p++,o.length),f.setUint8(p++,a.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(n,b=>f.setUint8(p++,b.charCodeAt(0))),Array.from(i,b=>f.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>f.setUint8(p++,b.charCodeAt(0))),Array.from(a,b=>f.setUint8(p++,b.charCodeAt(0)));var h=new Uint8Array(d.byteLength+l.byteLength);return h.set(new Uint8Array(d),0),h.set(new Uint8Array(l),d.byteLength),h.buffer}_encodeJsonUserBroadcastPush(e){var r,s;const{join_ref:n,ref:i,topic:o}=e,a=e.payload.event,l=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+n.length+i.length+o.length+a.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let h=new DataView(p),b=0;h.setUint8(b++,this.KINDS.userBroadcastPush),h.setUint8(b++,n.length),h.setUint8(b++,i.length),h.setUint8(b++,o.length),h.setUint8(b++,a.length),h.setUint8(b++,this.JSON_ENCODING),Array.from(n,y=>h.setUint8(b++,y.charCodeAt(0))),Array.from(i,y=>h.setUint8(b++,y.charCodeAt(0))),Array.from(o,y=>h.setUint8(b++,y.charCodeAt(0))),Array.from(a,y=>h.setUint8(b++,y.charCodeAt(0)));var g=new Uint8Array(p.byteLength+d.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(d),p.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[n,i,o,a,l]=s;return r({join_ref:n,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),n=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(e,r,n);case this.KINDS.reply:return this._decodeReply(e,r,n);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,n);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,n)}}_decodePush(e,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=s.decode(e.slice(a,a+n));a=a+n;const c=s.decode(e.slice(a,a+i));a=a+i;const d=s.decode(e.slice(a,a+o));a=a+o;const f=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:d,payload:f}}_decodeReply(e,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=s.decode(e.slice(l,l+n));l=l+n;const d=s.decode(e.slice(l,l+i));l=l+i;const f=s.decode(e.slice(l,l+o));l=l+o;const p=s.decode(e.slice(l,l+a));l=l+a;const h=JSON.parse(s.decode(e.slice(l,e.byteLength))),b={status:p,response:h};return{join_ref:c,ref:d,topic:f,event:ze.reply,payload:b}}_decodeBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:c}}_decodeUserBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=s.decode(e.slice(l,l+n));l=l+n;const d=s.decode(e.slice(l,l+i));l=l+i;const f=s.decode(e.slice(l,l+o));l=l+o;const p=e.slice(l,e.byteLength),h=a===this.JSON_ENCODING?JSON.parse(s.decode(p)):p,b={type:this.BROADCAST,event:d,payload:h};return o>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class fh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const Fl=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Kw(o,t,e,n),i),{}):{}},Kw=(t,e,r,s)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=r[t];return i&&!s.includes(i)?ph(i,o):xo(o)},ph=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Qw(e,r)}switch(t){case he.bool:return Gw(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return Jw(e);case he.json:case he.jsonb:return Yw(e);case he.timestamp:return Xw(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return xo(e);default:return xo(e)}},xo=t=>t,Gw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Jw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Yw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Qw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ph(e,a))}return t},Xw=t=>typeof t=="string"?t.replace(" ","T"):t,mh=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ri{constructor(e,r,s={},n=vo){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bl||(Bl={}));class Cs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Cs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Cs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const p=d.map(y=>y.presence_ref),h=f.map(y=>y.presence_ref),b=d.filter(y=>h.indexOf(y.presence_ref)<0),g=f.filter(y=>p.indexOf(y.presence_ref)<0);b.length>0&&(a[c]=b),g.length>0&&(l[c]=g)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);e[a].unshift(...p)}s(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ql;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ql||(ql={}));var Ts;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ts||(Ts={}));var wt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class ha{constructor(e,r={config:{}},s){var n,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ri(this,ze.join,this.params,this.timeout),this.rejoinTimer=new fh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ze.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Cs(this),this.broadcastEndpointURL=mh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[Ts.PRESENCE]&&this.bindings[Ts.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(wt.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var b;if(this.socket.setAuth(),h===void 0){e==null||e(wt.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,w=[];for(let v=0;v<y;v++){const x=g[v],{filter:{event:E,schema:S,table:C,filter:k}}=x,A=h&&h[v];if(A&&A.event===E&&A.schema===S&&A.table===C&&A.filter===k)w.push(Object.assign(Object.assign({},x),{id:A.id}));else{this.unsubscribe(),this.state=Ee.errored,e==null||e(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(wt.SUBSCRIBED);return}}).receive("error",h=>{this.state=Ee.errored,e==null||e(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===Ee.joined&&e===Ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ze.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Ri(this,ze.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ee.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ri(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ww){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=ze;if(s&&[a,l,c,d].indexOf(o)>=0&&s!==this._joinRef())return;let p=this._onMessage(o,r,s);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(h=>{var b,g,y;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(g=h.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(h=>h.callback(p,s)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var b,g,y,w,v,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const E=h.id,S=(b=h.filter)===null||b===void 0?void 0:b.event;return E&&((g=r.ids)===null||g===void 0?void 0:g.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(v=(w=h==null?void 0:h.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return E==="*"||E===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:g,table:y,commit_timestamp:w,type:v,errors:x}=b;p=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(b))}h.callback(p,s)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&ha.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ze.close,{},e)}_onError(e){this._on(ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Fl(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Fl(e.columns,e.old_record)),r}}const Oi=()=>{},gn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zw=[1e3,2e3,5e3,1e4],e0=1e4,t0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class r0{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vo,this.transport=null,this.heartbeatIntervalMs=gn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oi,this.ref=0,this.reconnectTimer=null,this.vsn=Ul,this.logger=Oi,this.conn=null,this.sendBuffer=[],this.serializer=new zw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${wo.websocket}`,this.httpEndpoint=mh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case fr.connecting:return pr.Connecting;case fr.open:return pr.Open;case fr.closing:return pr.Closing;default:return pr.Closed}}isConnected(){return this.connectionState()===pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new ha(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Hw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fr.open||this.conn.readyState===fr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([t0],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const n={access_token:r,version:qw};r&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new fh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,i,o,a,l,c,d,f,p,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:vo,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:gn.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Oi,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Ul,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:b=>Zw[b-1]||e0,this.vsn){case hh:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(b,g)=>g(JSON.stringify(b)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(b,g)=>g(JSON.parse(b));break;case Vw:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class fa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class s0 extends fa{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _o extends fa{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const pa=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),n0=()=>Response,Eo=t=>{if(Array.isArray(t))return t.map(r=>Eo(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Eo(s)}),e},i0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ii=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},o0=(t,e,r)=>$(void 0,void 0,void 0,function*(){const s=yield n0();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new s0(Ii(n),i,o))}).catch(n=>{e(new _o(Ii(n),n))}):e(new _o(Ii(t),t))}),a0=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?n:(i0(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),r))};function Js(t,e,r,s,n,i){return $(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,a0(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>o0(l,a,s))})})}function Is(t,e,r,s){return $(this,void 0,void 0,function*(){return Js(t,"GET",e,r,s)})}function rt(t,e,r,s,n){return $(this,void 0,void 0,function*(){return Js(t,"POST",e,s,n,r)})}function So(t,e,r,s,n){return $(this,void 0,void 0,function*(){return Js(t,"PUT",e,s,n,r)})}function l0(t,e,r,s){return $(this,void 0,void 0,function*(){return Js(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function ma(t,e,r,s,n){return $(this,void 0,void 0,function*(){return Js(t,"DELETE",e,s,n,r)})}class c0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return $(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}var gh;class u0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[gh]="BlobDownloadBuilder",this.promise=null}asStream(){return new c0(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return $(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}gh=Symbol.toStringTag;const d0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class h0{constructor(e,r={},s,n){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=pa(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,n){return $(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Vl),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(e=="PUT"?So:rt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ge(i))return{data:null,error:i};throw i}})}upload(e,r,s){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return $(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Vl.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield So(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return $(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield rt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new fa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}update(e,r,s){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return $(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}copy(e,r,s){return $(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return $(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return $(this,void 0,void 0,function*(){try{const n=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}download(e,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Is(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new u0(l,this.shouldThrowOnError)}info(e){return $(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Is(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Eo(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}exists(e){return $(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield l0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s)&&s instanceof _o){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return $(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}list(e,r,s){return $(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},d0),r),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}listV2(e,r){return $(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const yh="2.81.1",bh={"X-Client-Info":`storage-js/${yh}`};class f0{constructor(e,r={},s,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bh),r),this.fetch=pa(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return $(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Is(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}getBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}createBucket(e){return $(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return $(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}emptyBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class p0{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bh),r),this.fetch=pa(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBuckets(e){return $(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),n=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Is(this.fetch,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}}const ga={"X-Client-Info":`storage-js/${yh}`,"Content-Type":"application/json"};class vh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fe(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Mi extends vh{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class m0 extends vh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Hl;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hl||(Hl={}));const ya=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),g0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Wl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y0=(t,e,r)=>$(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new Mi(Wl(o),n,a))}).catch(()=>{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new Mi(a,n,o))});else{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new Mi(a,n,o))}}else e(new m0(Wl(t),t))}),b0=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(g0(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,Object.assign(Object.assign({},n),r)):n};function v0(t,e,r,s,n,i){return $(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,b0(e,s,n,i)).then(l=>{if(!l.ok)throw l;if(s!=null&&s.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>y0(l,a,s))})})}function Be(t,e,r,s,n){return $(this,void 0,void 0,function*(){return v0(t,"POST",e,s,n,r)})}class w0{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ga),r),this.fetch=ya(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return $(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}getIndex(e,r){return $(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}listIndexes(e){return $(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return $(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}}class x0{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ga),r),this.fetch=ya(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return $(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Be(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}getVectors(e){return $(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}listVectors(e){return $(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Be(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}queryVectors(e){return $(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteVectors(e){return $(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Be(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}}class _0{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ga),r),this.fetch=ya(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}getBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}listBuckets(){return $(this,arguments,void 0,function*(e={}){try{return{data:yield Be(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}}class E0 extends _0{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new S0(this.url,this.headers,e,this.fetch)}}class S0 extends w0{constructor(e,r,s,n){super(e,r,n),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return $(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return $(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return $(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return $(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new C0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class C0 extends x0{constructor(e,r,s,n,i){super(e,r,i),this.vectorBucketName=s,this.indexName=n}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return $(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return $(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return $(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return $(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return $(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class T0 extends f0{constructor(e,r={},s,n){super(e,r,s,n)}from(e){return new h0(this.url,this.headers,e,this.fetch)}get vectors(){return new E0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new p0(this.url+"/iceberg",this.headers,this.fetch)}}const k0="2.81.1";let ws="";typeof Deno<"u"?ws="deno":typeof document<"u"?ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ws="react-native":ws="node";const A0={"X-Client-Info":`supabase-js-${ws}/${k0}`},j0={headers:A0},N0={schema:"public"},P0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R0={},O0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),I0=()=>Headers,M0=(t,e,r)=>{const s=O0(r),n=I0();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))}};function $0(t){return t.endsWith("/")?t:t+"/"}function D0(t,e){var r,s;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function L0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wh="2.81.1",qr=30*1e3,Co=3,$i=Co*qr,U0="http://localhost:9999",F0="supabase.auth.token",B0={"X-Client-Info":`gotrue-js/${wh}`},To="X-Supabase-Api-Version",xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V0=10*60*1e3;class Ms extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class H0 extends Ms{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function W0(t){return L(t)&&t.name==="AuthApiError"}class mr extends Ms{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class nr extends Ms{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class Xe extends nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z0(t){return L(t)&&t.name==="AuthSessionMissingError"}class Ir extends nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yn extends nr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bn extends nr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K0(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class zl extends nr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ko extends nr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Di(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Kl extends nr{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Ao extends nr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gl=` 	
\r=`.split(""),G0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gl.length;e+=1)t[Gl[e].charCodeAt(0)]=-2;for(let e=0;e<Un.length;e+=1)t[Un[e].charCodeAt(0)]=e;return t})();function Jl(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Un[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Un[s]),e.queuedBits-=6}}function _h(t,e,r){const s=G0[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yl(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Q0(o,s,r)};for(let o=0;o<t.length;o+=1)_h(t.charCodeAt(o),n,i);return e.join("")}function J0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Y0(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}J0(s,e)}}function Q0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Gr(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)_h(t.charCodeAt(n),r,s);return new Uint8Array(e)}function X0(t){const e=[];return Y0(t,r=>e.push(r)),new Uint8Array(e)}function gr(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>Jl(n,r,s)),Jl(null,r,s),e.join("")}function Z0(t){return Math.round(Date.now()/1e3)+t}function ex(){return Symbol("auth-callback")}const Ae=()=>typeof window<"u"&&typeof document<"u",cr={tested:!1,writable:!1},Eh=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cr.tested)return cr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),cr.tested=!0,cr.writable=!0}catch{cr.tested=!0,cr.writable=!1}return cr.writable};function tx(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const Sh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ur=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dt=async(t,e)=>{await t.removeItem(e)};class di{constructor(){this.promise=new di.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}di.promiseConstructor=Promise;function Li(t){const e=t.split(".");if(e.length!==3)throw new Ao("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!q0.test(e[s]))throw new Ao("JWT not in base64url format");return{header:JSON.parse(Yl(e[0])),payload:JSON.parse(Yl(e[1])),signature:Gr(e[2]),raw:{header:e[0],payload:e[1]}}}async function sx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nx(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function ix(t){return("0"+t.toString(16)).substr(-2)}function ox(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,ix).join("")}async function ax(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function lx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ax(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mr(t,e,r=!1){const s=ox();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Vr(t,`${e}-code-verifier`,n);const i=await lx(s);return[i,s===i?"plain":"s256"]}const cx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ux(t){const e=t.headers.get(To);if(!e||!e.match(cx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $r(t){if(!fx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ui(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function px(t,e){return new Proxy(t,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,n)}})}function Ql(t){return JSON.parse(JSON.stringify(t))}const hr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mx=[502,503,504];async function Xl(t){var e;if(!rx(t))throw new ko(hr(t),0);if(mx.includes(t.status))throw new ko(hr(t),t.status);let r;try{r=await t.json()}catch(i){throw new mr(hr(i),i)}let s;const n=ux(t);if(n&&n.getTime()>=xh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Kl(hr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Xe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Kl(hr(r),t.status,r.weak_password.reasons);throw new H0(hr(r),t.status||500,s)}const gx=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function B(t,e,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[To]||(i[To]=xh["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await yx(t,e,r+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function yx(t,e,r,s,n,i){const o=gx(e,s,n,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new ko(hr(l),0)}if(a.ok||await Xl(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await Xl(l)}}function Ze(t){var e;let r=null;wx(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Z0(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Zl(t){const e=Ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bx(t){return{data:t,error:null}}function vx(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=sr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ec(t){return t}function wx(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fi=["global","local","others"];class xx{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Sh(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Fi[0]){if(Fi.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fi.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=sr(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:vx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ec});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){$r(e);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){$r(e);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Bt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){$r(e);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){$r(e.userId);try{const{data:r,error:s}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(e){$r(e.userId),$r(e.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ec});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(L(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}}function tc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Dr={debug:!!(globalThis&&Eh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ch extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _x extends Ch{}async function Ex(t,e,r){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _x(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Dr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Sx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Th(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Cx(t){return parseInt(t,16)}function Tx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function kx(t){var e;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=Th(t.address),b=d?`${d}://${s}`:s,g=t.statement?`${t.statement}
`:"",y=`${b} wants you to sign in with your Ethereum account:
${h}

${g}`;let w=`URI: ${f}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(w+=`
Expiration Time: ${n.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}w+=v}return`${y}
${w}`}class xe extends Error{constructor({message:e,code:r,cause:s,name:n}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Fn extends xe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ax({error:t,options:e}){var r,s,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new xe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new xe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new xe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new xe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new xe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new xe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(kh(o)){if(i.rp.id!==o)return new xe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new xe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new xe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function jx({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new xe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(kh(s)){if(r.rpId!==s)return new xe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new xe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Nx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Px=new Nx;function Rx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,n=sr(t,["challenge","user","excludeCredentials"]),i=Gr(e).buffer,o=Object.assign(Object.assign({},r),{id:Gr(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Gr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Ox(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=sr(t,["challenge","allowCredentials"]),n=Gr(e).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Gr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Ix(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:gr(new Uint8Array(t.response.attestationObject)),clientDataJSON:gr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:gr(new Uint8Array(n.authenticatorData)),clientDataJSON:gr(new Uint8Array(n.clientDataJSON)),signature:gr(new Uint8Array(n.signature)),userHandle:n.userHandle?gr(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kh(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function rc(){var t,e;return!!(Ae()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $x(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fn("Browser returned unexpected credential type",e)}:{data:null,error:new Fn("Empty credential response",e)}}catch(e){return{data:null,error:Ax({error:e,options:t})}}}async function Dx(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fn("Browser returned unexpected credential type",e)}:{data:null,error:new Fn("Empty credential response",e)}}catch(e){return{data:null,error:jx({error:e,options:t})}}}const Lx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ux={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bn(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const a=s[i];e(a)?s[i]=Bn(a,o):s[i]=Bn(o)}else s[i]=o}return s}function Fx(t,e){return Bn(Lx,t,e||{})}function Bx(t,e){return Bn(Ux,t,e||{})}class qx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=n??Px.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Fx(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await $x({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=Bx(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Dx(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new mr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Ms("rpId is required for WebAuthn authentication")};try{if(!rc())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new mr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Ms("rpId is required for WebAuthn registration")};try{if(!rc())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new mr("Unexpected error in register",o)}}}}Sx();const Vx={url:U0,storageKey:F0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sc(t,e,r){return await r()}const Lr={};class $s{get jwks(){var e,r;return(r=(e=Lr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Lr[this.storageKey]=Object.assign(Object.assign({},Lr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Lr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Lr[this.storageKey]=Object.assign(Object.assign({},Lr[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Vx),e);if(this.storageKey=i.storageKey,this.instanceID=(r=$s.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,$s.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ae()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new xx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Sh(i.fetch),this.lock=i.lock||sc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ae()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Ex:this.lock=sc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Eh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=tc(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wh}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(Ae()&&(r=tx(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Ae()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),K0(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?this._returnResult({error:r}):this._returnResult({error:new mr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ze}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:d,password:f,options:p}=e;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await Mr(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:b},xform:Ze})}else if("phone"in e){const{phone:d,password:f,options:p}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ze})}else throw new yn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Zl})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Zl})}else throw new yn("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const i=new Ir;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,n,i,o,a,l,c,d,f,p;let h,b;if("message"in e)h=e.message,b=e.signature;else{const{chain:g,wallet:y,statement:w,options:v}=e;let x;if(Ae())if(typeof y=="object")x=y;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")x=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const E=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Th(S[0]);let k=(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!k){const D=await x.request({method:"eth_chainId"});k=Cx(D)}const A={domain:E.host,address:C,statement:w,uri:E.href,version:"1",chainId:k,nonce:(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=kx(A),b=await x.request({method:"personal_sign",params:[Tx(h),C]})}try{const{data:g,error:y}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:b},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ze});if(y)throw y;if(!g||!g.session||!g.user){const w=new Ir;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(L(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,s,n,i,o,a,l,c,d,f,p,h;let b,g;if("message"in e)b=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:v,options:x}=e;let E;if(Ae())if(typeof w=="object")E=w;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))E=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const C=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)b=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(n=(s=x==null?void 0:x.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:y,error:w}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:gr(g)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ze});if(w)throw w;if(!y||!y.session||!y.user){const v=new Ir;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(L(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ze});if(await Dt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Ir;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ze}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Ir;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Mr(this.storage,this.storageKey));const{error:f}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new yn("You must provide either an email or phone number.")}catch(a){if(L(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ze});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var r,s,n,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Mr(this.storage,this.storageKey));const c=await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:bx});return!((i=c.data)===null||i===void 0)&&i.url&&Ae()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(L(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Xe;const{error:n}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(L(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new yn("You must provide either an email or phone number and a type")}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<$i:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await ur(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ui()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=px(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bt}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xe}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Bt})})}catch(r){if(L(r))return z0(r)&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Xe;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Mr(this.storage,this.storageKey));const{data:c,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Bt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(L(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xe;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=Li(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Xe;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ae())throw new bn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zl("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new bn("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const h=p-d;h*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const b=p-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(s){if(L(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(W0(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=ex(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Mr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(L(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return Ae()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(L(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,f=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ze}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ir}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await nx(async n=>(n>0&&await sx(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ze})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Di(i)&&Date.now()+o-s<qr})}catch(s){if(this._debug(r,"error",s),L(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Ae()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await ur(this.storage,this.storageKey);if(n&&this.userStorage){let o=await ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Vr(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ui()}else if(n&&!n.user&&!n.user){const o=await ur(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Dt(this.storage,this.storageKey+"-user"),await Vr(this.storage,this.storageKey,n)):n.user=Ui()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$i;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${$i}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Di(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new di;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Xe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),L(i)){const o={data:null,error:i};return Di(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Vr(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=Ql(n);await Vr(this.storage,this.storageKey,i)}else{const n=Ql(r);await Vr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Dt(this.storage,this.storageKey),await Dt(this.storage,this.storageKey+"-code-verifier"),await Dt(this.storage,this.storageKey+"-user"),this.userStorage&&await Dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ae()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${qr}ms, refresh threshold is ${Co} ticks`),n<=Co&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ch)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Mr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ix(e.webauthn.credential_response):Mx(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Rx(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ox(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Li(s.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await B(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Xe})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Xe});const o=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ae()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(L(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Xe});const o=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ae()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(L(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+V0>n)return s;const{data:i,error:o}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:h,error:b}=await this.getSession();if(b||!h.session)return this._returnResult({data:null,error:b});s=h.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Li(s);r!=null&&r.allowExpired||dx(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(s);if(h)throw h;return{data:{claims:i,header:n,signature:o},error:null}}const d=hx(n.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,X0(`${a}.${l}`)))throw new Ao("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(L(s))return this._returnResult({data:null,error:s});throw s}}}$s.nextInstanceID={};const Hx=$s;class Wx extends Hx{constructor(e){super(e)}}class zx{constructor(e,r,s){var n,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=L0(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:N0,realtime:R0,auth:Object.assign(Object.assign({},P0),{storageKey:l}),global:j0},d=D0(s??{},c);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=M0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Uw(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new T0(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new $w(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:d},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wx({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,flowType:a,lock:l,debug:c,throwOnError:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new r0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kx=(t,e,r)=>new zx(t,e,r);function Gx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Gx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jx="https://csltrjuucicnlhipaszh.supabase.co",Yx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhucW5sd3hhc3hmcHJ2dmZybWptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5NjkxMDYsImV4cCI6MjA3ODU0NTEwNn0.yr4ivs_B4aauave1F8j-82cnALOyXVEPLXgGc97lusI",Ne=Kx(Jx,Yx,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Ah=m.createContext(void 0),Qx=({children:t})=>{const[e,r]=m.useState(null),[s,n]=m.useState(null),[i,o]=m.useState(!0);m.useEffect(()=>{let f=!0;Ne.auth.getSession().then(({data:{session:h}})=>{f&&(n(h),r((h==null?void 0:h.user)??null),o(!1))});const{data:{subscription:p}}=Ne.auth.onAuthStateChange((h,b)=>{f&&(n(b),r((b==null?void 0:b.user)??null),o(!1))});return()=>{f=!1,p.unsubscribe()}},[]);const d={user:e,session:s,loading:i,signIn:async(f,p)=>{try{const{error:h}=await Ne.auth.signInWithPassword({email:f,password:p});return{error:h}}catch(h){return{error:h}}},signUp:async(f,p,h,b)=>{try{const g=`${window.location.origin}/login`,{error:y}=await Ne.auth.signUp({email:f,password:p,options:{emailRedirectTo:g,data:{full_name:h,whatsapp:b}}});return{error:y}}catch(g){return{error:g}}},signOut:async()=>{await Ne.auth.signOut()}};return u.jsx(Ah.Provider,{value:d,children:t})},ir=()=>{const t=m.useContext(Ah);if(t===void 0)throw new Error("useAuth must be used within AuthProvider");return t},jh=m.createContext(void 0),Xx=({children:t})=>{const[e,r]=m.useState(()=>typeof window>"u"?"dark":localStorage.getItem("theme")||"dark");m.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const n={theme:e,toggleTheme:()=>{r(i=>i==="light"?"dark":"light")}};return u.jsx(jh.Provider,{value:n,children:t})},Zx=()=>{const t=m.useContext(jh);if(t===void 0)throw new Error("useTheme must be used within ThemeProvider");return t};var e_=Symbol.for("react.lazy"),qn=Gn[" use ".trim().toString()];function t_(t){return typeof t=="object"&&t!==null&&"then"in t}function Nh(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===e_&&"_payload"in t&&t_(t._payload)}function Ph(t){const e=s_(t),r=m.forwardRef((s,n)=>{let{children:i,...o}=s;Nh(i)&&typeof qn=="function"&&(i=qn(i._payload));const a=m.Children.toArray(i),l=a.find(i_);if(l){const c=l.props.children,d=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:n,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:n,children:i})});return r.displayName=`${t}.Slot`,r}var r_=Ph("Slot");function s_(t){const e=m.forwardRef((r,s)=>{let{children:n,...i}=r;if(Nh(n)&&typeof qn=="function"&&(n=qn(n._payload)),m.isValidElement(n)){const o=a_(n),a=o_(i,n.props);return n.type!==m.Fragment&&(a.ref=s?Vs(s,o):o),m.cloneElement(n,a)}return m.Children.count(n)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var n_=Symbol("radix.slottable");function i_(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===n_}function o_(t,e){const r={...e};for(const s in e){const n=t[s],i=e[s];/^on[A-Z]/.test(s)?n&&i?r[s]=(...a)=>{const l=i(...a);return n(...a),l}:n&&(r[s]=n):s==="style"?r[s]={...n,...i}:s==="className"&&(r[s]=[n,i].filter(Boolean).join(" "))}return{...t,...r}}function a_(t){var s,n;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const l_=Zn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=m.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...n},i)=>{const o=s?r_:"button";return u.jsx(o,{className:de(l_({variant:e,size:r,className:t})),ref:i,...n})});ie.displayName="Button";const Hr=m.forwardRef(({className:t,type:e,...r},s)=>u.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));Hr.displayName="Input";var c_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],u_=c_.reduce((t,e)=>{const r=Ph(`Primitive.${e}`),s=m.forwardRef((n,i)=>{const{asChild:o,...a}=n,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),d_="Label",Rh=m.forwardRef((t,e)=>u.jsx(u_.label,{...t,ref:e,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Rh.displayName=d_;var Oh=Rh;const h_=Zn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wr=m.forwardRef(({className:t,...e},r)=>u.jsx(Oh,{ref:r,className:de(h_(),t),...e}));Wr.displayName=Oh.displayName;var f_=m.createContext(void 0);function Ih(t){const e=m.useContext(f_);return t||e||"ltr"}var Bi="rovingFocusGroup.onEntryFocus",p_={bubbles:!1,cancelable:!0},Ys="RovingFocusGroup",[jo,Mh,m_]=Fc(Ys),[g_,$h]=er(Ys,[m_]),[y_,b_]=g_(Ys),Dh=m.forwardRef((t,e)=>u.jsx(jo.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(jo.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(v_,{...t,ref:e})})}));Dh.displayName=Ys;var v_=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=m.useRef(null),h=ke(e,p),b=Ih(i),[g,y]=Hs({prop:o,defaultProp:a??null,onChange:l,caller:Ys}),[w,v]=m.useState(!1),x=it(c),E=Mh(r),S=m.useRef(!1),[C,k]=m.useState(0);return m.useEffect(()=>{const A=p.current;if(A)return A.addEventListener(Bi,x),()=>A.removeEventListener(Bi,x)},[x]),u.jsx(y_,{scope:r,orientation:s,dir:b,loop:n,currentTabStopId:g,onItemFocus:m.useCallback(A=>y(A),[y]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:m.useCallback(()=>k(A=>A-1),[]),children:u.jsx(oe.div,{tabIndex:w||C===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:Q(t.onMouseDown,()=>{S.current=!0}),onFocus:Q(t.onFocus,A=>{const D=!S.current;if(A.target===A.currentTarget&&D&&!w){const I=new CustomEvent(Bi,p_);if(A.currentTarget.dispatchEvent(I),!I.defaultPrevented){const W=E().filter(U=>U.focusable),M=W.find(U=>U.active),X=W.find(U=>U.id===g),J=[M,X,...W].filter(Boolean).map(U=>U.ref.current);Fh(J,d)}}S.current=!1}),onBlur:Q(t.onBlur,()=>v(!1))})})}),Lh="RovingFocusGroupItem",Uh=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:n=!1,tabStopId:i,children:o,...a}=t,l=Ss(),c=i||l,d=b_(Lh,r),f=d.currentTabStopId===c,p=Mh(r),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:g}=d;return m.useEffect(()=>{if(s)return h(),()=>b()},[s,h,b]),u.jsx(jo.ItemSlot,{scope:r,id:c,focusable:s,active:n,children:u.jsx(oe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Q(t.onMouseDown,y=>{s?d.onItemFocus(c):y.preventDefault()}),onFocus:Q(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:Q(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=__(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=p().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const E=x.indexOf(y.currentTarget);x=d.loop?E_(x,E+1):x.slice(E+1)}setTimeout(()=>Fh(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});Uh.displayName=Lh;var w_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x_(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function __(t,e,r){const s=x_(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return w_[s]}function Fh(t,e=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}function E_(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var S_=Dh,C_=Uh,hi="Tabs",[T_]=er(hi,[$h]),Bh=$h(),[k_,ba]=T_(hi),qh=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Ih(a),[f,p]=Hs({prop:s,onChange:n,defaultProp:i??"",caller:hi});return u.jsx(k_,{scope:r,baseId:Ss(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:u.jsx(oe.div,{dir:d,"data-orientation":o,...c,ref:e})})});qh.displayName=hi;var Vh="TabsList",Hh=m.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...n}=t,i=ba(Vh,r),o=Bh(r);return u.jsx(S_,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:u.jsx(oe.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:e})})});Hh.displayName=Vh;var Wh="TabsTrigger",zh=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:n=!1,...i}=t,o=ba(Wh,r),a=Bh(r),l=Jh(o.baseId,s),c=Yh(o.baseId,s),d=s===o.value;return u.jsx(C_,{asChild:!0,...a,focusable:!n,active:d,children:u.jsx(oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:l,...i,ref:e,onMouseDown:Q(t.onMouseDown,f=>{!n&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Q(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Q(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!n&&f&&o.onValueChange(s)})})})});zh.displayName=Wh;var Kh="TabsContent",Gh=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:n,children:i,...o}=t,a=ba(Kh,r),l=Jh(a.baseId,s),c=Yh(a.baseId,s),d=s===a.value,f=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(tr,{present:n||d,children:({present:p})=>u.jsx(oe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});Gh.displayName=Kh;function Jh(t,e){return`${t}-trigger-${e}`}function Yh(t,e){return`${t}-content-${e}`}var A_=qh,Qh=Hh,Xh=zh,Zh=Gh;const j_=A_,ef=m.forwardRef(({className:t,...e},r)=>u.jsx(Qh,{ref:r,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ef.displayName=Qh.displayName;const No=m.forwardRef(({className:t,...e},r)=>u.jsx(Xh,{ref:r,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));No.displayName=Xh.displayName;const Po=m.forwardRef(({className:t,...e},r)=>u.jsx(Zh,{ref:r,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Po.displayName=Zh.displayName;const N_=()=>{const[t,e]=m.useState(""),[r,s]=m.useState(""),[n,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(!1),d=kt(),{signIn:f,signUp:p,user:h}=ir();m.useEffect(()=>{h&&d("/dashboard")},[h,d]);const b=async y=>{y.preventDefault(),c(!0);const{error:w}=await f(t,r);w?(Ie.error("Credenciais invlidas. Verifica o teu e-mail e palavra-passe."),c(!1)):(Ie.success("Bem-vinda de volta! "),d("/dashboard"))},g=async y=>{y.preventDefault(),c(!0);const w="Reconquista@2026",{error:v}=await p(t,w,n,o);v?(Ie.error(v.message||"Erro ao criar conta. Tenta novamente."),c(!1)):(Ie.success("Conta criada! Agora faa login com seu e-mail e a senha Reconquista@2026"),d("/login"))};return u.jsxs("div",{className:"relative flex min-h-screen items-center justify-center overflow-hidden bg-gradient-to-br from-background via-background to-background/95",children:[u.jsxs("div",{className:"absolute inset-0 opacity-30",children:[u.jsx("div",{className:"absolute left-10 top-20 h-72 w-72 animate-pulse rounded-full bg-primary/20 blur-3xl"}),u.jsx("div",{className:"absolute bottom-20 right-10 h-96 w-96 animate-pulse rounded-full bg-secondary/20 blur-3xl delay-1000"})]}),u.jsx("div",{className:"relative z-10 w-full max-w-md animate-fade-in px-6",children:u.jsxs("div",{className:"rounded-2xl border border-border/50 bg-card/80 p-8 shadow-2xl backdrop-blur-xl md:p-12",children:[u.jsx("div",{className:"mb-8 flex justify-center",children:u.jsx("img",{src:"https://pub-335435355c6548d7987945a540eca66b.r2.dev/LOGO%20DA%20PAGINA%20DE%20LOGIN.webp",alt:"Cdigo da Reconquista",className:"h-auto w-full max-w-[280px] animate-scale-in"})}),u.jsx("h1",{className:"mb-2 text-center text-2xl font-bold text-foreground md:text-3xl",children:"Acesso  rea de Membros"}),u.jsx("p",{className:"mb-8 text-center text-muted-foreground",children:"Inicia a tua jornada de reconquista"}),u.jsxs(j_,{defaultValue:"signin",className:"w-full",children:[u.jsxs(ef,{className:"mb-6 grid w-full grid-cols-2",children:[u.jsx(No,{value:"signin",children:"Entrar"}),u.jsx(No,{value:"signup",children:"Criar Conta"})]}),u.jsx(Po,{value:"signin",children:u.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Wr,{htmlFor:"email-signin",className:"text-foreground",children:"E-mail"}),u.jsx(Hr,{id:"email-signin",type:"email",placeholder:"teu@email.com",value:t,onChange:y=>e(y.target.value),required:!0,className:"border-border bg-background/50 text-foreground transition-all placeholder:text-muted-foreground focus:border-primary"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Wr,{htmlFor:"password-signin",className:"text-foreground",children:"Palavra-passe"}),u.jsx(Hr,{id:"password-signin",type:"password",placeholder:"",value:r,onChange:y=>s(y.target.value),required:!0,className:"border-border bg-background/50 text-foreground transition-all placeholder:text-muted-foreground focus:border-primary"})]}),u.jsx(ie,{type:"submit",disabled:l,className:"hover:shadow-red w-full rounded-xl bg-secondary py-6 text-lg font-semibold text-secondary-foreground shadow-lg transition-all hover:scale-[1.02] hover:bg-secondary/90",children:l?"A entrar...":"ENTRAR NA JORNADA"})]})}),u.jsx(Po,{value:"signup",children:u.jsxs("form",{onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Wr,{htmlFor:"fullname",className:"text-foreground",children:"Nome Completo"}),u.jsx(Hr,{id:"fullname",type:"text",placeholder:"O teu nome",value:n,onChange:y=>i(y.target.value),required:!0,className:"border-border bg-background/50 text-foreground transition-all placeholder:text-muted-foreground focus:border-primary"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Wr,{htmlFor:"email-signup",className:"text-foreground",children:"E-mail"}),u.jsx(Hr,{id:"email-signup",type:"email",placeholder:"teu@email.com",value:t,onChange:y=>e(y.target.value),required:!0,className:"border-border bg-background/50 text-foreground transition-all placeholder:text-muted-foreground focus:border-primary"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Wr,{htmlFor:"whatsapp-signup",className:"text-foreground",children:"Nmero de WhatsApp"}),u.jsx(Hr,{id:"whatsapp-signup",type:"tel",placeholder:"+258...",value:o,onChange:y=>a(y.target.value),required:!0,className:"border-border bg-background/50 text-foreground transition-all placeholder:text-muted-foreground focus:border-primary"})]}),u.jsx("div",{className:"rounded-lg bg-muted/30 p-4",children:u.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["A senha inicial ser:"," ",u.jsx("span",{className:"font-semibold text-foreground",children:"Reconquista@2026"})]})}),u.jsx(ie,{type:"submit",disabled:l,className:"hover:shadow-red w-full rounded-xl bg-secondary py-6 text-lg font-semibold text-secondary-foreground shadow-lg transition-all hover:scale-[1.02] hover:bg-secondary/90",children:l?"A criar conta...":"COMEAR A JORNADA"})]})})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:" Cria a tua conta para aceder a todos os mdulos do curso"})})]})})]})},P_=[{id:1,title:"Reset Emocional",slug:"reset-emocional",description:"Aprende a parar de agir pela emoo e descobre a melhor tcnica de reconquista amorosa. O primeiro passo para virar o jogo.",thumbnail:"https://pub-335435355c6548d7987945a540eca66b.r2.dev/MODULO%201.webp",duration:"45 min",lessons:[{id:1,title:"Os Homens Sempre Voltam - Como Assim?!",description:"Entenda por que o desapego  a chave para faz-lo voltar. Aprenda a virar o jogo usando a ausncia estratgica a seu favor.",youtubeId:"fsCvIC_FYRM",duration:"22 min"},{id:2,title:"Homem Precisa de Ausncia e Tempo Para Correr Atrs",description:"Descubra o timing perfeito para aplicar a ausncia e fazer ele sentir a sua falta de forma incontrolvel.",youtubeId:"wPFir0N4HoU",duration:"23 min"}],progress:0,badge:null},{id:2,title:"Mapa da Mente Masculina",slug:"mapa-mente-masculina",description:"Descobre porque homens se apaixonam pela ausncia e como fazer ele sentir a tua falta de forma irresistvel.",thumbnail:"https://pub-335435355c6548d7987945a540eca66b.r2.dev/MODULO%202.webp",duration:"50 min",lessons:[{id:1,title:"Como Controlar a Mente de Um Homem",description:"Aprenda os mecanismos psicolgicos que regem as decises masculinas e como us-los a seu favor na reconquista.",youtubeId:"-pfXXwkNWTk",duration:"25 min"},{id:2,title:"Os 5 Princpios da Mente Masculina",description:"Domine os 5 pilares da psicologia masculina que determinam como ele age, sente e decide em um relacionamento.",youtubeId:"Kvmh9RUIfFc",duration:"25 min"}],progress:0,badge:null},{id:3,title:"Gatilhos da Memria Emocional",slug:"gatilhos-memoria-emocional",description:"Como ativar a memria emocional dele e faz-lo reviver os melhores momentos convosco de forma involuntria.",thumbnail:"https://pub-335435355c6548d7987945a540eca66b.r2.dev/MODULO%203.webp",duration:"55 min",lessons:[{id:1,title:"Como Deixar Um Homem Com Medo de Perder",description:"Ative o gatilho do medo da perda e faa ele perceber que pode estar a cometer o maior erro da vida dele.",youtubeId:"PGKr4GN-UtM",duration:"55 min"}],progress:0,badge:"NOVO"},{id:4,title:"A Frase de 5 Palavras",slug:"frase-5-palavras",description:"A frase secreta de 5 palavras que ativa o desejo dele instantaneamente. Usa no WhatsApp, ao vivo ou por udio.",thumbnail:"https://pub-335435355c6548d7987945a540eca66b.r2.dev/MODULO%204.webp",duration:"60 min",lessons:[{id:1,title:"3 Frases Para Mexer Profundamente Com o Psicolgico de Um Homem",description:"Aprenda as 3 frases secretas que ativam a memria emocional dele e reacendem a paixo adormecida.",youtubeId:"hjVBIwEWO7o",duration:"30 min"},{id:2,title:"A Mensagem Que Reconquista - Ele Sumiu? Diga Isso!",description:"A mensagem exata para enviar quando ele desaparece, que o faz voltar arrependido e desesperado por uma segunda chance.",youtubeId:"tu2NxuqrbK4",duration:"30 min"}],progress:0,badge:"POPULAR"},{id:5,title:"Primeiro Contato Estratgico",slug:"primeiro-contato-estrategico",description:"O que dizer quando ele te procurar (ou como fazer ele dar o primeiro passo). Scripts prontos para cada situao.",thumbnail:"https://pub-335435355c6548d7987945a540eca66b.r2.dev/MODULO%205.webp",duration:"48 min",lessons:[{id:1,title:"Como Se Comportar Ao Se Encontrar Com o Ex",description:"O guia completo de postura, tom de voz e linguagem corporal para o primeiro encontro aps o trmino.",youtubeId:"sklhMr24Fg4",duration:"24 min"},{id:2,title:"O Ex Apareceu - Faa Certo Dessa Vez!",description:"O que dizer e fazer quando ele te procura de novo. Evite os erros fatais e capitalize este momento crucial.",youtubeId:"-6YSO7AYrZI",duration:"24 min"}],progress:0,badge:null},{id:6,title:"Domnio da Conversa",slug:"dominio-conversa",description:"Como manter conversas envolventes sem parecer carente. As 3 frases que ativam o desejo do homem.",thumbnail:"https://pub-335435355c6548d7987945a540eca66b.r2.dev/MODULO%206.webp",duration:"52 min",lessons:[{id:1,title:"WhatsApp - Seja Direta Ao Falar Com Homem",description:"Domine a arte da comunicao por mensagem. Aprenda o tom, o timing e as frases que criam tenso e desejo.",youtubeId:"jkBEYleb4ZM",duration:"52 min"}],progress:0,badge:null},{id:7,title:"Conquista Duradoura",slug:"conquista-duradoura",description:"Os 5 pilares do relacionamento saudvel. Como manter a chama acesa e transformar reconquista em amor eterno.",thumbnail:"https://pub-335435355c6548d7987945a540eca66b.r2.dev/MODULO%207.webp",duration:"58 min",lessons:[{id:1,title:"Por Que Nenhum Relacionamento Meu Vai Pra Frente",description:"Identifique os padres sabotadores que impedem seus relacionamentos de evoluir e corrija-os de uma vez por todas.",youtubeId:"kSf3mrsW5XA",duration:"29 min"},{id:2,title:"Como Virar o Jogo no Seu Relacionamento",description:"Estratgias prticas para transformar uma relao desgastada em um compromisso forte, saudvel e duradouro.",youtubeId:"-SaF4rs6JEg",duration:"29 min"}],progress:0,badge:null}],Cr=[{module:1,lesson:1,title:"Suma que ELE VEM ATRS!",videoId:"c1CQZVK5lhc",description:"Descubra por que a ausncia estratgica  a chave para faz-lo voltar.",duration:"8 min",views:"1.4M",order:1},{module:1,lesson:2,title:"NO TENHA MEDO de sumir e ELE TE ESQUECER!",videoId:"S7_4EebCUcM",description:"Aprenda a aplicar o distanciamento sem medo de perd-lo.",duration:"7 min",views:"1.2M",order:2},{module:1,lesson:3,title:"Os HOMENS SEMPRE VOLTAM Como assim!!",videoId:"fsCvIC_FYRM",description:"Entenda a psicologia por trs do retorno masculino.",duration:"9 min",views:"1M",order:3},{module:1,lesson:4,title:"HOMEM precisa de AUSNCIA e TEMPO para CORRER ATRS",videoId:"wPFir0N4HoU",description:"O timing perfeito para aplicar a ausncia estratgica.",duration:"6 min",views:"985K",order:4},{module:1,lesson:5,title:"Por que quando a MULHER SOME O HOMEM VAI ATRS? (BNUS)",videoId:"w3gApW6MI3M",description:"Entenda a psicologia por trs do movimento de ausncia.",duration:"7 min",views:"1.1M",isBonus:!0,order:5},{module:1,lesson:6,title:"Por que NO IR ATRS  a melhor escolha? (BNUS)",videoId:"ODhg0ND4DYc",description:"Descubra porque resistir  a estratgia vencedora.",duration:"8 min",views:"842K",isBonus:!0,order:6},{module:1,lesson:7,title:"No entre em DESESPERO! Seno voc PERDE! (BNUS)",videoId:"jGjdF7U14EY",description:"Como manter o controle emocional em momentos crticos.",duration:"7 min",views:"498K",isBonus:!0,order:7},{module:2,lesson:1,title:"OS 5 PRINCPIOS DA MENTE MASCULINA!",videoId:"Kvmh9RUIfFc",description:"Domine os 5 pilares da psicologia masculina.",duration:"10 min",views:"472K",order:1},{module:2,lesson:2,title:"COMO CONTROLAR A MENTE DE UM HOMEM?",videoId:"-pfXXwkNWTk",description:"Aprenda os mecanismos psicolgicos que regem decises masculinas.",duration:"9 min",views:"316K",order:2},{module:2,lesson:3,title:"O que o SILNCIO faz na CABEA de um HOMEM?",videoId:"v_d7mmtVh0c",description:"O poder do silncio estratgico na reconquista.",duration:"7 min",views:"604K",order:3},{module:2,lesson:4,title:"CABEA DO HOMEM no PS TRMINO",videoId:"knKjXRx0iag",description:"Como ele pensa e sente aps o trmino.",duration:"8 min",views:"316K",order:4},{module:2,lesson:5,title:"OS HOMENS SO PREVISVEIS!! ATENO MULHERES!! (BNUS)",videoId:"eDMlDbXrBUA",description:"Descubra os padres comportamentais masculinos.",duration:"9 min",views:"472K",isBonus:!0,order:5},{module:2,lesson:6,title:"HOMEM GOSTA DE SER PISADO E DESPREZADO? (BNUS)",videoId:"DbMmYHv1xkk",description:"A verdade sobre valorizao e desprezo.",duration:"7 min",views:"506K",isBonus:!0,order:6},{module:2,lesson:7,title:"LINHA MASCULINA do tempo no PS TRMINO? (BNUS)",videoId:"nz3IEPR7euo",description:"A cronologia emocional masculina aps o fim.",duration:"8 min",views:"325K",isBonus:!0,order:7},{module:3,lesson:1,title:"Como deixar um HOMEM COM MEDO DE PERDER!",videoId:"Itat8QDkhhQ",description:"Ative o gatilho do medo da perda.",duration:"12 min",views:"2M",order:1},{module:3,lesson:2,title:"APRENDA A REJEITAR PRA ELE VIR ATRAS!",videoId:"5LMJop82nBk",description:"A arte de rejeitar estrategicamente.",duration:"9 min",views:"1.3M",order:2},{module:3,lesson:3,title:"Postura que faz HOMEM QUERER FEITO DOIDO",videoId:"8KD93jjgbBg",description:"A postura que desperta desejo irresistvel.",duration:"8 min",views:"1.2M",order:3},{module:3,lesson:4,title:"EU QUERO QUE ELE VOLTE RASTEJANDO! (BNUS)",videoId:"TAgC5VAg2_o",description:"Como faz-lo implorar pela sua ateno.",duration:"9 min",views:"601K",isBonus:!0,order:4},{module:4,lesson:1,title:"3 Frases Pra Mexer PROFUNDAMENTE com o Psicolgico de um Homem!",videoId:"hjVBIwEWO7o",description:"As 3 frases secretas que ativam memria emocional.",duration:"11 min",views:"545K",order:1},{module:4,lesson:2,title:"A Mensagem que Reconquista - ELE Sumiu? Diga isso!",videoId:"tu2NxuqrbK4",description:"A mensagem exata para quando ele desaparece.",duration:"10 min",views:"759K",order:2},{module:4,lesson:3,title:"ELE SUMIU! Devo MANDAR um 'Oi'?",videoId:"hRYhIoNhJqs",description:"Como reagir quando ele some.",duration:"7 min",views:"1.1M",order:3},{module:5,lesson:1,title:"O EX APARECEU? FAA CERTO DESSA VEZ!",videoId:"-6YSO7AYrZI",description:"O que dizer e fazer quando ele te procura.",duration:"12 min",views:"241K",order:1},{module:5,lesson:2,title:"Como se comportar ao se ENCONTRAR com EX?",videoId:"sklhMr24Fg4",description:"Guia completo de postura e linguagem corporal.",duration:"11 min",views:"177K",order:2},{module:5,lesson:3,title:"Ele enviou 'SAUDADES'!!! O QUE RESPONDER?",videoId:"h5gUHiS-q7k",description:"A resposta perfeita para reconquistar.",duration:"9 min",views:"545K",order:3},{module:6,lesson:1,title:"WHATSAPP: SEJA DIRETA AO FALAR COM HOMEM!",videoId:"jkBEYleb4ZM",description:"Domine a comunicao por mensagem.",duration:"9 min",views:"239K",order:1},{module:6,lesson:2,title:"WhatsApp: Mensagem MEDOCRE NO se RESPONDE!!",videoId:"MYPGCmLJFKw",description:"Como identificar e lidar com mensagens rasas.",duration:"7 min",views:"346K",order:2},{module:6,lesson:3,title:"VOC sabe se COMUNICAR com um HOMEM?",videoId:"eSgYJD9OVSU",description:"A arte da comunicao eficaz.",duration:"8 min",views:"239K",order:3},{module:6,lesson:4,title:"O que falar no WHATS aps um Gelo? Parte 1 (BNUS)",videoId:"QDFILn1Z-n0",description:"Estratgias para quebrar o gelo - Parte 1.",duration:"9 min",views:"618K",isBonus:!0,order:4},{module:6,lesson:5,title:"O que falar no SAPP aps Gelo? Parte 2 (BNUS)",videoId:"UL6eqQ3yGFA",description:"Estratgias para quebrar o gelo - Parte 2.",duration:"8 min",views:"217K",isBonus:!0,order:5},{module:7,lesson:1,title:"POR QUE NENHUM RELACIONAMENTO MEU VAI PRA FRENTE?",videoId:"kSf3mrsW5XA",description:"Identifique padres sabotadores.",duration:"11 min",views:"532K",order:1},{module:7,lesson:2,title:"Como VIRAR O JOGO no seu RELACIONAMENTO?",videoId:"4p3u7AaOsDg",description:"Estratgias para transformar sua relao.",duration:"9 min",views:"183K",order:2},{module:7,lesson:3,title:"Como prender um homem? TCNICA INFALVEL!",videoId:"NXDmCor9bUY",description:"A tcnica definitiva para mant-lo apaixonado.",duration:"10 min",views:"852K",order:3},{module:7,lesson:4,title:"COMO MANTER O HOMEM INTERESSADO?",videoId:"zbwv5QuANd8",description:"Mantenha a chama acesa para sempre.",duration:"8 min",views:"325K",order:4},{module:7,lesson:5,title:"NO ACEITE qualquer coisa de um HOMEM!! (BNUS)",videoId:"s4SzR3LStMc",description:"Estabelea padres elevados e mantenha-os.",duration:"7 min",views:"239K",isBonus:!0,order:5},{module:7,lesson:6,title:"NO D O SEU PODER A UM HOMEM! (BNUS)",videoId:"koNd0YLIYkQ",description:"Mantenha o seu poder pessoal sempre.",duration:"7 min",views:"152K",isBonus:!0,order:6}],Tn=new Map,tf=new Map;Cr.forEach(t=>{Tn.has(t.module)||Tn.set(t.module,[]),Tn.get(t.module).push(t);const e=`${t.module}-${t.lesson}`;tf.set(e,t)});const R_=(t,e)=>{const r=`${t}-${e}`,s=tf.get(r);return s||console.error(` Aula no encontrada: Mdulo ${t}, Aula ${e}`),s},va=t=>{const e=Tn.get(t)||[];return e.length===0&&console.warn(` Nenhuma aula encontrada para o mdulo ${t}`),e},O_=(t,e)=>{const r=Cr.findIndex(s=>s.module===t&&s.lesson===e);return r===-1||r===Cr.length-1?null:Cr[r+1]},I_=(t,e)=>{const r=Cr.findIndex(s=>s.module===t&&s.lesson===e);return r<=0?null:Cr[r-1]},nc=t=>Cr.length,M_=()=>P_.map(t=>{const e=va(t.id);return{id:t.id,number:t.id,title:t.title,slug:t.slug,description:t.description,thumbnail:t.thumbnail,duration:t.duration,totalLessons:e.length||t.lessons.length,progress:t.progress,badge:t.badge}}),Ve=m.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ve.displayName="Card";const $_=m.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:de("flex flex-col space-y-1.5 p-6",t),...e}));$_.displayName="CardHeader";const D_=m.forwardRef(({className:t,...e},r)=>u.jsx("h3",{ref:r,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));D_.displayName="CardTitle";const L_=m.forwardRef(({className:t,...e},r)=>u.jsx("p",{ref:r,className:de("text-sm text-muted-foreground",t),...e}));L_.displayName="CardDescription";const U_=m.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:de("p-6 pt-0",t),...e}));U_.displayName="CardContent";const F_=m.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:de("flex items-center p-6 pt-0",t),...e}));F_.displayName="CardFooter";function B_({module:t,onClick:e}){const r=(t.progress||0)>0,s=(t.progress||0)>=100,i=((d,f)=>{const p={1:"MAIS VISTO",2:"RECOMENDADO",5:"MAIS VISTO",6:"RECOMENDADO",7:"NOVO"};return p[d]!==void 0?p[d]:f})(t.number,t.badge),a=(d=>{if(!d)return null;switch(d.toUpperCase()){case"NOVO":return{text:"NOVO",className:"bg-green-500/90 text-white border-green-400/50",icon:u.jsx(Es,{className:"h-3 w-3"})};case"RECOMENDADO":return{text:"RECOMENDADO",className:"bg-yellow-500/90 text-black border-yellow-400/50",icon:u.jsx(yu,{className:"h-3 w-3"})};case"POPULAR":return{text:"POPULAR",className:"bg-red-500/90 text-white border-red-400/50",icon:u.jsx(Ym,{className:"h-3 w-3"})};case"MAIS VISTO":return{text:"MAIS VISTO",className:"bg-purple-500/90 text-white border-purple-400/50",icon:u.jsx(Jm,{className:"h-3 w-3"})};default:return{text:d,className:"bg-primary/90 text-primary-foreground border-primary/50",icon:null}}})(i),l=()=>s?"Rever Mdulo":r?"Continuar Mdulo":"Comear Mdulo",c=()=>s?u.jsx(fu,{className:"h-4 w-4"}):r?u.jsx(Ko,{className:"h-4 w-4"}):u.jsx(Ga,{className:"h-4 w-4"});return u.jsxs(Ve,{className:"group relative w-[260px] flex-shrink-0 snap-start overflow-hidden transition-all duration-300 hover:border-primary/30 hover:shadow-xl sm:w-[280px]",children:[u.jsxs("div",{className:"relative aspect-video overflow-hidden bg-muted",children:[u.jsx("img",{src:t.thumbnail,alt:t.title,loading:"lazy",className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}),a&&u.jsx("div",{className:"absolute right-2 top-2",children:u.jsxs("div",{className:` ${a.className} flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs font-bold tracking-wide shadow-lg backdrop-blur-sm duration-500 animate-in fade-in slide-in-from-top-2`,children:[a.icon,u.jsx("span",{children:a.text})]})}),u.jsx("div",{className:"absolute left-2 top-2",children:u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-black/70 text-xs font-bold text-white shadow-lg backdrop-blur-sm",children:t.number})}),r&&!s&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:u.jsxs("div",{className:"flex items-center gap-2 text-xs text-white",children:[u.jsx("div",{className:"h-1 flex-1 overflow-hidden rounded-full bg-white/30",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${t.progress}%`}})}),u.jsxs("span",{className:"font-semibold",children:[t.progress,"%"]})]})}),s&&u.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:u.jsxs("div",{className:"flex items-center justify-center gap-1 rounded-full border border-green-400/50 bg-green-500/90 px-3 py-1.5 text-xs font-semibold text-white shadow-lg backdrop-blur-sm",children:[u.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Concludo"]})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"mb-2 line-clamp-2 min-h-[2.5rem] text-base font-bold text-foreground transition-colors group-hover:text-primary",children:t.title}),u.jsx("p",{className:"mb-3 line-clamp-2 text-xs leading-relaxed text-muted-foreground",children:t.description}),u.jsxs("div",{className:"mb-3 flex items-center justify-between text-xs text-muted-foreground",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Ga,{className:"h-3 w-3"}),u.jsxs("span",{className:"font-medium",children:[t.totalLessons," aulas"]})]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"font-medium",children:t.duration})]})]}),u.jsxs(ie,{onClick:d=>{d.stopPropagation(),e==null||e()},className:"h-9 w-full gap-2 text-sm font-semibold",variant:s?"outline":"default",children:[c(),u.jsx("span",{children:l()})]})]}),u.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-500 group-hover:opacity-100",children:u.jsx("div",{className:"absolute inset-0 translate-x-[-100%] bg-gradient-to-r from-transparent via-white/5 to-transparent transition-transform duration-1000 group-hover:translate-x-[100%]"})})]})}const ic=["Aplique a tcnica do Mdulo 2 e no envie mensagem por 48h","Assista 3 aulas esta semana e pratique o que aprendeu","Complete um mdulo inteiro sem pausas","Aplique a 'Frase de 5 Palavras' numa conversa real","Faa o exerccio de auto-reflexo do Mdulo 1"],q_=()=>{const[t,e]=m.useState(!1),r=Math.floor(Date.now()/(7*24*60*60*1e3))%ic.length,s=ic[r],n=()=>{e(!0),Ie.success("Desafio aceite! Vamos nessa! ")};return u.jsx(Ve,{className:"border-primary/30 bg-gradient-to-br from-primary/10 to-background p-6",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"rounded-lg bg-primary/20 p-3",children:u.jsx(tg,{className:"h-6 w-6 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"mb-2 text-lg font-bold text-foreground",children:" Seu Desafio da Semana"}),u.jsx("p",{className:"mb-4 text-muted-foreground",children:s}),u.jsx(ie,{onClick:n,disabled:t,variant:t?"outline":"default",className:"w-full sm:w-auto",children:t?" Desafio Aceite!":"Aceito o Desafio!"})]})]})})},V_=Zn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function H_({className:t,variant:e,...r}){return u.jsx("div",{className:de(V_({variant:e}),t),...r})}const W_=[{id:"frases-130",title:"130 Frases Para Deixar O Gajo Caidinho Por Ti",description:"Scripts prontos para cada situao",price:87,image:"",badge:"POPULAR",checkoutUrl:"#"},{id:"guia-obediencia",title:"Guia da Obedincia",description:"Como fazer ele te dar ateno total",price:97,image:"",checkoutUrl:"#"},{id:"respostas-130",title:"130 Respostas Infalveis",description:"Nunca mais fique sem saber o que responder",price:67,image:"",checkoutUrl:"#"},{id:"deusa-cama",title:"A Deusa na Cama",description:"Mdulo premium de seduo avanada",price:597,image:"",badge:"PREMIUM",checkoutUrl:"#"}],z_=()=>u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mb-2 text-2xl font-bold text-foreground md:text-3xl",children:"Recomendado Para Voc"}),u.jsx("p",{className:"text-muted-foreground",children:"Ferramentas extras para acelerar sua reconquista"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:W_.map(t=>u.jsxs(Ve,{className:`cursor-pointer p-6 transition-all hover:scale-105 ${t.badge==="PREMIUM"?"border-purple-500/30 bg-gradient-to-br from-purple-500/20 to-background":"hover:border-primary/50"}`,children:[t.badge&&u.jsx(H_,{variant:t.badge==="PREMIUM"?"default":"secondary",className:"mb-3",children:t.badge}),u.jsx("div",{className:"mb-4 text-center text-5xl",children:t.image}),u.jsx("h3",{className:"mb-2 min-h-[3rem] text-center font-bold text-foreground",children:t.title}),u.jsx("p",{className:"mb-4 text-center text-sm text-muted-foreground",children:t.description}),u.jsxs("p",{className:"mb-4 text-center text-2xl font-bold text-primary",children:[t.price," MZN"]}),u.jsx(ie,{className:"w-full",variant:"outline",children:"Quero Este Bnus"})]},t.id))})]}),K_=()=>{const{theme:t,toggleTheme:e}=Zx();return u.jsx(ie,{variant:"ghost",size:"sm",onClick:e,className:"gap-2",children:t==="light"?u.jsxs(u.Fragment,{children:[u.jsx(Zm,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Escuro"})]}):u.jsxs(u.Fragment,{children:[u.jsx(eg,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Claro"})]})})};var qi="focusScope.autoFocusOnMount",Vi="focusScope.autoFocusOnUnmount",oc={bubbles:!1,cancelable:!0},G_="FocusScope",rf=m.forwardRef((t,e)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=it(n),d=it(i),f=m.useRef(null),p=ke(e,g=>l(g)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let g=function(x){if(h.paused||!a)return;const E=x.target;a.contains(E)?f.current=E:Ft(f.current,{select:!0})},y=function(x){if(h.paused||!a)return;const E=x.relatedTarget;E!==null&&(a.contains(E)||Ft(f.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Ft(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),v.disconnect()}}},[s,a,h.paused]),m.useEffect(()=>{if(a){lc.add(h);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(qi,oc);a.addEventListener(qi,c),a.dispatchEvent(w),w.defaultPrevented||(J_(eE(sf(a)),{select:!0}),document.activeElement===g&&Ft(a))}return()=>{a.removeEventListener(qi,c),setTimeout(()=>{const w=new CustomEvent(Vi,oc);a.addEventListener(Vi,d),a.dispatchEvent(w),w.defaultPrevented||Ft(g??document.body,{select:!0}),a.removeEventListener(Vi,d),lc.remove(h)},0)}}},[a,c,d,h]);const b=m.useCallback(g=>{if(!r&&!s||h.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(y&&w){const v=g.currentTarget,[x,E]=Y_(v);x&&E?!g.shiftKey&&w===E?(g.preventDefault(),r&&Ft(x,{select:!0})):g.shiftKey&&w===x&&(g.preventDefault(),r&&Ft(E,{select:!0})):w===v&&g.preventDefault()}},[r,s,h.paused]);return u.jsx(oe.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});rf.displayName=G_;function J_(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(Ft(s,{select:e}),document.activeElement!==r)return}function Y_(t){const e=sf(t),r=ac(e,t),s=ac(e.reverse(),t);return[r,s]}function sf(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ac(t,e){for(const r of t)if(!Q_(r,{upTo:e}))return r}function Q_(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function X_(t){return t instanceof HTMLInputElement&&"select"in t}function Ft(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&X_(t)&&e&&t.select()}}var lc=Z_();function Z_(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=cc(t,e),t.unshift(e)},remove(e){var r;t=cc(t,e),(r=t[0])==null||r.resume()}}}function cc(t,e){const r=[...t],s=r.indexOf(e);return s!==-1&&r.splice(s,1),r}function eE(t){return t.filter(e=>e.tagName!=="A")}var Hi=0;function tE(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uc()),document.body.insertAdjacentElement("beforeend",t[1]??uc()),Hi++,()=>{Hi===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hi--}},[])}function uc(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kn="right-scroll-bar-position",An="width-before-scroll-bar",rE="with-scroll-bars-hidden",sE="--removed-body-scroll-bar-size";function Wi(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function nE(t,e){var r=m.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(s){var n=r.value;n!==s&&(r.value=s,r.callback(s,n))}}}})[0];return r.callback=e,r.facade}var iE=typeof window<"u"?m.useLayoutEffect:m.useEffect,dc=new WeakMap;function oE(t,e){var r=nE(null,function(s){return t.forEach(function(n){return Wi(n,s)})});return iE(function(){var s=dc.get(r);if(s){var n=new Set(s),i=new Set(t),o=r.current;n.forEach(function(a){i.has(a)||Wi(a,null)}),i.forEach(function(a){n.has(a)||Wi(a,o)})}dc.set(r,t)},[t]),r}function aE(t){return t}function lE(t,e){e===void 0&&(e=aE);var r=[],s=!1,n={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,s);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return n}function cE(t){t===void 0&&(t={});var e=lE(null);return e.options=Ke({async:!0,ssr:!1},t),e}var nf=function(t){var e=t.sideCar,r=sr(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,Ke({},r))};nf.isSideCarExport=!0;function uE(t,e){return t.useMedium(e),nf}var of=cE(),zi=function(){},fi=m.forwardRef(function(t,e){var r=m.useRef(null),s=m.useState({onScrollCapture:zi,onWheelCapture:zi,onTouchMoveCapture:zi}),n=s[0],i=s[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,h=t.noRelative,b=t.noIsolation,g=t.inert,y=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,x=t.gapMode,E=sr(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,C=oE([r,e]),k=Ke(Ke({},E),n);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:of,removeScrollBar:c,shards:f,noRelative:h,noIsolation:b,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:x}),o?m.cloneElement(m.Children.only(a),Ke(Ke({},k),{ref:C})):m.createElement(v,Ke({},k,{className:l,ref:C}),a))});fi.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fi.classNames={fullWidth:An,zeroRight:kn};var dE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hE(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=dE();return e&&t.setAttribute("nonce",e),t}function fE(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pE(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mE=function(){var t=0,e=null;return{add:function(r){t==0&&(e=hE())&&(fE(e,r),pE(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gE=function(){var t=mE();return function(e,r){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},af=function(){var t=gE(),e=function(r){var s=r.styles,n=r.dynamic;return t(s,n),null};return e},yE={left:0,top:0,right:0,gap:0},Ki=function(t){return parseInt(t||"",10)||0},bE=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],n=e[t==="padding"?"paddingRight":"marginRight"];return[Ki(r),Ki(s),Ki(n)]},vE=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yE;var e=bE(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-r+e[2]-e[0])}},wE=af(),Jr="data-scroll-locked",xE=function(t,e,r,s){var n=t.left,i=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(rE,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(a,"px ").concat(s,`;
  }
  body[`).concat(Jr,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kn,` {
    right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(An,` {
    margin-right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(kn," .").concat(kn,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(An," .").concat(An,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Jr,`] {
    `).concat(sE,": ").concat(a,`px;
  }
`)},hc=function(){var t=parseInt(document.body.getAttribute(Jr)||"0",10);return isFinite(t)?t:0},_E=function(){m.useEffect(function(){return document.body.setAttribute(Jr,(hc()+1).toString()),function(){var t=hc()-1;t<=0?document.body.removeAttribute(Jr):document.body.setAttribute(Jr,t.toString())}},[])},EE=function(t){var e=t.noRelative,r=t.noImportant,s=t.gapMode,n=s===void 0?"margin":s;_E();var i=m.useMemo(function(){return vE(n)},[n]);return m.createElement(wE,{styles:xE(i,!e,n,r?"":"!important")})},Ro=!1;if(typeof window<"u")try{var vn=Object.defineProperty({},"passive",{get:function(){return Ro=!0,!0}});window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Ro=!1}var Ur=Ro?{passive:!1}:!1,SE=function(t){return t.tagName==="TEXTAREA"},lf=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!SE(t)&&r[e]==="visible")},CE=function(t){return lf(t,"overflowY")},TE=function(t){return lf(t,"overflowX")},fc=function(t,e){var r=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var n=cf(t,s);if(n){var i=uf(t,s),o=i[1],a=i[2];if(o>a)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},kE=function(t){var e=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[e,r,s]},AE=function(t){var e=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[e,r,s]},cf=function(t,e){return t==="v"?CE(e):TE(e)},uf=function(t,e){return t==="v"?kE(e):AE(e)},jE=function(t,e){return t==="h"&&e==="rtl"?-1:1},NE=function(t,e,r,s,n){var i=jE(t,window.getComputedStyle(e).direction),o=i*s,a=r.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{if(!a)break;var h=uf(t,a),b=h[0],g=h[1],y=h[2],w=g-y-i*b;(b||w)&&cf(t,a)&&(f+=w,p+=b);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},wn=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pc=function(t){return[t.deltaX,t.deltaY]},mc=function(t){return t&&"current"in t?t.current:t},PE=function(t,e){return t[0]===e[0]&&t[1]===e[1]},RE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OE=0,Fr=[];function IE(t){var e=m.useRef([]),r=m.useRef([0,0]),s=m.useRef(),n=m.useState(OE++)[0],i=m.useState(af)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var g=ca([t.lockRef.current],(t.shards||[]).map(mc),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=wn(g),v=r.current,x="deltaX"in g?g.deltaX:v[0]-w[0],E="deltaY"in g?g.deltaY:v[1]-w[1],S,C=g.target,k=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in g&&k==="h"&&C.type==="range")return!1;var A=fc(k,C);if(!A)return!0;if(A?S=k:(S=k==="v"?"h":"v",A=fc(k,C)),!A)return!1;if(!s.current&&"changedTouches"in g&&(x||E)&&(s.current=S),!S)return!0;var D=s.current||S;return NE(D,y,g,D==="h"?x:E)},[]),l=m.useCallback(function(g){var y=g;if(!(!Fr.length||Fr[Fr.length-1]!==i)){var w="deltaY"in y?pc(y):wn(y),v=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&PE(S.delta,w)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(mc).filter(Boolean).filter(function(S){return S.contains(y.target)}),E=x.length>0?a(y,x[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=m.useCallback(function(g,y,w,v){var x={name:g,delta:y,target:w,should:v,shadowParent:ME(w)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(E){return E!==x})},1)},[]),d=m.useCallback(function(g){r.current=wn(g),s.current=void 0},[]),f=m.useCallback(function(g){c(g.type,pc(g),g.target,a(g,t.lockRef.current))},[]),p=m.useCallback(function(g){c(g.type,wn(g),g.target,a(g,t.lockRef.current))},[]);m.useEffect(function(){return Fr.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ur),document.addEventListener("touchmove",l,Ur),document.addEventListener("touchstart",d,Ur),function(){Fr=Fr.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ur),document.removeEventListener("touchmove",l,Ur),document.removeEventListener("touchstart",d,Ur)}},[]);var h=t.removeScrollBar,b=t.inert;return m.createElement(m.Fragment,null,b?m.createElement(i,{styles:RE(n)}):null,h?m.createElement(EE,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ME(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $E=uE(of,IE);var df=m.forwardRef(function(t,e){return m.createElement(fi,Ke({},t,{ref:e,sideCar:$E}))});df.classNames=fi.classNames;var DE=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Br=new WeakMap,xn=new WeakMap,_n={},Gi=0,hf=function(t){return t&&(t.host||hf(t.parentNode))},LE=function(t,e){return e.map(function(r){if(t.contains(r))return r;var s=hf(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},UE=function(t,e,r,s){var n=LE(e,Array.isArray(t)?t:[t]);_n[r]||(_n[r]=new WeakMap);var i=_n[r],o=[],a=new Set,l=new Set(n),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};n.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var h=p.getAttribute(s),b=h!==null&&h!=="false",g=(Br.get(p)||0)+1,y=(i.get(p)||0)+1;Br.set(p,g),i.set(p,y),o.push(p),g===1&&b&&xn.set(p,!0),y===1&&p.setAttribute(r,"true"),b||p.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),Gi++,function(){o.forEach(function(f){var p=Br.get(f)-1,h=i.get(f)-1;Br.set(f,p),i.set(f,h),p||(xn.has(f)||f.removeAttribute(s),xn.delete(f)),h||f.removeAttribute(r)}),Gi--,Gi||(Br=new WeakMap,Br=new WeakMap,xn=new WeakMap,_n={})}},FE=function(t,e,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),n=DE(t);return n?(s.push.apply(s,Array.from(n.querySelectorAll("[aria-live], script"))),UE(s,n,r,"aria-hidden")):function(){return null}};function BE(t){const e=qE(t),r=m.forwardRef((s,n)=>{const{children:i,...o}=s,a=m.Children.toArray(i),l=a.find(HE);if(l){const c=l.props.children,d=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:n,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:n,children:i})});return r.displayName=`${t}.Slot`,r}function qE(t){const e=m.forwardRef((r,s)=>{const{children:n,...i}=r;if(m.isValidElement(n)){const o=zE(n),a=WE(i,n.props);return n.type!==m.Fragment&&(a.ref=s?Vs(s,o):o),m.cloneElement(n,a)}return m.Children.count(n)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VE=Symbol("radix.slottable");function HE(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VE}function WE(t,e){const r={...e};for(const s in e){const n=t[s],i=e[s];/^on[A-Z]/.test(s)?n&&i?r[s]=(...a)=>{const l=i(...a);return n(...a),l}:n&&(r[s]=n):s==="style"?r[s]={...n,...i}:s==="className"&&(r[s]=[n,i].filter(Boolean).join(" "))}return{...t,...r}}function zE(t){var s,n;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var pi="Dialog",[ff]=er(pi),[KE,lt]=ff(pi),pf=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:n,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,d]=Hs({prop:s,defaultProp:n??!1,onChange:i,caller:pi});return u.jsx(KE,{scope:e,triggerRef:a,contentRef:l,contentId:Ss(),titleId:Ss(),descriptionId:Ss(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};pf.displayName=pi;var mf="DialogTrigger",GE=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=lt(mf,r),i=ke(e,n.triggerRef);return u.jsx(oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":_a(n.open),...s,ref:i,onClick:Q(t.onClick,n.onOpenToggle)})});GE.displayName=mf;var wa="DialogPortal",[JE,gf]=ff(wa,{forceMount:void 0}),yf=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:n}=t,i=lt(wa,e);return u.jsx(JE,{scope:e,forceMount:r,children:m.Children.map(s,o=>u.jsx(tr,{present:r||i.open,children:u.jsx(qo,{asChild:!0,container:n,children:o})}))})};yf.displayName=wa;var Vn="DialogOverlay",bf=m.forwardRef((t,e)=>{const r=gf(Vn,t.__scopeDialog),{forceMount:s=r.forceMount,...n}=t,i=lt(Vn,t.__scopeDialog);return i.modal?u.jsx(tr,{present:s||i.open,children:u.jsx(QE,{...n,ref:e})}):null});bf.displayName=Vn;var YE=BE("DialogOverlay.RemoveScroll"),QE=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=lt(Vn,r);return u.jsx(df,{as:YE,allowPinchZoom:!0,shards:[n.contentRef],children:u.jsx(oe.div,{"data-state":_a(n.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),kr="DialogContent",vf=m.forwardRef((t,e)=>{const r=gf(kr,t.__scopeDialog),{forceMount:s=r.forceMount,...n}=t,i=lt(kr,t.__scopeDialog);return u.jsx(tr,{present:s||i.open,children:i.modal?u.jsx(XE,{...n,ref:e}):u.jsx(ZE,{...n,ref:e})})});vf.displayName=kr;var XE=m.forwardRef((t,e)=>{const r=lt(kr,t.__scopeDialog),s=m.useRef(null),n=ke(e,r.contentRef,s);return m.useEffect(()=>{const i=s.current;if(i)return FE(i)},[]),u.jsx(wf,{...t,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Q(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Q(t.onFocusOutside,i=>i.preventDefault())})}),ZE=m.forwardRef((t,e)=>{const r=lt(kr,t.__scopeDialog),s=m.useRef(!1),n=m.useRef(!1);return u.jsx(wf,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(s.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),wf=m.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=t,a=lt(kr,r),l=m.useRef(null),c=ke(e,l);return tE(),u.jsxs(u.Fragment,{children:[u.jsx(rf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:i,children:u.jsx(Yn,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":_a(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(eS,{titleId:a.titleId}),u.jsx(rS,{contentRef:l,descriptionId:a.descriptionId})]})]})}),xa="DialogTitle",xf=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=lt(xa,r);return u.jsx(oe.h2,{id:n.titleId,...s,ref:e})});xf.displayName=xa;var _f="DialogDescription",Ef=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=lt(_f,r);return u.jsx(oe.p,{id:n.descriptionId,...s,ref:e})});Ef.displayName=_f;var Sf="DialogClose",Cf=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=lt(Sf,r);return u.jsx(oe.button,{type:"button",...s,ref:e,onClick:Q(t.onClick,()=>n.onOpenChange(!1))})});Cf.displayName=Sf;function _a(t){return t?"open":"closed"}var Tf="DialogTitleWarning",[rT,kf]=Wp(Tf,{contentName:kr,titleName:xa,docsSlug:"dialog"}),eS=({titleId:t})=>{const e=kf(Tf),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},tS="DialogDescriptionWarning",rS=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kf(tS).contentName}}.`;return m.useEffect(()=>{var i;const n=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&n&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},sS=pf,nS=yf,Af=bf,jf=vf,Nf=xf,Pf=Ef,iS=Cf;const oS=sS,aS=nS,Rf=m.forwardRef(({className:t,...e},r)=>u.jsx(Af,{ref:r,className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Rf.displayName=Af.displayName;const Of=m.forwardRef(({className:t,children:e,...r},s)=>u.jsxs(aS,{children:[u.jsx(Rf,{}),u.jsxs(jf,{ref:s,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,u.jsxs(iS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Go,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Of.displayName=jf.displayName;const If=({className:t,...e})=>u.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});If.displayName="DialogHeader";const Mf=m.forwardRef(({className:t,...e},r)=>u.jsx(Nf,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));Mf.displayName=Nf.displayName;const lS=m.forwardRef(({className:t,...e},r)=>u.jsx(Pf,{ref:r,className:de("text-sm text-muted-foreground",t),...e}));lS.displayName=Pf.displayName;function cS(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mi="Checkbox",[uS]=er(mi),[dS,Ea]=uS(mi);function hS(t){const{__scopeCheckbox:e,checked:r,children:s,defaultChecked:n,disabled:i,form:o,name:a,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:f}=t,[p,h]=Hs({prop:r,defaultProp:n??!1,onChange:l,caller:mi}),[b,g]=m.useState(null),[y,w]=m.useState(null),v=m.useRef(!1),x=b?!!o||!!b.closest("form"):!0,E={checked:p,disabled:i,setChecked:h,control:b,setControl:g,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:Qt(n)?!1:n,isFormControl:x,bubbleInput:y,setBubbleInput:w};return u.jsx(dS,{scope:e,...E,children:fS(f)?f(E):s})}var $f="CheckboxTrigger",Df=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...s},n)=>{const{control:i,value:o,disabled:a,checked:l,required:c,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:b}=Ea($f,t),g=ke(n,d),y=m.useRef(l);return m.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const v=()=>f(y.current);return w.addEventListener("reset",v),()=>w.removeEventListener("reset",v)}},[i,f]),u.jsx(oe.button,{type:"button",role:"checkbox","aria-checked":Qt(l)?"mixed":l,"aria-required":c,"data-state":qf(l),"data-disabled":a?"":void 0,disabled:a,value:o,...s,ref:g,onKeyDown:Q(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Q(r,w=>{f(v=>Qt(v)?!0:!v),b&&h&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});Df.displayName=$f;var Sa=m.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:s,checked:n,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:c,form:d,...f}=t;return u.jsx(hS,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:a,required:o,onCheckedChange:c,name:s,form:d,value:l,internal_do_not_use_render:({isFormControl:p})=>u.jsxs(u.Fragment,{children:[u.jsx(Df,{...f,ref:e,__scopeCheckbox:r}),p&&u.jsx(Bf,{__scopeCheckbox:r})]})})});Sa.displayName=mi;var Lf="CheckboxIndicator",Uf=m.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:s,...n}=t,i=Ea(Lf,r);return u.jsx(tr,{present:s||Qt(i.checked)||i.checked===!0,children:u.jsx(oe.span,{"data-state":qf(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e,style:{pointerEvents:"none",...t.style}})})});Uf.displayName=Lf;var Ff="CheckboxBubbleInput",Bf=m.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:s,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:a,disabled:l,name:c,value:d,form:f,bubbleInput:p,setBubbleInput:h}=Ea(Ff,t),b=ke(r,h),g=cS(i),y=Bu(s);m.useEffect(()=>{const v=p;if(!v)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,C=!n.current;if(g!==i&&S){const k=new Event("click",{bubbles:C});v.indeterminate=Qt(i),S.call(v,Qt(i)?!1:i),v.dispatchEvent(k)}},[p,g,i,n]);const w=m.useRef(Qt(i)?!1:i);return u.jsx(oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:l,name:c,value:d,form:f,...e,tabIndex:-1,ref:b,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Bf.displayName=Ff;function fS(t){return typeof t=="function"}function Qt(t){return t==="indeterminate"}function qf(t){return Qt(t)?"indeterminate":t?"checked":"unchecked"}const xs=m.forwardRef(({className:t,...e},r)=>u.jsx(Sa,{ref:r,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(Uf,{className:de("flex items-center justify-center text-current"),children:u.jsx(mu,{className:"h-4 w-4"})})}));xs.displayName=Sa.displayName;const pS=()=>{const{user:t}=ir(),e=kt(),[r,s]=m.useState(!1),[n,i]=m.useState({watchVideo:!1,downloadGuide:!1,joinGroup:!1,startModule:!1});m.useEffect(()=>{(async()=>{if(!t)return;const{data:c}=await Ne.from("profiles").select("first_login_completed").eq("id",t.id).single();c&&!c.first_login_completed&&s(!0)})()},[t]);const o=async()=>{t&&(await Ne.from("profiles").update({first_login_completed:!0}).eq("id",t.id),s(!1),n.startModule&&e("/dashboard"))},a=Object.values(n).every(Boolean);return u.jsx(oS,{open:r,onOpenChange:s,children:u.jsxs(Of,{className:"border-primary/20 bg-gradient-to-br from-background to-background/95 sm:max-w-[600px]",children:[u.jsx(If,{children:u.jsxs(Mf,{className:"flex items-center justify-center gap-2 text-center text-3xl font-bold",children:[u.jsx(Es,{className:"h-8 w-8 animate-pulse text-primary"}),"Bem-vinda ao Cdigo da Reconquista!",u.jsx(Es,{className:"h-8 w-8 animate-pulse text-primary"})]})}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsx("p",{className:"text-center text-lg text-muted-foreground",children:"Ests prestes a iniciar uma jornada transformadora. Vamos comear?"}),u.jsxs("div",{className:"space-y-4 rounded-lg border border-border bg-card/50 p-6",children:[u.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Passos Iniciais:"}),u.jsxs("div",{className:"flex items-start gap-3 rounded-lg p-3 transition-colors hover:bg-accent/50",children:[u.jsx(xs,{id:"watchVideo",checked:n.watchVideo,onCheckedChange:l=>i({...n,watchVideo:!!l})}),u.jsxs("label",{htmlFor:"watchVideo",className:"flex-1 cursor-pointer select-none space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ko,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"font-medium",children:"Assiste ao Vdeo de Boas-Vindas"})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Entende como aproveitar ao mximo o curso"})]})]}),u.jsxs("div",{className:"flex items-start gap-3 rounded-lg p-3 transition-colors hover:bg-accent/50",children:[u.jsx(xs,{id:"downloadGuide",checked:n.downloadGuide,onCheckedChange:l=>i({...n,downloadGuide:!!l})}),u.jsxs("label",{htmlFor:"downloadGuide",className:"flex-1 cursor-pointer select-none space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pu,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"font-medium",children:"Baixa o Guia de Incio Rpido"})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Material complementar para potencializar teus resultados"})]})]}),u.jsxs("div",{className:"flex items-start gap-3 rounded-lg p-3 transition-colors hover:bg-accent/50",children:[u.jsx(xs,{id:"joinGroup",checked:n.joinGroup,onCheckedChange:l=>i({...n,joinGroup:!!l})}),u.jsxs("label",{htmlFor:"joinGroup",className:"flex-1 cursor-pointer select-none space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bu,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"font-medium",children:"Entra no Grupo de Suporte"})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Comunidade exclusiva para trocares experincias"})]})]}),u.jsxs("div",{className:"flex items-start gap-3 rounded-lg p-3 transition-colors hover:bg-accent/50",children:[u.jsx(xs,{id:"startModule",checked:n.startModule,onCheckedChange:l=>i({...n,startModule:!!l})}),u.jsxs("label",{htmlFor:"startModule",className:"flex-1 cursor-pointer select-none space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Es,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"font-medium",children:"Comea o Mdulo 1"})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Inicia tua transformao agora mesmo!"})]})]})]}),u.jsx(ie,{onClick:o,disabled:!a,className:"h-12 w-full text-lg font-semibold",size:"lg",children:a?" Comear Agora!":" Complete os passos acima"})]})]})})},mS=()=>u.jsx(Ve,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-background p-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Es,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"text-xl font-bold",children:"O Que Recebeste"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"7 Mdulos Completos"}),u.jsx("span",{className:"font-semibold",children:"1.200 MZN"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Aulas Bnus Exclusivas"}),u.jsx("span",{className:"font-semibold",children:"800 MZN"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Suporte Direto"}),u.jsx("span",{className:"font-semibold",children:"500 MZN"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Materiais Complementares"}),u.jsx("span",{className:"font-semibold",children:"300 MZN"})]}),u.jsx("div",{className:"mt-3 border-t border-border pt-3",children:u.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold",children:[u.jsx("span",{children:"Valor Total:"}),u.jsx("span",{children:"2.800 MZN"})]})}),u.jsxs("div",{className:"space-y-2 rounded-lg border border-primary/30 bg-primary/10 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium",children:"Tu Pagaste:"}),u.jsx("span",{className:"text-2xl font-bold text-primary",children:"197 MZN"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(rg,{className:"h-4 w-4 text-green-500"}),u.jsx("span",{className:"font-semibold text-green-500",children:"Poupana:"})]}),u.jsx("span",{className:"font-bold text-green-500",children:"2.603 MZN (93%)"})]})]}),u.jsx("p",{className:"mt-4 text-center text-xs italic text-muted-foreground",children:"Investimento que transforma vidas. Aproveita! "})]})]})}),gS=()=>{const{user:t}=ir(),[e,r]=m.useState("default"),[s,n]=m.useState(null),[i,o]=m.useState(!1);m.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&(o(!0),r(Notification.permission))},[]);const a=async()=>{try{const p=await navigator.serviceWorker.register("/sw.js");return console.log("Service Worker registrado:",p),p}catch(p){throw console.error("Erro ao registrar Service Worker:",p),p}},l=async()=>{if(!i)return Ie.error("Notificaes no so suportadas neste navegador"),!1;try{const p=await Notification.requestPermission();return r(p),p==="granted"?(Ie.success("Notificaes ativadas! Voc receber lembretes para continuar."),await c(),!0):(Ie.error("Permisso negada. Voc no receber lembretes."),!1)}catch(p){return console.error("Erro ao solicitar permisso:",p),Ie.error("Erro ao ativar notificaes"),!1}},c=async()=>{if(t)try{const p=await a(),h="BEl62iUYgUivxIkv69yViEuiBIa-Ib9-SkvMeAtA3LFgDzkrxZJjSgSnfckjBJuBkr3qBmYRTyF9s1PBmxv0YEk",b=await p.pushManager.getSubscription();let g=b;if(b||(g=await p.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yS(h)})),n(g),g){const{error:y}=await Ne.from("push_subscriptions").upsert({user_id:t.id,subscription:g.toJSON(),endpoint:g.endpoint},{onConflict:"user_id"});y&&console.error("Erro ao salvar subscription:",y)}return g}catch(p){throw console.error("Erro ao criar subscription:",p),p}};return{isSupported:i,permission:e,subscription:s,requestPermission:l,unsubscribe:async()=>{if(!(!t||!s))try{await s.unsubscribe(),n(null),await Ne.from("push_subscriptions").delete().eq("user_id",t.id),Ie.success("Notificaes desativadas")}catch(p){console.error("Erro ao cancelar inscrio:",p),Ie.error("Erro ao desativar notificaes")}},sendTestNotification:async()=>{if(t)try{const{error:p}=await Ne.functions.invoke("send-notification",{body:{userId:t.id,title:" Cdigo da Reconquista",body:"Esta  uma notificao de teste!",url:"/"}});if(p)throw p;Ie.success("Notificao de teste enviada!")}catch(p){console.error("Erro ao enviar notificao:",p),Ie.error("Erro ao enviar notificao de teste")}},isEnabled:e==="granted"&&!!s}};function yS(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=window.atob(r),n=new Uint8Array(s.length);for(let i=0;i<s.length;++i)n[i]=s.charCodeAt(i);return n}const bS=()=>{const{isSupported:t,permission:e,requestPermission:r,isEnabled:s,unsubscribe:n}=gS(),[i,o]=m.useState(!1);return!t||i||e==="denied"?null:s?u.jsx(Ve,{className:"border-primary/20 bg-primary/10 p-4",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(za,{className:"h-5 w-5 text-primary"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold",children:"Notificaes Ativas"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Voc receber lembretes para continuar suas aulas"})]})]}),u.jsx(ie,{variant:"ghost",size:"sm",onClick:n,className:"hover:bg-destructive/10 hover:text-destructive",children:u.jsx(Wm,{className:"h-4 w-4"})})]})}):u.jsx(Ve,{className:"border-primary/30 bg-gradient-to-r from-primary/20 to-accent/20 p-4",children:u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex flex-1 items-start gap-3",children:[u.jsx(za,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-primary"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"mb-1 text-sm font-semibold",children:"No perca o ritmo! "}),u.jsx("p",{className:"mb-3 text-xs text-muted-foreground",children:"Ative as notificaes e receba lembretes para continuar suas aulas. A consistncia  a chave para a reconquista!"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ie,{size:"sm",onClick:r,className:"bg-primary hover:bg-primary/90",children:"Ativar Notificaes"}),u.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>o(!0),className:"text-xs",children:"Agora no"})]})]})]}),u.jsx(ie,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>o(!0),children:u.jsx(Go,{className:"h-4 w-4"})})]})})},vS=()=>{var f;const{user:t,loading:e,signOut:r}=ir(),s=kt(),[n,i]=m.useState(null),[o,a]=m.useState({globalProgress:0,achievements:0,streak:1});m.useEffect(()=>{!e&&!t&&s("/login")},[t,e,s]),m.useEffect(()=>{(async()=>{if(t){const{data:h}=await Ne.from("profiles").select("full_name").eq("id",t.id).single();i(h)}})()},[t]),m.useEffect(()=>{(async()=>{if(t){const{data:h}=await Ne.from("user_stats").select("*").eq("user_id",t.id).single();if(h){const b=nc(),g=Math.round(h.lessons_completed/b*100);a({globalProgress:g,achievements:h.lessons_completed,streak:h.current_streak_days||1})}}})()},[t]);const l=p=>{console.log(` [Dashboard] Navegando para mdulo ${p}`),s(`/modulo/${p}/aula/1`)},c=async()=>{await r(),Ie.success("At breve! "),s("/login")};if(e)return u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4 h-16 w-16 animate-spin rounded-full border-b-4 border-primary"}),u.jsx("p",{className:"text-muted-foreground",children:"A carregar..."})]})});if(!t)return null;const d=M_();return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(pS,{}),u.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur-lg",children:u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary font-bold text-primary-foreground",children:"CR"}),u.jsx("span",{className:"hidden text-lg font-bold sm:inline",children:"Cdigo da Reconquista"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(K_,{}),u.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>s("/comunidade"),className:"gap-2",children:[u.jsx(bu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Comunidade"})]}),u.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>s("/meu-plano"),className:"gap-2",children:[u.jsx(sg,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Meu Plano"})]}),u.jsxs(ie,{onClick:c,variant:"outline",size:"sm",className:"gap-2 transition-all hover:border-destructive hover:bg-destructive hover:text-destructive-foreground",children:[u.jsx(Xm,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})})}),u.jsxs("div",{className:"mx-auto max-w-7xl space-y-12 px-4 py-8 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-6",children:u.jsx(bS,{})}),u.jsxs("section",{className:"relative overflow-hidden rounded-2xl border border-border bg-gradient-to-br from-primary/10 via-secondary/10 to-background p-8 md:p-12",children:[u.jsxs("div",{className:"relative z-10 max-w-3xl",children:[u.jsx("div",{className:"mb-8",children:u.jsx(mS,{})}),u.jsx("div",{className:"mb-6 flex justify-center md:justify-start",children:u.jsx("img",{src:"https://pub-335435355c6548d7987945a540eca66b.r2.dev/LOGO%20NA%20PAGINA%20INICIAL%20DA%20AREA%20DE%20MEMBRO.webp",alt:"Cdigo da Reconquista",className:"h-auto max-w-[220px]"})}),u.jsxs("h1",{className:"mb-3 text-3xl font-bold text-foreground md:text-4xl",children:["Bem-vinda  tua virada de jogo,"," ",u.jsx("span",{className:"text-gradient-gold",children:(n==null?void 0:n.full_name)||((f=t==null?void 0:t.email)==null?void 0:f.split("@")[0])||"Aluna"}),"!"]}),u.jsx("p",{className:"mb-6 text-lg text-muted-foreground",children:"Ests pronta para dominar a arte da reconquista? A tua jornada comea agora."}),u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[u.jsx("div",{className:"rounded-lg border border-border bg-background/50 p-4 backdrop-blur",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"rounded-lg bg-primary/20 p-2",children:u.jsx(yu,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Progresso Global"}),u.jsxs("p",{className:"text-xl font-bold text-foreground",children:[o.globalProgress,"%"]})]})]})}),u.jsx("div",{className:"rounded-lg border border-border bg-background/50 p-4 backdrop-blur",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"rounded-lg bg-secondary/20 p-2",children:u.jsx(zo,{className:"h-5 w-5 text-secondary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aulas Completas"}),u.jsxs("p",{className:"text-xl font-bold text-foreground",children:[o.achievements,"/",nc()]})]})]})}),u.jsx("div",{className:"rounded-lg border border-border bg-background/50 p-4 backdrop-blur",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"rounded-lg bg-primary/20 p-2",children:u.jsx("span",{className:"text-xl",children:""})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Streak"}),u.jsxs("p",{className:"text-xl font-bold text-foreground",children:[o.streak," ",o.streak===1?"dia":"dias"]})]})]})})]})]}),u.jsx("div",{className:"absolute right-0 top-0 h-64 w-64 rounded-full bg-primary/10 blur-3xl"}),u.jsx("div",{className:"absolute bottom-0 left-0 h-64 w-64 rounded-full bg-secondary/10 blur-3xl"})]}),u.jsx(q_,{}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mb-2 text-2xl font-bold text-foreground md:text-3xl",children:"O Cdigo da Reconquista: A Jornada Completa"}),u.jsxs("p",{className:"text-muted-foreground",children:[d.length," mdulos transformadores  Todos liberados! "]})]}),u.jsx("div",{className:"relative",children:u.jsx("div",{className:"scrollbar-hide flex snap-x snap-mandatory gap-6 overflow-x-auto pb-6",children:d.map(p=>u.jsx(B_,{module:p,isReleased:!0,onClick:()=>l(p.number)},p.id))})})]}),u.jsx(z_,{}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mb-2 text-2xl font-bold text-foreground md:text-3xl",children:"O Teu Arsenal Secreto (Bnus)"}),u.jsx("p",{className:"text-muted-foreground",children:"Ferramentas prticas para aplicar imediatamente"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[u.jsx("div",{className:"group relative cursor-pointer overflow-hidden rounded-xl border border-primary/30 bg-gradient-to-br from-primary/20 to-background p-6 transition-all hover:scale-105",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"rounded-lg bg-primary/20 p-3",children:u.jsx("span",{className:"text-3xl",children:""})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"mb-2 text-lg font-bold text-foreground",children:"O Arsenal Secreto: 130 Frases Proibidas"}),u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Scripts prontos para cada situao"}),u.jsxs(ie,{variant:"outline",size:"sm",className:"gap-2",disabled:!0,children:[u.jsx(ki,{className:"h-4 w-4"}),"Em Breve"]})]})]})}),u.jsx("div",{className:"group relative cursor-pointer overflow-hidden rounded-xl border border-secondary/30 bg-gradient-to-br from-secondary/20 to-background p-6 transition-all hover:scale-105",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"rounded-lg bg-secondary/20 p-3",children:u.jsx("span",{className:"text-3xl",children:""})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"mb-2 text-lg font-bold text-foreground",children:"17 Beijos Que Viciam"}),u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Tcnicas avanadas de seduo fsica"}),u.jsxs(ie,{variant:"outline",size:"sm",className:"gap-2",disabled:!0,children:[u.jsx(ki,{className:"h-4 w-4"}),"Em Breve"]})]})]})})]})]}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mb-2 text-2xl font-bold text-foreground md:text-3xl",children:"O Prximo Nvel (Avanado)"}),u.jsx("p",{className:"text-muted-foreground",children:"Contedo exclusivo para elevar o teu jogo"})]}),u.jsx("div",{className:"relative overflow-hidden rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/20 to-background p-8",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-6",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"rounded-lg bg-purple-500/20 p-3",children:u.jsx("span",{className:"text-4xl",children:""})}),u.jsxs("div",{children:[u.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"A Deusa na Cama"}),u.jsx("p",{className:"text-muted-foreground",children:"Contedo premium de seduo avanada"})]})]}),u.jsxs(ie,{className:"gap-2 bg-purple-500 text-white hover:bg-purple-600",disabled:!0,children:[u.jsx(ki,{className:"h-4 w-4"}),"Desbloquear Agora"]})]})})]})]})]})};function wS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gc(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function xS(t,e,r){return e&&gc(t.prototype,e),r&&gc(t,r),t}function _S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yc(Object(r),!0).forEach(function(s){_S(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yc(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var vc={addCSS:!0,thumbWidth:15,watch:!0};function ES(t,e){return(function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function SS(t,e){if(t&&e){var r=new Event(e,{bubbles:!0});t.dispatchEvent(r)}}var Qs=function(t){return t!=null?t.constructor:null},Ca=function(t,e){return!!(t&&e&&t instanceof e)},Vf=function(t){return t==null},Hf=function(t){return Qs(t)===Object},CS=function(t){return Qs(t)===Number&&!Number.isNaN(t)},Wf=function(t){return Qs(t)===String},TS=function(t){return Qs(t)===Boolean},kS=function(t){return Qs(t)===Function},zf=function(t){return Array.isArray(t)},Kf=function(t){return Ca(t,NodeList)},AS=function(t){return Ca(t,Element)},jS=function(t){return Ca(t,Event)},NS=function(t){return Vf(t)||(Wf(t)||zf(t)||Kf(t))&&!t.length||Hf(t)&&!Object.keys(t).length},Oe={nullOrUndefined:Vf,object:Hf,number:CS,string:Wf,boolean:TS,function:kS,array:zf,nodeList:Kf,element:AS,event:jS,empty:NS};function PS(t){var e="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function RS(t,e){if(1>e){var r=PS(e);return parseFloat(t.toFixed(r))}return Math.round(t/e)*e}var OS=function(){function t(e,r){wS(this,t),Oe.element(e)?this.element=e:Oe.string(e)&&(this.element=document.querySelector(e)),Oe.element(this.element)&&Oe.empty(this.element.rangeTouch)&&(this.config=bc({},vc,{},r),this.init())}return xS(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var r=this,s=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(n){r.element[s](n,function(i){return r.set(i)},!1)})}},{key:"get",value:function(e){if(!t.enabled||!Oe.event(e))return null;var r,s=e.target,n=e.changedTouches[0],i=parseFloat(s.getAttribute("min"))||0,o=parseFloat(s.getAttribute("max"))||100,a=parseFloat(s.getAttribute("step"))||1,l=s.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(r=100/l.width*(n.clientX-l.left))?r=0:100<r&&(r=100),50>r?r-=(100-2*r)*c:50<r&&(r+=2*(r-50)*c),i+RS(r/100*(o-i),a)}},{key:"set",value:function(e){t.enabled&&Oe.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),SS(e.target,e.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(e){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=null;if(Oe.empty(e)||Oe.string(e)?s=Array.from(document.querySelectorAll(Oe.string(e)?e:'input[type="range"]')):Oe.element(e)?s=[e]:Oe.nodeList(e)?s=Array.from(e):Oe.array(e)&&(s=e.filter(Oe.element)),Oe.empty(s))return null;var n=bc({},vc,{},r);if(Oe.string(e)&&n.watch){var i=new MutationObserver(function(o){Array.from(o).forEach(function(a){Array.from(a.addedNodes).forEach(function(l){Oe.element(l)&&ES(l,e)&&new t(l,n)})})});i.observe(document.body,{childList:!0,subtree:!0})}return s.map(function(o){return new t(o,r)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}();const Xs=t=>t!==null&&typeof t<"u"?t.constructor:null,Tt=(t,e)=>!!(t&&e&&t instanceof e),Ta=t=>t===null||typeof t>"u",Gf=t=>Xs(t)===Object,IS=t=>Xs(t)===Number&&!Number.isNaN(t),gi=t=>Xs(t)===String,MS=t=>Xs(t)===Boolean,Jf=t=>typeof t=="function",Yf=t=>Array.isArray(t),$S=t=>Tt(t,WeakMap),Qf=t=>Tt(t,NodeList),DS=t=>Xs(t)===Text,LS=t=>Tt(t,Event),US=t=>Tt(t,KeyboardEvent),FS=t=>Tt(t,window.TextTrackCue)||Tt(t,window.VTTCue),BS=t=>Tt(t,TextTrack)||!Ta(t)&&gi(t.kind),qS=t=>Tt(t,Promise)&&Jf(t.then);function VS(t){return t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.style=="object"&&typeof t.ownerDocument=="object"}function Xf(t){return Ta(t)||(gi(t)||Yf(t)||Qf(t))&&!t.length||Gf(t)&&!Object.keys(t).length}function HS(t){if(Tt(t,window.URL))return!0;if(!gi(t))return!1;let e=t;(!t.startsWith("http://")||!t.startsWith("https://"))&&(e=`http://${t}`);try{return!Xf(new URL(e).hostname)}catch{return!1}}const _={nullOrUndefined:Ta,object:Gf,number:IS,string:gi,boolean:MS,function:Jf,array:Yf,weakMap:$S,nodeList:Qf,element:VS,textNode:DS,event:LS,keyboardEvent:US,cue:FS,track:BS,promise:qS,url:HS,empty:Xf},Oo=(()=>{const t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},r=Object.keys(e).find(s=>t.style[s]!==void 0);return _.string(r)?e[r]:!1})();function Zf(t,e){setTimeout(()=>{try{t.hidden=!0,t.offsetHeight,t.hidden=!1}catch{}},e)}function WS(t){return JSON.parse(JSON.stringify(t))}function ep(t,e){return e.split(".").reduce((r,s)=>r&&r[s],t)}function be(t={},...e){if(!e.length)return t;const r=e.shift();return _.object(r)?(Object.keys(r).forEach(s=>{_.object(r[s])?(Object.keys(t).includes(s)||Object.assign(t,{[s]:{}}),be(t[s],r[s])):Object.assign(t,{[s]:r[s]})}),be(t,...e)):t}function tp(t,e){const r=t.length?t:[t];Array.from(r).reverse().forEach((s,n)=>{const i=n>0?e.cloneNode(!0):e,o=s.parentNode,a=s.nextSibling;i.appendChild(s),a?o.insertBefore(i,a):o.appendChild(i)})}function Io(t,e){!_.element(t)||_.empty(e)||Object.entries(e).filter(([,r])=>!_.nullOrUndefined(r)).forEach(([r,s])=>t.setAttribute(r,s))}function q(t,e,r){const s=document.createElement(t);return _.object(e)&&Io(s,e),_.string(r)&&(s.textContent=r),s}function zS(t,e){!_.element(t)||!_.element(e)||e.parentNode.insertBefore(t,e.nextSibling)}function wc(t,e,r,s){_.element(e)&&e.appendChild(q(t,r,s))}function _t(t){if(_.nodeList(t)||_.array(t)){Array.from(t).forEach(_t);return}!_.element(t)||!_.element(t.parentNode)||t.parentNode.removeChild(t)}function jn(t){if(!_.element(t))return;let{length:e}=t.childNodes;for(;e>0;)t.removeChild(t.lastChild),e-=1}function Hn(t,e){return!_.element(e)||!_.element(e.parentNode)||!_.element(t)?null:(e.parentNode.replaceChild(t,e),t)}function ct(t,e){if(!_.string(t)||_.empty(t))return{};const r={},s=be({},e);return t.split(",").forEach(n=>{const i=n.trim(),o=i.replace(".",""),l=i.replace(/[[\]]/g,"").split("="),[c]=l,d=l.length>1?l[1].replace(/["']/g,""):"";switch(i.charAt(0)){case".":_.string(s.class)?r.class=`${s.class} ${o}`:r.class=o;break;case"#":r.id=i.replace("#","");break;case"[":r[c]=d;break}}),be(s,r)}function dr(t,e){if(!_.element(t))return;let r=e;_.boolean(r)||(r=!t.hidden),t.hidden=r}function se(t,e,r){if(_.nodeList(t))return Array.from(t).map(s=>se(s,e,r));if(_.element(t)){let s="toggle";return typeof r<"u"&&(s=r?"add":"remove"),t.classList[s](e),t.classList.contains(e)}return!1}function Wn(t,e){return _.element(t)&&t.classList.contains(e)}function yr(t,e){const{prototype:r}=Element;function s(){return Array.from(document.querySelectorAll(e)).includes(this)}return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||s).call(t,e)}function KS(t,e){const{prototype:r}=Element;function s(){let i=this;do{if(yr.matches(i,e))return i;i=i.parentElement||i.parentNode}while(i!==null&&i.nodeType===1);return null}return(r.closest||s).call(t,e)}function Ds(t){return this.elements.container.querySelectorAll(t)}function Se(t){return this.elements.container.querySelector(t)}function Ji(t=null,e=!1){_.element(t)&&t.focus({preventScroll:!0,focusVisible:e})}const xc={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ve={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(t,e){const r=ve[t]||e!=="html5",s=r&&ve.rangeInput;return{api:r,ui:s}},pip:document.pictureInPictureEnabled&&!q("video").disablePictureInPicture,airplay:_.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(t){if(_.empty(t))return!1;const[e]=t.split("/");let r=t;if(!this.isHTML5||e!==this.type)return!1;Object.keys(xc).includes(r)&&(r+=`; codecs="${xc[t]}"`);try{return!!(r&&this.media.canPlayType(r).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const t=document.createElement("input");return t.type="range",t.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:Oo!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},GS=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t=!0,null}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t})();function Ls(t,e,r,s=!1,n=!0,i=!1){if(!t||!("addEventListener"in t)||_.empty(e)||!_.function(r))return;const o=e.split(" ");let a=i;GS&&(a={passive:n,capture:i}),o.forEach(l=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:t,type:l,callback:r,options:a}),t[s?"addEventListener":"removeEventListener"](l,r,a)})}function ee(t,e="",r,s=!0,n=!1){Ls.call(this,t,e,r,!0,s,n)}function yi(t,e="",r,s=!0,n=!1){Ls.call(this,t,e,r,!1,s,n)}function ka(t,e="",r,s=!0,n=!1){const i=(...o)=>{yi(t,e,i,s,n),r.apply(this,o)};Ls.call(this,t,e,i,!0,s,n)}function V(t,e="",r=!1,s={}){if(!_.element(t)||_.empty(e))return;const n=new CustomEvent(e,{bubbles:r,detail:{...s,plyr:this}});t.dispatchEvent(n)}function JS(){this&&this.eventListeners&&(this.eventListeners.forEach(t=>{const{element:e,type:r,callback:s,options:n}=t;e.removeEventListener(r,s,n)}),this.eventListeners=[])}function YS(){return new Promise(t=>this.ready?setTimeout(t,0):ee.call(this,this.elements.container,"ready",t)).then(()=>{})}function ft(t){_.promise(t)&&t.then(null,()=>{})}function Mo(t){return _.array(t)?t.filter((e,r)=>t.indexOf(e)===r):t}function rp(t,e){return!_.array(t)||!t.length?null:t.reduce((r,s)=>Math.abs(s-e)<Math.abs(r-e)?s:r)}function sp(t){return!window||!window.CSS?!1:window.CSS.supports(t)}const _c=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((t,[e,r])=>({...t,[e/r]:[e,r]}),{});function np(t){return!_.array(t)&&(!_.string(t)||!t.includes(":"))?!1:(_.array(t)?t:t.split(":")).map(Number).every(_.number)}function zn(t){if(!_.array(t)||!t.every(_.number))return null;const[e,r]=t,s=(i,o)=>o===0?i:s(o,i%o),n=s(e,r);return[e/n,r/n]}function Aa(t){const e=s=>np(s)?s.split(":").map(Number):null;let r=e(t);if(r===null&&(r=e(this.config.ratio)),r===null&&!_.empty(this.embed)&&_.array(this.embed.ratio)&&({ratio:r}=this.embed),r===null&&this.isHTML5){const{videoWidth:s,videoHeight:n}=this.media;r=[s,n]}return zn(r)}function as(t){if(!this.isVideo)return{};const{wrapper:e}=this.elements,r=Aa.call(this,t);if(!_.array(r))return{};const[s,n]=zn(r),i=sp(`aspect-ratio: ${s}/${n}`),o=100/s*n;if(i?e.style.aspectRatio=`${s}/${n}`:e.style.paddingBottom=`${o}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const a=100/this.media.offsetWidth*Number.parseInt(window.getComputedStyle(this.media).paddingBottom,10),l=(a-o)/(a/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${l}%)`}else this.isHTML5&&e.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:r}}function ip(t,e,r=.05){const s=t/e,n=rp(Object.keys(_c),s);return Math.abs(n-s)<=r?_c[n]:[t,e]}function QS(){const t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),e=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);return[t,e]}const Yt={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{const r=e.getAttribute("type");return _.empty(r)?!0:ve.mime.call(this,r)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Yt.getSources.call(this).map(t=>Number(t.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const t=this;t.options.speed=t.config.speed.options,_.empty(this.config.ratio)||as.call(t),Object.defineProperty(t.media,"quality",{get(){const r=Yt.getSources.call(t).find(s=>s.getAttribute("src")===t.source);return r&&Number(r.getAttribute("size"))},set(e){if(t.quality!==e){if(t.config.quality.forced&&_.function(t.config.quality.onChange))t.config.quality.onChange(e);else{const s=Yt.getSources.call(t).find(c=>Number(c.getAttribute("size"))===e);if(!s)return;const{currentTime:n,paused:i,preload:o,readyState:a,playbackRate:l}=t.media;t.media.src=s.getAttribute("src"),(o!=="none"||a)&&(t.once("loadedmetadata",()=>{t.speed=l,t.currentTime=n,i||ft(t.play())}),t.media.load())}V.call(t,t.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(_t(Yt.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},XS=!!window.document.documentMode,ZS=/Edge/.test(navigator.userAgent),eC="WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),tC=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,rC=/iPad|iPhone|iPod/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1,je={isIE:XS,isEdge:ZS,isWebKit:eC,isIPadOS:tC,isIos:rC};function sC(t){return`${t}-${Math.floor(Math.random()*1e4)}`}function $o(t,...e){return _.empty(t)?t:t.toString().replace(/\{(\d+)\}/g,(r,s)=>e[s].toString())}function nC(t,e){return t===0||e===0||Number.isNaN(t)||Number.isNaN(e)?0:(t/e*100).toFixed(2)}function ks(t="",e="",r=""){return t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),r.toString())}function op(t=""){return t.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}function iC(t=""){let e=t.toString();return e=ks(e,"-"," "),e=ks(e,"_"," "),e=op(e),ks(e," ","")}function oC(t=""){let e=t.toString();return e=iC(e),e.charAt(0).toLowerCase()+e.slice(1)}function aC(t){const e=document.createDocumentFragment(),r=document.createElement("div");return e.appendChild(r),r.innerHTML=t,e.firstChild.textContent}function lC(t){const e=document.createElement("div");return e.appendChild(t),e.innerHTML}const Ec={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Te={get(t="",e={}){if(_.empty(t)||_.empty(e))return"";let r=ep(e.i18n,t);if(_.empty(r))return Object.keys(Ec).includes(t)?Ec[t]:"";const s={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(s).forEach(([n,i])=>{r=ks(r,n,i)}),r}};class Us{constructor(e){P(this,"get",e=>{if(!Us.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(_.empty(r))return null;const s=JSON.parse(r);return _.string(e)&&e.length?s[e]:s});P(this,"set",e=>{if(!Us.supported||!this.enabled||!_.object(e))return;let r=this.get();_.empty(r)&&(r={}),be(r,e);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}});this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}}function Zs(t,e="text",r=!1){return new Promise((s,n)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;r&&(i.withCredentials=!0),i.addEventListener("load",()=>{if(e==="text")try{s(JSON.parse(i.responseText))}catch{s(i.responseText)}else s(i.response)}),i.addEventListener("error",()=>{throw new Error(i.status)}),i.open("GET",t,!0),i.responseType=e,i.send()}catch(i){n(i)}})}function ap(t,e){if(!_.string(t))return;const r="cache",s=_.string(e);let n=!1;const i=()=>document.getElementById(e)!==null,o=(a,l)=>{a.innerHTML=l,!(s&&i())&&document.body.insertAdjacentElement("afterbegin",a)};if(!s||!i()){const a=Us.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),s&&l.setAttribute("id",e),a){const c=window.localStorage.getItem(`${r}-${e}`);if(n=c!==null,n){const d=JSON.parse(c);o(l,d.content)}}Zs(t).then(c=>{if(!_.empty(c)){if(a)try{window.localStorage.setItem(`${r}-${e}`,JSON.stringify({content:c}))}catch{}o(l,c)}}).catch(()=>{})}}const lp=t=>Math.trunc(t/60/60%60,10),cC=t=>Math.trunc(t/60%60,10),uC=t=>Math.trunc(t%60,10);function bi(t=0,e=!1,r=!1){if(!_.number(t))return bi(void 0,e,r);const s=a=>`0${a}`.slice(-2);let n=lp(t);const i=cC(t),o=uC(t);return e||n>0?n=`${n}:`:n="",`${r&&t>0?"-":""}${n}${s(i)}:${s(o)}`}const N={getIconUrl(){const t=new URL(this.config.iconUrl,window.location),e=window.location.host?window.location.host:window.top.location.host,r=t.host!==e||je.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:r}},findElements(){try{return this.elements.controls=Se.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Ds.call(this,this.config.selectors.buttons.play),pause:Se.call(this,this.config.selectors.buttons.pause),restart:Se.call(this,this.config.selectors.buttons.restart),rewind:Se.call(this,this.config.selectors.buttons.rewind),fastForward:Se.call(this,this.config.selectors.buttons.fastForward),mute:Se.call(this,this.config.selectors.buttons.mute),pip:Se.call(this,this.config.selectors.buttons.pip),airplay:Se.call(this,this.config.selectors.buttons.airplay),settings:Se.call(this,this.config.selectors.buttons.settings),captions:Se.call(this,this.config.selectors.buttons.captions),fullscreen:Se.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Se.call(this,this.config.selectors.progress),this.elements.inputs={seek:Se.call(this,this.config.selectors.inputs.seek),volume:Se.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Se.call(this,this.config.selectors.display.buffer),currentTime:Se.call(this,this.config.selectors.display.currentTime),duration:Se.call(this,this.config.selectors.display.duration)},_.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon(t,e){const r="http://www.w3.org/2000/svg",s=N.getIconUrl.call(this),n=`${s.cors?"":s.url}#${this.config.iconPrefix}`,i=document.createElementNS(r,"svg");Io(i,be(e,{"aria-hidden":"true",focusable:"false"}));const o=document.createElementNS(r,"use"),a=`${n}-${t}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",a),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),i.appendChild(o),i},createLabel(t,e={}){const r=Te.get(t,this.config),s={...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")};return q("span",s,r)},createBadge(t){if(_.empty(t))return null;const e=q("span",{class:this.config.classNames.menu.value});return e.appendChild(q("span",{class:this.config.classNames.menu.badge},t)),e},createButton(t,e){const r=be({},e);let s=oC(t);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(o=>{Object.keys(r).includes(o)&&(n[o]=r[o],delete r[o])}),n.element==="button"&&!Object.keys(r).includes("type")&&(r.type="button"),Object.keys(r).includes("class")?r.class.split(" ").includes(this.config.classNames.control)||be(r,{class:`${r.class} ${this.config.classNames.control}`}):r.class=this.config.classNames.control,t){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":r.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:_.empty(n.label)&&(n.label=s),_.empty(n.icon)&&(n.icon=t)}const i=q(n.element);return n.toggle?(i.appendChild(N.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),i.appendChild(N.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),i.appendChild(N.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),i.appendChild(N.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(i.appendChild(N.createIcon.call(this,n.icon)),i.appendChild(N.createLabel.call(this,n.label))),be(r,ct(this.config.selectors.buttons[s],r)),Io(i,r),s==="play"?(_.array(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(i)):this.elements.buttons[s]=i,i},createRange(t,e){const r=q("input",be(ct(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Te.get(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=r,N.updateRangeFill.call(this,r),OS.setup(r),r},createProgress(t,e){const r=q("progress",be(ct(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if(t!=="volume"){r.appendChild(q("span",null,"0"));const s={played:"played",buffer:"buffered"}[t],n=s?Te.get(s,this.config):"";r.textContent=`% ${n.toLowerCase()}`}return this.elements.display[t]=r,r},createTime(t,e){const r=ct(this.config.selectors.display[t],e),s=q("div",be(r,{class:`${r.class?r.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Te.get(t,this.config),role:"timer"}),"00:00");return this.elements.display[t]=s,s},bindMenuItemShortcuts(t,e){ee.call(this,t,"keydown keyup",r=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(r.key)||(r.preventDefault(),r.stopPropagation(),r.type==="keydown"))return;const s=yr(t,'[role="menuitemradio"]');if(!s&&[" ","ArrowRight"].includes(r.key))N.showMenuPanel.call(this,e,!0);else{let n;r.key!==" "&&(r.key==="ArrowDown"||s&&r.key==="ArrowRight"?(n=t.nextElementSibling,_.element(n)||(n=t.parentNode.firstElementChild)):(n=t.previousElementSibling,_.element(n)||(n=t.parentNode.lastElementChild)),Ji.call(this,n,!0))}},!1),ee.call(this,t,"keyup",r=>{r.key==="Return"&&N.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:t,list:e,type:r,title:s,badge:n=null,checked:i=!1}){const o=ct(this.config.selectors.inputs[r]),a=q("button",be(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":i,value:t})),l=q("span");l.innerHTML=s,_.element(n)&&l.appendChild(n),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get(){return a.getAttribute("aria-checked")==="true"},set(c){c&&Array.from(a.parentNode.children).filter(d=>yr(d,'[role="menuitemradio"]')).forEach(d=>d.setAttribute("aria-checked","false")),a.setAttribute("aria-checked",c?"true":"false")}}),this.listeners.bind(a,"click keyup",c=>{if(!(_.keyboardEvent(c)&&c.key!==" ")){switch(c.preventDefault(),c.stopPropagation(),a.checked=!0,r){case"language":this.currentTrack=Number(t);break;case"quality":this.quality=t;break;case"speed":this.speed=Number.parseFloat(t);break}N.showMenuPanel.call(this,"home",_.keyboardEvent(c))}},r,!1),N.bindMenuItemShortcuts.call(this,a,r),e.appendChild(a)},formatTime(t=0,e=!1){if(!_.number(t))return t;const r=lp(this.duration)>0;return bi(t,r,e)},updateTimeDisplay(t=null,e=0,r=!1){!_.element(t)||!_.number(e)||(t.textContent=N.formatTime(e,r))},updateVolume(){this.supported.ui&&(_.element(this.elements.inputs.volume)&&N.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),_.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(t,e=0){_.element(t)&&(t.value=e,N.updateRangeFill.call(this,t))},updateProgress(t){if(!this.supported.ui||!_.event(t))return;let e=0;const r=(s,n)=>{const i=_.number(n)?n:0,o=_.element(s)?s:this.elements.display.buffer;if(_.element(o)){o.value=i;const a=o.getElementsByTagName("span")[0];_.element(a)&&(a.childNodes[0].nodeValue=i)}};if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":e=nC(this.currentTime,this.duration),t.type==="timeupdate"&&N.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":r(this.elements.display.buffer,this.buffered*100);break}},updateRangeFill(t){const e=_.event(t)?t.target:t;if(!(!_.element(e)||e.getAttribute("type")!=="range")){if(yr(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const r=N.formatTime(this.currentTime),s=N.formatTime(this.duration),n=Te.get("seekLabel",this.config);e.setAttribute("aria-valuetext",n.replace("{currentTime}",r).replace("{duration}",s))}else if(yr(e,this.config.selectors.inputs.volume)){const r=e.value*100;e.setAttribute("aria-valuenow",r),e.setAttribute("aria-valuetext",`${r.toFixed(1)}%`)}else e.setAttribute("aria-valuenow",e.value);!je.isWebKit&&!je.isIPadOS||e.style.setProperty("--value",`${e.value/e.max*100}%`)}},updateSeekTooltip(t){var l,c;if(!this.config.tooltips.seek||!_.element(this.elements.inputs.seek)||!_.element(this.elements.display.seekTooltip)||this.duration===0)return;const e=this.elements.display.seekTooltip,r=`${this.config.classNames.tooltip}--visible`,s=d=>se(e,r,d);if(this.touch){s(!1);return}let n=0;const i=this.elements.progress.getBoundingClientRect();if(_.event(t)){const d=t.pageX-t.clientX;n=100/i.width*(t.pageX-i.left-d)}else if(Wn(e,r))n=Number.parseFloat(e.style.left,10);else return;n<0?n=0:n>100&&(n=100);const o=this.duration/100*n;e.textContent=N.formatTime(o);const a=(c=(l=this.config.markers)==null?void 0:l.points)==null?void 0:c.find(({time:d})=>d===Math.round(o));a&&e.insertAdjacentHTML("afterbegin",`${a.label}<br>`),e.style.left=`${n}%`,_.event(t)&&["mouseenter","mouseleave"].includes(t.type)&&s(t.type==="mouseenter")},timeUpdate(t){const e=!_.element(this.elements.display.duration)&&this.config.invertTime;N.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),!(t&&t.type==="timeupdate"&&this.media.seeking)&&N.updateProgress.call(this,t)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32){dr(this.elements.display.currentTime,!0),dr(this.elements.progress,!0);return}_.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const t=_.element(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&N.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&N.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&N.setMarkers.call(this),N.updateSeekTooltip.call(this)},toggleMenuButton(t,e){dr(this.elements.settings.buttons[t],!e)},updateSetting(t,e,r){const s=this.elements.settings.panels[t];let n=null,i=e;if(t==="captions")n=this.currentTrack;else{if(n=_.empty(r)?this[t]:r,_.empty(n)&&(n=this.config[t].default),!_.empty(this.options[t])&&!this.options[t].includes(n)){this.debug.warn(`Unsupported value of '${n}' for ${t}`);return}if(!this.config[t].options.includes(n)){this.debug.warn(`Disabled value of '${n}' for ${t}`);return}}if(_.element(i)||(i=s&&s.querySelector('[role="menu"]')),!_.element(i))return;const o=this.elements.settings.buttons[t].querySelector(`.${this.config.classNames.menu.value}`);o.innerHTML=N.getLabel.call(this,t,n);const a=i&&i.querySelector(`[value="${n}"]`);_.element(a)&&(a.checked=!0)},getLabel(t,e){switch(t){case"speed":return e===1?Te.get("normal",this.config):`${e}&times;`;case"quality":if(_.number(e)){const r=Te.get(`qualityLabel.${e}`,this.config);return r.length?r:`${e}p`}return op(e);case"captions":return re.getLabel.call(this);default:return null}},setQualityMenu(t){if(!_.element(this.elements.settings.panels.quality))return;const e="quality",r=this.elements.settings.panels.quality.querySelector('[role="menu"]');_.array(t)&&(this.options.quality=Mo(t).filter(i=>this.config.quality.options.includes(i)));const s=!_.empty(this.options.quality)&&this.options.quality.length>1;if(N.toggleMenuButton.call(this,e,s),jn(r),N.checkMenu.call(this),!s)return;const n=i=>{const o=Te.get(`qualityBadge.${i}`,this.config);return o.length?N.createBadge.call(this,o):null};this.options.quality.sort((i,o)=>{const a=this.config.quality.options;return a.indexOf(i)>a.indexOf(o)?1:-1}).forEach(i=>{N.createMenuItem.call(this,{value:i,list:r,type:e,title:N.getLabel.call(this,"quality",i),badge:n(i)})}),N.updateSetting.call(this,e,r)},setCaptionsMenu(){if(!_.element(this.elements.settings.panels.captions))return;const t="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),r=re.getTracks.call(this),s=!!r.length;if(N.toggleMenuButton.call(this,t,s),jn(e),N.checkMenu.call(this),!s)return;const n=r.map((i,o)=>({value:o,checked:this.captions.toggled&&this.currentTrack===o,title:re.getLabel.call(this,i),badge:i.language&&N.createBadge.call(this,i.language.toUpperCase()),list:e,type:"language"}));n.unshift({value:-1,checked:!this.captions.toggled,title:Te.get("disabled",this.config),list:e,type:"language"}),n.forEach(N.createMenuItem.bind(this)),N.updateSetting.call(this,t,e)},setSpeedMenu(){if(!_.element(this.elements.settings.panels.speed))return;const t="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(s=>s>=this.minimumSpeed&&s<=this.maximumSpeed);const r=!_.empty(this.options.speed)&&this.options.speed.length>1;N.toggleMenuButton.call(this,t,r),jn(e),N.checkMenu.call(this),r&&(this.options.speed.forEach(s=>{N.createMenuItem.call(this,{value:s,list:e,type:t,title:N.getLabel.call(this,"speed",s)})}),N.updateSetting.call(this,t,e))},checkMenu(){const{buttons:t}=this.elements.settings,e=!_.empty(t)&&Object.values(t).some(r=>!r.hidden);dr(this.elements.settings.menu,!e)},focusFirstMenuItem(t,e=!1){if(this.elements.settings.popup.hidden)return;let r=t;_.element(r)||(r=Object.values(this.elements.settings.panels).find(n=>!n.hidden));const s=r.querySelector('[role^="menuitem"]');Ji.call(this,s,e)},toggleMenu(t){const{popup:e}=this.elements.settings,r=this.elements.buttons.settings;if(!_.element(e)||!_.element(r))return;const{hidden:s}=e;let n=s;if(_.boolean(t))n=t;else if(_.keyboardEvent(t)&&t.key==="Escape")n=!1;else if(_.event(t)){const i=_.function(t.composedPath)?t.composedPath()[0]:t.target,o=e.contains(i);if(o||!o&&t.target!==r&&n)return}r.setAttribute("aria-expanded",n),dr(e,!n),se(this.elements.container,this.config.classNames.menu.open,n),n&&_.keyboardEvent(t)?N.focusFirstMenuItem.call(this,null,!0):!n&&!s&&Ji.call(this,r,_.keyboardEvent(t))},getMenuSize(t){const e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);const r=e.scrollWidth,s=e.scrollHeight;return _t(e),{width:r,height:s}},showMenuPanel(t="",e=!1){const r=this.elements.container.querySelector(`#plyr-settings-${this.id}-${t}`);if(!_.element(r))return;const s=r.parentNode,n=Array.from(s.children).find(i=>!i.hidden);if(ve.transitions&&!ve.reducedMotion){s.style.width=`${n.scrollWidth}px`,s.style.height=`${n.scrollHeight}px`;const i=N.getMenuSize.call(this,r),o=a=>{a.target!==s||!["width","height"].includes(a.propertyName)||(s.style.width="",s.style.height="",yi.call(this,s,Oo,o))};ee.call(this,s,Oo,o),s.style.width=`${i.width}px`,s.style.height=`${i.height}px`}dr(n,!0),dr(r,!1),N.focusFirstMenuItem.call(this,r,e)},setDownloadUrl(){const t=this.elements.buttons.download;_.element(t)&&t.setAttribute("href",this.download)},create(t){const{bindMenuItemShortcuts:e,createButton:r,createProgress:s,createRange:n,createTime:i,setQualityMenu:o,setSpeedMenu:a,showMenuPanel:l}=N;this.elements.controls=null,_.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(r.call(this,"play-large"));const c=q("div",ct(this.config.selectors.controls.wrapper));this.elements.controls=c;const d={class:"plyr__controls__item"};return Mo(_.array(this.config.controls)?this.config.controls:[]).forEach(f=>{if(f==="restart"&&c.appendChild(r.call(this,"restart",d)),f==="rewind"&&c.appendChild(r.call(this,"rewind",d)),f==="play"&&c.appendChild(r.call(this,"play",d)),f==="fast-forward"&&c.appendChild(r.call(this,"fast-forward",d)),f==="progress"){const p=q("div",{class:`${d.class} plyr__progress__container`}),h=q("div",ct(this.config.selectors.progress));if(h.appendChild(n.call(this,"seek",{id:`plyr-seek-${t.id}`})),h.appendChild(s.call(this,"buffer")),this.config.tooltips.seek){const b=q("span",{class:this.config.classNames.tooltip},"00:00");h.appendChild(b),this.elements.display.seekTooltip=b}this.elements.progress=h,p.appendChild(this.elements.progress),c.appendChild(p)}if(f==="current-time"&&c.appendChild(i.call(this,"currentTime",d)),f==="duration"&&c.appendChild(i.call(this,"duration",d)),f==="mute"||f==="volume"){let{volume:p}=this.elements;if((!_.element(p)||!c.contains(p))&&(p=q("div",be({},d,{class:`${d.class} plyr__volume`.trim()})),this.elements.volume=p,c.appendChild(p)),f==="mute"&&p.appendChild(r.call(this,"mute")),f==="volume"&&!je.isIos&&!je.isIPadOS){const h={max:1,step:.05,value:this.config.volume};p.appendChild(n.call(this,"volume",be(h,{id:`plyr-volume-${t.id}`})))}}if(f==="captions"&&c.appendChild(r.call(this,"captions",d)),f==="settings"&&!_.empty(this.config.settings)){const p=q("div",be({},d,{class:`${d.class} plyr__menu`.trim(),hidden:""}));p.appendChild(r.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${t.id}`,"aria-expanded":!1}));const h=q("div",{class:"plyr__menu__container",id:`plyr-settings-${t.id}`,hidden:""}),b=q("div"),g=q("div",{id:`plyr-settings-${t.id}-home`}),y=q("div",{role:"menu"});g.appendChild(y),b.appendChild(g),this.elements.settings.panels.home=g,this.config.settings.forEach(w=>{const v=q("button",be(ct(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,v,w),ee.call(this,v,"click",()=>{l.call(this,w,!1)});const x=q("span",null,Te.get(w,this.config)),E=q("span",{class:this.config.classNames.menu.value});E.innerHTML=t[w],x.appendChild(E),v.appendChild(x),y.appendChild(v);const S=q("div",{id:`plyr-settings-${t.id}-${w}`,hidden:""}),C=q("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});C.appendChild(q("span",{"aria-hidden":!0},Te.get(w,this.config))),C.appendChild(q("span",{class:this.config.classNames.hidden},Te.get("menuBack",this.config))),ee.call(this,S,"keydown",k=>{k.key==="ArrowLeft"&&(k.preventDefault(),k.stopPropagation(),l.call(this,"home",!0))},!1),ee.call(this,C,"click",()=>{l.call(this,"home",!1)}),S.appendChild(C),S.appendChild(q("div",{role:"menu"})),b.appendChild(S),this.elements.settings.buttons[w]=v,this.elements.settings.panels[w]=S}),h.appendChild(b),p.appendChild(h),c.appendChild(p),this.elements.settings.popup=h,this.elements.settings.menu=p}if(f==="pip"&&ve.pip&&c.appendChild(r.call(this,"pip",d)),f==="airplay"&&ve.airplay&&c.appendChild(r.call(this,"airplay",d)),f==="download"){const p=be({},d,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(p.download="");const{download:h}=this.config.urls;!_.url(h)&&this.isEmbed&&be(p,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(r.call(this,"download",p))}f==="fullscreen"&&c.appendChild(r.call(this,"fullscreen",d))}),this.isHTML5&&o.call(this,Yt.getQualityOptions.call(this)),a.call(this),c},inject(){if(this.config.loadSprite){const o=N.getIconUrl.call(this);o.cors&&ap(o.url,"sprite-plyr")}this.id=Math.floor(Math.random()*1e4);let t=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let r=!0;_.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),_.element(this.config.controls)||_.string(this.config.controls)?t=this.config.controls:(t=N.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:re.getLabel.call(this)}),r=!1);const s=o=>{let a=o;return Object.entries(e).forEach(([l,c])=>{a=ks(a,`{${l}}`,c)}),a};r&&_.string(this.config.controls)&&(t=s(t));let n;_.string(this.config.selectors.controls.container)&&(n=document.querySelector(this.config.selectors.controls.container)),_.element(n)||(n=this.elements.container);const i=_.element(t)?"insertAdjacentElement":"insertAdjacentHTML";if(n[i]("afterbegin",t),_.element(this.elements.controls)||N.findElements.call(this),!_.empty(this.elements.buttons)){const o=a=>{const l=this.config.classNames.controlPressed;a.setAttribute("aria-pressed","false"),Object.defineProperty(a,"pressed",{configurable:!0,enumerable:!0,get(){return Wn(a,l)},set(c=!1){se(a,l,c),a.setAttribute("aria-pressed",c?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(a=>{_.array(a)||_.nodeList(a)?Array.from(a).filter(Boolean).forEach(o):o(a)})}if(je.isEdge&&Zf(n),this.config.tooltips.controls){const{classNames:o,selectors:a}=this.config,l=`${a.controls.wrapper} ${a.labels} .${o.hidden}`,c=Ds.call(this,l);Array.from(c).forEach(d=>{se(d,this.config.classNames.hidden,!1),se(d,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var o,a;if(!this.duration||this.elements.markers)return;const t=(a=(o=this.config.markers)==null?void 0:o.points)==null?void 0:a.filter(({time:l})=>l>0&&l<this.duration);if(!(t!=null&&t.length))return;const e=document.createDocumentFragment(),r=document.createDocumentFragment();let s=null;const n=`${this.config.classNames.tooltip}--visible`,i=l=>se(s,n,l);t.forEach(l=>{const c=q("span",{class:this.config.classNames.marker},""),d=`${l.time/this.duration*100}%`;s&&(c.addEventListener("mouseenter",()=>{l.label||(s.style.left=d,s.innerHTML=l.label,i(!0))}),c.addEventListener("mouseleave",()=>{i(!1)})),c.addEventListener("click",()=>{this.currentTime=l.time}),c.style.left=d,r.appendChild(c)}),e.appendChild(r),this.config.tooltips.seek||(s=q("span",{class:this.config.classNames.tooltip},""),e.appendChild(s)),this.elements.markers={points:r,tip:s},this.elements.progress.appendChild(e)}};function cp(t,e=!0){let r=t;if(e){const s=document.createElement("a");s.href=r,r=s.href}try{return new URL(r)}catch{return null}}function up(t){const e=new URLSearchParams;return _.object(t)&&Object.entries(t).forEach(([r,s])=>{e.set(r,s)}),e}const re={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!ve.textTracks){_.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&N.setCaptionsMenu.call(this);return}if(_.element(this.elements.captions)||(this.elements.captions=q("div",ct(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),zS(this.elements.captions,this.elements.wrapper)),je.isIE&&window.URL){const n=this.media.querySelectorAll("track");Array.from(n).forEach(i=>{const o=i.getAttribute("src"),a=cp(o);a!==null&&a.hostname!==window.location.href.hostname&&["http:","https:"].includes(a.protocol)&&Zs(o,"blob").then(l=>{i.setAttribute("src",window.URL.createObjectURL(l))}).catch(()=>{_t(i)})})}const t=navigator.languages||[navigator.language||navigator.userLanguage||"en"],e=Mo(t.map(n=>n.split("-")[0]));let r=(this.storage.get("language")||this.captions.language||this.config.captions.language||"auto").toLowerCase();r==="auto"&&([r]=e);let s=this.storage.get("captions")||this.captions.active;if(_.boolean(s)||({active:s}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:s,language:r,languages:e}),this.isHTML5){const n=this.config.captions.update?"addtrack removetrack":"removetrack";ee.call(this,this.media.textTracks,n,re.update.bind(this))}setTimeout(re.update.bind(this),0)},update(){const t=re.getTracks.call(this,!0),{active:e,language:r,meta:s,currentTrackNode:n}=this.captions,i=!!t.find(o=>o.language===r);this.isHTML5&&this.isVideo&&t.filter(o=>!s.get(o)).forEach(o=>{this.debug.log("Track added",o),s.set(o,{default:o.mode==="showing"}),o.mode==="showing"&&(o.mode="hidden"),ee.call(this,o,"cuechange",()=>re.updateCues.call(this))}),(i&&this.language!==r||!t.includes(n))&&(re.setLanguage.call(this,r),re.toggle.call(this,e&&i)),this.elements&&se(this.elements.container,this.config.classNames.captions.enabled,!_.empty(t)),_.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&N.setCaptionsMenu.call(this)},toggle(t,e=!0){if(!this.supported.ui)return;const{toggled:r}=this.captions,s=this.config.classNames.captions.active,n=_.nullOrUndefined(t)?!r:t;if(n!==r){if(e||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!e){const i=re.getTracks.call(this),o=re.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);this.captions.language=o.language,re.set.call(this,i.indexOf(o));return}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),se(this.elements.container,s,n),this.captions.toggled=n,N.updateSetting.call(this,"captions"),V.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout(()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(t,e=!0){const r=re.getTracks.call(this);if(t===-1){re.toggle.call(this,!1,e);return}if(!_.number(t)){this.debug.warn("Invalid caption argument",t);return}if(!(t in r)){this.debug.warn("Track not found",t);return}if(this.captions.currentTrack!==t){this.captions.currentTrack=t;const s=r[t],{language:n}=s||{};this.captions.currentTrackNode=s,N.updateSetting.call(this,"captions"),e||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),V.call(this,this.media,"languagechange")}re.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&re.updateCues.call(this)},setLanguage(t,e=!0){if(!_.string(t)){this.debug.warn("Invalid language argument",t);return}const r=t.toLowerCase();this.captions.language=r;const s=re.getTracks.call(this),n=re.findTrack.call(this,[r]);re.set.call(this,s.indexOf(n),e)},getTracks(t=!1){return Array.from((this.media||{}).textTracks||[]).filter(r=>!this.isHTML5||t||this.captions.meta.has(r)).filter(r=>["captions","subtitles"].includes(r.kind))},findTrack(t,e=!1){const r=re.getTracks.call(this),s=o=>Number((this.captions.meta.get(o)||{}).default),n=Array.from(r).sort((o,a)=>s(a)-s(o));let i;return t.every(o=>(i=n.find(a=>a.language===o),!i)),i||(e?n[0]:void 0)},getCurrentTrack(){return re.getTracks.call(this)[this.currentTrack]},getLabel(t){let e=t;return!_.track(e)&&ve.textTracks&&this.captions.toggled&&(e=re.getCurrentTrack.call(this)),_.track(e)?_.empty(e.label)?_.empty(e.language)?Te.get("enabled",this.config):t.language.toUpperCase():e.label:Te.get("disabled",this.config)},updateCues(t){if(!this.supported.ui)return;if(!_.element(this.elements.captions)){this.debug.warn("No captions element to render to");return}if(!_.nullOrUndefined(t)&&!Array.isArray(t)){this.debug.warn("updateCues: Invalid input",t);return}let e=t;if(!e){const n=re.getCurrentTrack.call(this);e=Array.from((n||{}).activeCues||[]).map(i=>i.getCueAsHTML()).map(lC)}const r=e.map(n=>n.trim()).join(`
`);if(r!==this.elements.captions.innerHTML){jn(this.elements.captions);const n=q("span",ct(this.config.selectors.caption));n.innerHTML=r,this.elements.captions.appendChild(n),V.call(this,this.media,"cuechange")}}},dp={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.8.3/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:"",withCredentials:!1},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Yi={active:"picture-in-picture",inactive:"inline"},qt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Qi={audio:"audio",video:"video"};function dC(t){return/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(t)?qt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?qt.vimeo:null}function Xi(){}class hC{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Xi}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Xi}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Xi}}class et{constructor(e){P(this,"onChange",()=>{if(!this.supported)return;const e=this.player.elements.buttons.fullscreen;_.element(e)&&(e.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;V.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)});P(this,"toggleFallback",(e=!1)=>{if(e?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",se(this.target,this.player.config.classNames.fullscreen.fallback,e),je.isIos){let r=document.head.querySelector('meta[name="viewport"]');const s="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const n=_.string(r.content)&&r.content.includes(s);e?(this.cleanupViewport=!n,n||(r.content+=`,${s}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter(i=>i.trim()!==s).join(","))}this.onChange()});P(this,"trapFocus",e=>{if(je.isIos||je.isIPadOS||!this.active||e.key!=="Tab")return;const r=document.activeElement,s=Ds.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[n]=s,i=s[s.length-1];r===i&&!e.shiftKey?(n.focus(),e.preventDefault()):r===n&&e.shiftKey&&(i.focus(),e.preventDefault())});P(this,"update",()=>{if(this.supported){let e;this.forceFallback?e="Fallback (forced)":et.nativeSupported?e="Native":e="Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");se(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)});P(this,"enter",()=>{this.supported&&(je.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!et.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?_.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))});P(this,"exit",()=>{if(this.supported){if(je.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),ft(this.player.play());else if(!et.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(!this.prefix)(document.cancelFullScreen||document.exitFullscreen).call(document);else if(!_.empty(this.prefix)){const e=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}});P(this,"toggle",()=>{this.active?this.exit():this.enter()});this.player=e,this.prefix=et.prefix,this.property=et.property,this.scrollPosition={x:0,y:0},this.forceFallback=e.config.fullscreen.fallback==="force",this.player.elements.fullscreen=e.config.fullscreen.container&&KS(this.player.elements.container,e.config.fullscreen.container),ee.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),ee.call(this.player,this.player.elements.container,"dblclick",r=>{_.element(this.player.elements.controls)&&this.player.elements.controls.contains(r.target)||this.player.listeners.proxy(r,this.toggle,"fullscreen")}),ee.call(this,this.player.elements.container,"keydown",r=>this.trapFocus(r)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return et.nativeSupported&&!this.forceFallback}static get prefix(){if(_.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(s=>_.function(document[`${s}ExitFullscreen`])||_.function(document[`${s}CancelFullScreen`])?(e=s,!0):!1),e}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,et.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||et.nativeSupported||!je.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!et.nativeSupported||this.forceFallback)return Wn(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return je.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function Nn(t,e=1){return new Promise((r,s)=>{const n=new Image,i=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=e?r:s)(n)};Object.assign(n,{onload:i,onerror:i,src:t})})}const ue={addStyleHook(){se(this.elements.container,this.config.selectors.container.replace(".",""),!0),se(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(t=!1){t&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui){this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),ue.toggleNativeControls.call(this,!0);return}_.element(this.elements.controls)||(N.inject.call(this),this.listeners.controls()),ue.toggleNativeControls.call(this),this.isHTML5&&re.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,N.updateVolume.call(this),N.timeUpdate.call(this),N.durationUpdate.call(this),ue.checkPlaying.call(this),se(this.elements.container,this.config.classNames.pip.supported,ve.pip&&this.isHTML5&&this.isVideo),se(this.elements.container,this.config.classNames.airplay.supported,ve.airplay&&this.isHTML5),se(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{V.call(this,this.media,"ready")},0),ue.setTitle.call(this),this.poster&&ue.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&N.durationUpdate.call(this),this.config.mediaMetadata&&N.setMediaMetadata.call(this)},setTitle(){let t=Te.get("play",this.config);if(_.string(this.config.title)&&!_.empty(this.config.title)&&(t+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",t)}),this.isEmbed){const e=Se.call(this,"iframe");if(!_.element(e))return;const r=_.empty(this.config.title)?"video":this.config.title,s=Te.get("frameTitle",this.config);e.setAttribute("title",s.replace("{title}",r))}},togglePoster(t){se(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster(t,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),YS.call(this).then(()=>Nn(t)).catch(r=>{throw t===this.poster&&ue.togglePoster.call(this,!1),r}).then(()=>{if(t!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${t}')`,backgroundSize:""}),ue.togglePoster.call(this,!0),t)))},checkPlaying(t){se(this.elements.container,this.config.classNames.playing,this.playing),se(this.elements.container,this.config.classNames.paused,this.paused),se(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",Te.get(this.playing?"pause":"play",this.config))}),!(_.event(t)&&t.type==="timeupdate")&&ue.toggleControls.call(this)},checkLoading(t){this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{se(this.elements.container,this.config.classNames.loading,this.loading),ue.toggleControls.call(this)},this.loading?250:0)},toggleControls(t){const{controls:e}=this.elements;if(e&&this.config.hideControls){const r=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(t||this.loading||this.paused||e.pressed||e.hover||r))}},migrateStyles(){Object.values({...this.media.style}).filter(t=>!_.empty(t)&&_.string(t)&&t.startsWith("--plyr")).forEach(t=>{this.elements.container.style.setProperty(t,this.media.style.getPropertyValue(t)),this.media.style.removeProperty(t)}),_.empty(this.media.style)&&this.media.removeAttribute("style")}};class fC{constructor(e){P(this,"firstTouch",()=>{const{player:e}=this,{elements:r}=e;e.touch=!0,se(r.container,e.config.classNames.isTouch,!0)});P(this,"global",(e=!0)=>{const{player:r}=this;r.config.keyboard.global&&Ls.call(r,window,"keydown keyup",this.handleKey,e,!1),Ls.call(r,document.body,"click",this.toggleMenu,e),ka.call(r,document.body,"touchstart",this.firstTouch)});P(this,"container",()=>{const{player:e}=this,{config:r,elements:s,timers:n}=e;!r.keyboard.global&&r.keyboard.focused&&ee.call(e,s.container,"keydown keyup",this.handleKey,!1),ee.call(e,s.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",a=>{const{controls:l}=s;l&&a.type==="enterfullscreen"&&(l.pressed=!1,l.hover=!1);const c=["touchstart","touchmove","mousemove"].includes(a.type);let d=0;c&&(ue.toggleControls.call(e,!0),d=e.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(()=>ue.toggleControls.call(e,!1),d)});const i=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const a=s.wrapper,{active:l}=e.fullscreen,[c,d]=Aa.call(e),f=sp(`aspect-ratio: ${c} / ${d}`);if(!l){f?(a.style.width=null,a.style.height=null):(a.style.maxWidth=null,a.style.margin=null);return}const[p,h]=QS(),b=p/h>c/d;f?(a.style.width=b?"auto":"100%",a.style.height=b?"100%":"auto"):(a.style.maxWidth=b?`${h/d*c}px`:null,a.style.margin=b?"0 auto":null)},o=()=>{clearTimeout(n.resized),n.resized=setTimeout(i,50)};ee.call(e,s.container,"enterfullscreen exitfullscreen",a=>{const{target:l}=e.fullscreen;if(l!==s.container||!e.isEmbed&&_.empty(e.config.ratio))return;i(),(a.type==="enterfullscreen"?ee:yi).call(e,window,"resize",o)})});P(this,"media",()=>{const{player:e}=this,{elements:r}=e;if(ee.call(e,e.media,"timeupdate seeking seeked",n=>N.timeUpdate.call(e,n)),ee.call(e,e.media,"durationchange loadeddata loadedmetadata",n=>N.durationUpdate.call(e,n)),ee.call(e,e.media,"ended",()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())}),ee.call(e,e.media,"progress playing seeking seeked",n=>N.updateProgress.call(e,n)),ee.call(e,e.media,"volumechange",n=>N.updateVolume.call(e,n)),ee.call(e,e.media,"playing play pause ended emptied timeupdate",n=>ue.checkPlaying.call(e,n)),ee.call(e,e.media,"waiting canplay seeked playing",n=>ue.checkLoading.call(e,n)),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const n=Se.call(e,`.${e.config.classNames.video}`);if(!_.element(n))return;ee.call(e,r.container,"click",i=>{![r.container,n].includes(i.target)&&!n.contains(i.target)||e.touch&&e.config.hideControls||(e.ended?(this.proxy(i,e.restart,"restart"),this.proxy(i,()=>{ft(e.play())},"play")):this.proxy(i,()=>{ft(e.togglePlay())},"play"))})}e.supported.ui&&e.config.disableContextMenu&&ee.call(e,r.wrapper,"contextmenu",n=>{n.preventDefault()},!1),ee.call(e,e.media,"volumechange",()=>{e.storage.set({volume:e.volume,muted:e.muted})}),ee.call(e,e.media,"ratechange",()=>{N.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})}),ee.call(e,e.media,"qualitychange",n=>{N.updateSetting.call(e,"quality",null,n.detail.quality)}),ee.call(e,e.media,"ready qualitychange",()=>{N.setDownloadUrl.call(e)});const s=e.config.events.concat(["keyup","keydown"]).join(" ");ee.call(e,e.media,s,n=>{let{detail:i={}}=n;n.type==="error"&&(i=e.media.error),V.call(e,r.container,n.type,!0,i)})});P(this,"proxy",(e,r,s)=>{const{player:n}=this,i=n.config.listeners[s],o=_.function(i);let a=!0;o&&(a=i.call(n,e)),a!==!1&&_.function(r)&&r.call(n,e)});P(this,"bind",(e,r,s,n,i=!0)=>{const{player:o}=this,a=o.config.listeners[n],l=_.function(a);ee.call(o,e,r,c=>this.proxy(c,s,n),i&&!l)});P(this,"controls",()=>{const{player:e}=this,{elements:r}=e,s=je.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach(n=>{this.bind(n,"click",()=>{ft(e.togglePlay())},"play")}),this.bind(r.buttons.restart,"click",e.restart,"restart"),this.bind(r.buttons.rewind,"click",()=>{e.lastSeekTime=Date.now(),e.rewind()},"rewind"),this.bind(r.buttons.fastForward,"click",()=>{e.lastSeekTime=Date.now(),e.forward()},"fastForward"),this.bind(r.buttons.mute,"click",()=>{e.muted=!e.muted},"mute"),this.bind(r.buttons.captions,"click",()=>e.toggleCaptions()),this.bind(r.buttons.download,"click",()=>{V.call(e,e.media,"download")},"download"),this.bind(r.buttons.fullscreen,"click",()=>{e.fullscreen.toggle()},"fullscreen"),this.bind(r.buttons.pip,"click",()=>{e.pip="toggle"},"pip"),this.bind(r.buttons.airplay,"click",e.airplay,"airplay"),this.bind(r.buttons.settings,"click",n=>{n.stopPropagation(),n.preventDefault(),N.toggleMenu.call(e,n)},null,!1),this.bind(r.buttons.settings,"keyup",n=>{if([" ","Enter"].includes(n.key)){if(n.key==="Enter"){N.focusFirstMenuItem.call(e,null,!0);return}n.preventDefault(),n.stopPropagation(),N.toggleMenu.call(e,n)}},null,!1),this.bind(r.settings.menu,"keydown",n=>{n.key==="Escape"&&N.toggleMenu.call(e,n)}),this.bind(r.inputs.seek,"mousedown mousemove",n=>{const i=r.progress.getBoundingClientRect(),o=n.pageX-n.clientX,a=100/i.width*(n.pageX-i.left-o);n.currentTarget.setAttribute("seek-value",a)}),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",n=>{const i=n.currentTarget,o="play-on-seeked";if(_.keyboardEvent(n)&&!["ArrowLeft","ArrowRight"].includes(n.key))return;e.lastSeekTime=Date.now();const a=i.hasAttribute(o),l=["mouseup","touchend","keyup"].includes(n.type);a&&l?(i.removeAttribute(o),ft(e.play())):!l&&e.playing&&(i.setAttribute(o,""),e.pause())}),je.isIos){const n=Ds.call(e,'input[type="range"]');Array.from(n).forEach(i=>this.bind(i,s,o=>Zf(o.target)))}this.bind(r.inputs.seek,s,n=>{const i=n.currentTarget;let o=i.getAttribute("seek-value");_.empty(o)&&(o=i.value),i.removeAttribute("seek-value"),e.currentTime=o/i.max*e.duration},"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",n=>N.updateSeekTooltip.call(e,n)),this.bind(r.progress,"mousemove touchmove",n=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startMove(n)}),this.bind(r.progress,"mouseleave touchend click",()=>{const{previewThumbnails:n}=e;n&&n.loaded&&n.endMove(!1,!0)}),this.bind(r.progress,"mousedown touchstart",n=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startScrubbing(n)}),this.bind(r.progress,"mouseup touchend",n=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.endScrubbing(n)}),je.isWebKit&&Array.from(Ds.call(e,'input[type="range"]')).forEach(n=>{this.bind(n,"input",i=>N.updateRangeFill.call(e,i.target))}),e.config.toggleInvert&&!_.element(r.display.duration)&&this.bind(r.display.currentTime,"click",()=>{e.currentTime!==0&&(e.config.invertTime=!e.config.invertTime,N.timeUpdate.call(e))}),this.bind(r.inputs.volume,s,n=>{e.volume=n.target.value},"volume"),this.bind(r.controls,"mouseenter mouseleave",n=>{r.controls.hover=!e.touch&&n.type==="mouseenter"}),r.fullscreen&&Array.from(r.fullscreen.children).filter(n=>!n.contains(r.container)).forEach(n=>{this.bind(n,"mouseenter mouseleave",i=>{r.controls&&(r.controls.hover=!e.touch&&i.type==="mouseenter")})}),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",n=>{r.controls.pressed=["mousedown","touchstart"].includes(n.type)}),this.bind(r.controls,"focusin",()=>{const{config:n,timers:i}=e;se(r.controls,n.classNames.noTransition,!0),ue.toggleControls.call(e,!0),setTimeout(()=>{se(r.controls,n.classNames.noTransition,!1)},0);const o=this.touch?3e3:4e3;clearTimeout(i.controls),i.controls=setTimeout(()=>ue.toggleControls.call(e,!1),o)}),this.bind(r.inputs.volume,"wheel",n=>{const i=n.webkitDirectionInvertedFromDevice,[o,a]=[n.deltaX,-n.deltaY].map(d=>i?-d:d),l=Math.sign(Math.abs(o)>Math.abs(a)?o:a);e.increaseVolume(l/50);const{volume:c}=e.media;(l===1&&c<1||l===-1&&c>0)&&n.preventDefault()},"volume",!1)});this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:r}=this,{elements:s}=r,{key:n,type:i,altKey:o,ctrlKey:a,metaKey:l,shiftKey:c}=e,d=i==="keydown",f=d&&n===this.lastKey;if(o||a||l||c||!n)return;const p=h=>{r.currentTime=r.duration/10*h};if(d){const h=document.activeElement;if(_.element(h)){const{editable:g}=r.config.selectors,{seek:y}=s.inputs;if(h!==y&&yr(h,g)||e.key===" "&&yr(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f||p(Number.parseInt(n,10));break;case" ":case"k":f||ft(r.togglePlay());break;case"ArrowUp":r.increaseVolume(.1);break;case"ArrowDown":r.decreaseVolume(.1);break;case"m":f||(r.muted=!r.muted);break;case"ArrowRight":r.forward();break;case"ArrowLeft":r.rewind();break;case"f":r.fullscreen.toggle();break;case"c":f||r.toggleCaptions();break;case"l":r.loop=!r.loop;break}n==="Escape"&&!r.fullscreen.usingNative&&r.fullscreen.active&&r.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}toggleMenu(e){N.toggleMenu.call(this.player,e)}}var hp={exports:{}};(function(t,e){(function(r,s){t.exports=s()})(Pp,function(){var r=function(){},s={},n={},i={};function o(p,h){p=p.push?p:[p];var b=[],g=p.length,y=g,w,v,x,E;for(w=function(S,C){C.length&&b.push(S),y--,y||h(b)};g--;){if(v=p[g],x=n[v],x){w(v,x);continue}E=i[v]=i[v]||[],E.push(w)}}function a(p,h){if(p){var b=i[p];if(n[p]=h,!!b)for(;b.length;)b[0](p,h),b.splice(0,1)}}function l(p,h){p.call&&(p={success:p}),h.length?(p.error||r)(h):(p.success||r)(p)}function c(p,h,b,g){var y=document,w=b.async,v=(b.numRetries||0)+1,x=b.before||r,E=p.replace(/[\?|#].*$/,""),S=p.replace(/^(css|img|module|nomodule)!/,""),C,k,A;if(g=g||0,/(^css!|\.css$)/.test(E))A=y.createElement("link"),A.rel="stylesheet",A.href=S,C="hideFocus"in A,C&&A.relList&&(C=0,A.rel="preload",A.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(E))A=y.createElement("img"),A.src=S;else if(A=y.createElement("script"),A.src=S,A.async=w===void 0?!0:w,k="noModule"in A,/^module!/.test(E)){if(!k)return h(p,"l");A.type="module"}else if(/^nomodule!/.test(E)&&k)return h(p,"l");A.onload=A.onerror=A.onbeforeload=function(D){var I=D.type[0];if(C)try{A.sheet.cssText.length||(I="e")}catch(W){W.code!=18&&(I="e")}if(I=="e"){if(g+=1,g<v)return c(p,h,b,g)}else if(A.rel=="preload"&&A.as=="style")return A.rel="stylesheet";h(p,I,D.defaultPrevented)},x(p,A)!==!1&&y.head.appendChild(A)}function d(p,h,b){p=p.push?p:[p];var g=p.length,y=g,w=[],v,x;for(v=function(E,S,C){if(S=="e"&&w.push(E),S=="b")if(C)w.push(E);else return;g--,g||h(w)},x=0;x<y;x++)c(p[x],v,b)}function f(p,h,b){var g,y;if(h&&h.trim&&(g=h),y=(g?b:h)||{},g){if(g in s)throw"LoadJS";s[g]=!0}function w(v,x){d(p,function(E){l(y,E),v&&l({success:v,error:x},E),a(g,E)},y)}if(y.returnPromise)return new Promise(w);w()}return f.ready=function(h,b){return o(h,function(g){l(b,g)}),f},f.done=function(h){a(h,[])},f.reset=function(){s={},n={},i={}},f.isDefined=function(h){return h in s},f})})(hp);var pC=hp.exports;const mC=$c(pC);function ja(t){return new Promise((e,r)=>{mC(t,{success:e,error:r})})}function gC(t){if(_.empty(t))return null;if(_.number(Number(t)))return t;const e=/^.*(vimeo.com\/|video\/)(\d+).*/,r=t.match(e);return r?r[2]:t}function yC(t){const e=/^.*(vimeo.com\/|video\/)(\d+)(\?.*h=|\/)+([\d,a-f]+)/,r=t.match(e);return r&&r.length===5?r[4]:null}function bs(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,V.call(this,this.media,t?"play":"pause"))}const Do={setup(){const t=this;se(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,as.call(t),_.object(window.Vimeo)?Do.ready.call(t):ja(t.config.urls.vimeo.sdk).then(()=>{Do.ready.call(t)}).catch(e=>{t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const t=this,e=t.config.vimeo,{premium:r,referrerPolicy:s,...n}=e;let i=t.media.getAttribute("src"),o="";_.empty(i)?(i=t.media.getAttribute(t.config.attributes.embed.id),o=t.media.getAttribute(t.config.attributes.embed.hash)):o=yC(i);const a=o?{h:o}:{};r&&Object.assign(n,{controls:!1,sidedock:!1});const l=up({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:t.config.playsinline,...a,...n}),c=gC(i),d=q("iframe"),f=$o(t.config.urls.vimeo.iframe,c,l);if(d.setAttribute("src",f),d.setAttribute("allowfullscreen",""),d.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),_.empty(s)||d.setAttribute("referrerPolicy",s),r||!e.customControls)d.setAttribute("data-poster",t.poster),t.media=Hn(d,t.media);else{const v=q("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});v.appendChild(d),t.media=Hn(v,t.media)}e.customControls||Zs($o(t.config.urls.vimeo.api,f)).then(v=>{_.empty(v)||!v.thumbnail_url||ue.setPoster.call(t,v.thumbnail_url).catch(()=>{})}),t.embed=new window.Vimeo.Player(d,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=()=>(bs.call(t,!0),t.embed.play()),t.media.pause=()=>(bs.call(t,!1),t.embed.pause()),t.media.stop=()=>{t.pause(),t.currentTime=0};let{currentTime:p}=t.media;Object.defineProperty(t.media,"currentTime",{get(){return p},set(v){const{embed:x,media:E,paused:S,volume:C}=t,k=S&&!x.hasPlayed;E.seeking=!0,V.call(t,E,"seeking"),Promise.resolve(k&&x.setVolume(0)).then(()=>x.setCurrentTime(v)).then(()=>k&&x.pause()).then(()=>k&&x.setVolume(C)).catch(()=>{})}});let h=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get(){return h},set(v){t.embed.setPlaybackRate(v).then(()=>{h=v,V.call(t,t.media,"ratechange")}).catch(()=>{t.options.speed=[1]})}});let{volume:b}=t.config;Object.defineProperty(t.media,"volume",{get(){return b},set(v){t.embed.setVolume(v).then(()=>{b=v,V.call(t,t.media,"volumechange")})}});let{muted:g}=t.config;Object.defineProperty(t.media,"muted",{get(){return g},set(v){const x=_.boolean(v)?v:!1;t.embed.setMuted(x?!0:t.config.muted).then(()=>{g=x,V.call(t,t.media,"volumechange")})}});let{loop:y}=t.config;Object.defineProperty(t.media,"loop",{get(){return y},set(v){const x=_.boolean(v)?v:t.config.loop.active;t.embed.setLoop(x).then(()=>{y=x})}});let w;t.embed.getVideoUrl().then(v=>{w=v,N.setDownloadUrl.call(t)}).catch(v=>{this.debug.warn(v)}),Object.defineProperty(t.media,"currentSrc",{get(){return w}}),Object.defineProperty(t.media,"ended",{get(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(v=>{const[x,E]=v;t.embed.ratio=ip(x,E),as.call(this)}),t.embed.setAutopause(t.config.autopause).then(v=>{t.config.autopause=v}),t.embed.getVideoTitle().then(v=>{t.config.title=v,ue.setTitle.call(this)}),t.embed.getCurrentTime().then(v=>{p=v,V.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(v=>{t.media.duration=v,V.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(v=>{t.media.textTracks=v,re.setup.call(t)}),t.embed.on("cuechange",({cues:v=[]})=>{const x=v.map(E=>aC(E.text));re.updateCues.call(t,x)}),t.embed.on("loaded",()=>{t.embed.getPaused().then(v=>{bs.call(t,!v),v||V.call(t,t.media,"playing")}),_.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("bufferstart",()=>{V.call(t,t.media,"waiting")}),t.embed.on("bufferend",()=>{V.call(t,t.media,"playing")}),t.embed.on("play",()=>{bs.call(t,!0),V.call(t,t.media,"playing")}),t.embed.on("pause",()=>{bs.call(t,!1)}),t.embed.on("timeupdate",v=>{t.media.seeking=!1,p=v.seconds,V.call(t,t.media,"timeupdate")}),t.embed.on("progress",v=>{t.media.buffered=v.percent,V.call(t,t.media,"progress"),Number.parseInt(v.percent,10)===1&&V.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(x=>{x!==t.media.duration&&(t.media.duration=x,V.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",()=>{t.media.seeking=!1,V.call(t,t.media,"seeked")}),t.embed.on("ended",()=>{t.media.paused=!0,V.call(t,t.media,"ended")}),t.embed.on("error",v=>{t.media.error=v,V.call(t,t.media,"error")}),e.customControls&&setTimeout(()=>ue.build.call(t),0)}};function bC(t){if(_.empty(t))return null;const e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=t.match(e);return r&&r[2]?r[2]:t}function vs(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,V.call(this,this.media,t?"play":"pause"))}function vC(t){if(t.noCookie)return"https://www.youtube-nocookie.com";if(window.location.protocol==="http:")return"http://www.youtube.com"}const Pn={setup(){if(se(this.elements.wrapper,this.config.classNames.embed,!0),_.object(window.YT)&&_.function(window.YT.Player))Pn.ready.call(this);else{const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{_.function(t)&&t(),Pn.ready.call(this)},ja(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(t){const e=$o(this.config.urls.youtube.api,t);Zs(e).then(r=>{if(_.object(r)){const{title:s,height:n,width:i}=r;this.config.title=s,ue.setTitle.call(this),this.embed.ratio=ip(i,n)}as.call(this)}).catch(()=>{as.call(this)})},ready(){const t=this,e=t.config.youtube,r=t.media&&t.media.getAttribute("id");if(!_.empty(r)&&r.startsWith("youtube-"))return;let s=t.media.getAttribute("src");_.empty(s)&&(s=t.media.getAttribute(this.config.attributes.embed.id));const n=bC(s),i=sC(t.provider),o=q("div",{id:i,"data-poster":e.customControls?t.poster:void 0});if(t.media=Hn(o,t.media),e.customControls){const a=l=>`https://i.ytimg.com/vi/${n}/${l}default.jpg`;Nn(a("maxres"),121).catch(()=>Nn(a("sd"),121)).catch(()=>Nn(a("hq"))).then(l=>ue.setPoster.call(t,l.src)).then(l=>{l.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}t.embed=new window.YT.Player(t.media,{videoId:n,host:vC(e),playerVars:be({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:t.config.playsinline&&!t.config.fullscreen.iosNative?1:0,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(a){if(!t.media.error){const l=a.data,c={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[l]||"An unknown error occurred";t.media.error={code:l,message:c},V.call(t,t.media,"error")}},onPlaybackRateChange(a){const l=a.target;t.media.playbackRate=l.getPlaybackRate(),V.call(t,t.media,"ratechange")},onReady(a){if(_.function(t.media.play))return;const l=a.target;Pn.getTitle.call(t,n),t.media.play=()=>{vs.call(t,!0),l.playVideo()},t.media.pause=()=>{vs.call(t,!1),l.pauseVideo()},t.media.stop=()=>{l.stopVideo()},t.media.duration=l.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get(){return Number(l.getCurrentTime())},set(p){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,V.call(t,t.media,"seeking"),l.seekTo(p)}}),Object.defineProperty(t.media,"playbackRate",{get(){return l.getPlaybackRate()},set(p){l.setPlaybackRate(p)}});let{volume:c}=t.config;Object.defineProperty(t.media,"volume",{get(){return c},set(p){c=p,l.setVolume(c*100),V.call(t,t.media,"volumechange")}});let{muted:d}=t.config;Object.defineProperty(t.media,"muted",{get(){return d},set(p){const h=_.boolean(p)?p:d;d=h,l[h?"mute":"unMute"](),l.setVolume(c*100),V.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get(){return l.getVideoUrl()}}),Object.defineProperty(t.media,"ended",{get(){return t.currentTime===t.duration}});const f=l.getAvailablePlaybackRates();t.options.speed=f.filter(p=>t.config.speed.options.includes(p)),t.supported.ui&&e.customControls&&t.media.setAttribute("tabindex",-1),V.call(t,t.media,"timeupdate"),V.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(()=>{t.media.buffered=l.getVideoLoadedFraction(),(t.media.lastBuffered===null||t.media.lastBuffered<t.media.buffered)&&V.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,t.media.buffered===1&&(clearInterval(t.timers.buffering),V.call(t,t.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>ue.build.call(t),50)},onStateChange(a){const l=a.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(a.data)&&(t.media.seeking=!1,V.call(t,t.media,"seeked")),a.data){case-1:V.call(t,t.media,"timeupdate"),t.media.buffered=l.getVideoLoadedFraction(),V.call(t,t.media,"progress");break;case 0:vs.call(t,!1),t.media.loop?(l.stopVideo(),l.playVideo()):V.call(t,t.media,"ended");break;case 1:e.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(vs.call(t,!0),V.call(t,t.media,"playing"),t.timers.playing=setInterval(()=>{V.call(t,t.media,"timeupdate")},50),t.media.duration!==l.getDuration()&&(t.media.duration=l.getDuration(),V.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),vs.call(t,!1);break;case 3:V.call(t,t.media,"waiting");break}V.call(t,t.elements.container,"statechange",!1,{code:a.data})}}})}},fp={setup(){if(!this.media){this.debug.warn("No media element found!");return}se(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),se(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&se(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=q("div",{class:this.config.classNames.video}),tp(this.media,this.elements.wrapper),this.elements.poster=q("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Yt.setup.call(this):this.isYouTube?Pn.setup.call(this):this.isVimeo&&Do.setup.call(this)}};function wC(t){t.manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()}class xC{constructor(e){P(this,"load",()=>{this.enabled&&(!_.object(window.google)||!_.object(window.google.ima)?ja(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}):this.ready())});P(this,"ready",()=>{this.enabled||wC(this),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()});P(this,"setupIMA",()=>{this.elements.container=q("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e=>this.onAdsManagerLoaded(e),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e),!1),this.requestAds()});P(this,"requestAds",()=>{const{container:e}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=e.offsetWidth,r.linearAdSlotHeight=e.offsetHeight,r.nonLinearAdSlotWidth=e.offsetWidth,r.nonLinearAdSlotHeight=e.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}});P(this,"pollCountdown",(e=!1)=>{if(!e){clearInterval(this.countdownTimer),this.elements.container.removeAttribute("data-badge-text");return}const r=()=>{const s=bi(Math.max(this.manager.getRemainingTime(),0)),n=`${Te.get("advertisement",this.player.config)} - ${s}`;this.elements.container.setAttribute("data-badge-text",n)};this.countdownTimer=setInterval(r,100)});P(this,"onAdsManagerLoaded",e=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=e.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,s=>this.onAdError(s)),Object.keys(google.ima.AdEvent.Type).forEach(s=>{this.manager.addEventListener(google.ima.AdEvent.Type[s],n=>this.onAdEvent(n))}),this.trigger("loaded")});P(this,"addCuePoints",()=>{_.empty(this.cuePoints)||this.cuePoints.forEach(e=>{if(e!==0&&e!==-1&&e<this.player.duration){const r=this.player.elements.progress;if(_.element(r)){const s=100/this.player.duration*e,n=q("span",{class:this.player.config.classNames.cues});n.style.left=`${s.toString()}%`,r.appendChild(n)}}})});P(this,"onAdEvent",e=>{const{container:r}=this.player.elements,s=e.getAd(),n=e.getAdData();switch((o=>{V.call(this.player,this.player.media,`ads${o.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),s.isLinear()||(s.width=r.offsetWidth,s.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:n.adError&&this.player.debug.warn(`Non-fatal ad error: ${n.adError.getMessage()}`);break}});P(this,"onAdError",e=>{this.cancel(),this.player.debug.warn("Ads error",e)});P(this,"listeners",()=>{const{container:e}=this.player.elements;let r;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{r=this.player.currentTime}),this.player.on("seeked",()=>{const s=this.player.currentTime;_.empty(this.cuePoints)||this.cuePoints.forEach((n,i)=>{r<n&&n<s&&(this.manager.discardAdBreak(),this.cuePoints.splice(i,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})});P(this,"play",()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}}).catch(()=>{})});P(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,ft(this.player.media.play())});P(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()});P(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()});P(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(e=>{this.on("loaded",e),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})});P(this,"trigger",(e,...r)=>{const s=this.events[e];_.array(s)&&s.forEach(n=>{_.function(n)&&n.apply(this,r)})});P(this,"on",(e,r)=>(_.array(this.events[e])||(this.events[e]=[]),this.events[e].push(r),this));P(this,"startSafetyTimer",(e,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},e)});P(this,"clearSafetyTimer",e=>{_.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)});this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((r,s)=>{this.on("loaded",r),this.on("error",s)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!_.empty(e.publisherId)||_.url(e.tagUrl))}get tagUrl(){const{config:e}=this;if(_.url(e.tagUrl))return e.tagUrl;const r={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return`https://go.aniview.com/api/adserver6/vast/?${up(r)}`}}function pp(t=0,e=0,r=255){return Math.min(Math.max(t,e),r)}function _C(t){const e=[];return t.split(/\r\n\r\n|\n\n|\r\r/).forEach(s=>{const n={};s.split(/\r\n|\n|\r/).forEach(o=>{if(_.number(n.startTime)){if(!_.empty(o.trim())&&_.empty(n.text)){const a=o.trim().split("#xywh=");[n.text]=a,a[1]&&([n.x,n.y,n.w,n.h]=a[1].split(","))}}else{const a=o.match(/(\d{2})?:?(\d{2}):(\d{2}).(\d{2,3})( ?--> ?)(\d{2})?:?(\d{2}):(\d{2}).(\d{2,3})/);a&&(n.startTime=Number(a[1]||0)*60*60+Number(a[2])*60+Number(a[3])+ +`0.${a[4]}`,n.endTime=Number(a[6]||0)*60*60+Number(a[7])*60+Number(a[8])+ +`0.${a[9]}`)}}),n.text&&e.push(n)}),e}function Sc(t,e){const r=e.width/e.height,s={};return t>r?(s.width=e.width,s.height=1/t*e.width):(s.height=e.height,s.width=t*e.height),s}class Lo{constructor(e){P(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})});P(this,"getThumbnails",()=>new Promise(e=>{const{src:r}=this.player.config.previewThumbnails;if(_.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const s=()=>{this.thumbnails.sort((n,i)=>n.height-i.height),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(_.function(r))r(n=>{this.thumbnails=n,s()});else{const i=(_.string(r)?[r]:r).map(o=>this.getThumbnail(o));Promise.all(i).then(s)}}));P(this,"getThumbnail",e=>new Promise(r=>{Zs(e,void 0,this.player.config.previewThumbnails.withCredentials).then(s=>{const n={frames:_C(s),height:null,urlPrefix:""};!n.frames[0].text.startsWith("/")&&!n.frames[0].text.startsWith("http://")&&!n.frames[0].text.startsWith("https://")&&(n.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const i=new Image;i.onload=()=>{n.height=i.naturalHeight,n.width=i.naturalWidth,this.thumbnails.push(n),r()},i.src=n.urlPrefix+n.frames[0].text})}));P(this,"startMove",e=>{var r,s;if(this.loaded&&!(!_.event(e)||!["touchmove","mousemove"].includes(e.type))&&this.player.media.duration){if(e.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{const n=this.player.elements.progress.getBoundingClientRect(),i=100/n.width*(e.pageX-n.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.textContent=bi(this.seekTime);const o=(s=(r=this.player.config.markers)==null?void 0:r.points)==null?void 0:s.find(({time:a})=>a===Math.round(this.seekTime));o&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${o.label}<br>`)}this.showImageAtCurrentTime()}});P(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)});P(this,"startScrubbing",e=>{(_.nullOrUndefined(e.button)||e.button===!1||e.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))});P(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):ka.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})});P(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})});P(this,"render",()=>{this.elements.thumb.container=q("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=q("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=q("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=q("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),_.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=q("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)});P(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()});P(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex(n=>this.seekTime>=n.startTime&&this.seekTime<=n.endTime),r=e>=0;let s=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach((n,i)=>{this.loadedImages.includes(n.frames[e].text)&&(s=i)}),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(s)))});P(this,"loadImage",(e=0)=>{const r=this.showingThumb,s=this.thumbnails[e],{urlPrefix:n}=s,i=s.frames[r],o=s.frames[r].text,a=n+o;if(!this.currentImageElement||this.currentImageElement.dataset.filename!==o){this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const l=new Image;l.src=a,l.dataset.index=r,l.dataset.filename=o,this.showingThumbFilename=o,this.player.debug.log(`Loading image: ${a}`),l.onload=()=>this.showImage(l,i,e,r,o,!0),this.loadingImage=l,this.removeOldImages(l)}else this.showImage(this.currentImageElement,i,e,r,o,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement)});P(this,"showImage",(e,r,s,n,i,o=!0)=>{this.player.debug.log(`Showing thumb: ${i}. num: ${n}. qual: ${s}. newimg: ${o}`),this.setImageSizeAndOffset(e,r),o&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(i)||this.loadedImages.push(i)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(s,e,r,i))});P(this,"removeOldImages",e=>{Array.from(this.currentImageContainer.children).forEach(r=>{if(r.tagName.toLowerCase()!=="img")return;const s=this.usingSprites?500:1e3;if(r.dataset.index!==e.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:n}=this;setTimeout(()=>{n.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)},s)}})});P(this,"preloadNearby",(e,r=!0)=>new Promise(s=>{setTimeout(()=>{const n=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===n){let i;r?i=this.thumbnails[0].frames.slice(e):i=this.thumbnails[0].frames.slice(0,e).reverse();let o=!1;i.forEach(a=>{const l=a.text;if(l!==n&&!this.loadedImages.includes(l)){o=!0,this.player.debug.log(`Preloading thumb filename: ${l}`);const{urlPrefix:c}=this.thumbnails[0],d=c+l,f=new Image;f.src=d,f.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${l}`),this.loadedImages.includes(l)||this.loadedImages.push(l),s()}}}),o||s()}},300)}));P(this,"getHigherQuality",(e,r,s,n)=>{if(e<this.thumbnails.length-1){let i=r.naturalHeight;this.usingSprites&&(i=s.h),i<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===n&&(this.player.debug.log(`Showing higher quality thumb for: ${n}`),this.loadImage(e+1))},300)}});P(this,"toggleThumbContainer",(e=!1,r=!1)=>{const s=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(s,e),!e&&r&&(this.showingThumb=null,this.showingThumbFilename=null)});P(this,"toggleScrubbingContainer",(e=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,e),e||(this.showingThumb=null,this.showingThumbFilename=null)});P(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)});P(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const r=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${r}px`}else if(e.clientHeight<20&&e.clientWidth>20){const r=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${r}px`}this.setThumbContainerPos()});P(this,"setThumbContainerPos",()=>{const e=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:s}=this.elements.thumb,n=r.left-e.left+10,i=r.right-e.left-s.clientWidth-10,o=this.mousePosX-e.left-s.clientWidth/2,a=pp(o,n,i);s.style.left=`${a}px`,s.style.setProperty("--preview-arrow-offset",`${o-a}px`)});P(this,"setScrubbingContainerSize",()=>{const{width:e,height:r}=Sc(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${r}px`});P(this,"setImageSizeAndOffset",(e,r)=>{if(!this.usingSprites)return;const s=this.thumbContainerHeight/r.h;e.style.height=`${e.naturalHeight*s}px`,e.style.width=`${e.naturalWidth*s}px`,e.style.left=`-${r.x*s}px`,e.style.top=`-${r.y*s}px`});this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=Sc(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const Uo={insertElements(t,e){_.string(e)?wc(t,this.media,{src:e}):_.array(e)&&e.forEach(r=>{wc(t,this.media,r)})},change(t){if(!ep(t,"sources.length")){this.debug.warn("Invalid source format");return}Yt.cancelRequests.call(this),this.destroy(()=>{this.options.quality=[],_t(this.media),this.media=null,_.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:r}=t,[{provider:s=qt.html5,src:n}]=e,i=s==="html5"?r:"div",o=s==="html5"?{}:{src:n};Object.assign(this,{provider:s,type:r,supported:ve.check(r,s,this.config.playsinline),media:q(i,o)}),this.elements.container.appendChild(this.media),_.boolean(t.autoplay)&&(this.config.autoplay=t.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),_.empty(t.poster)||(this.poster=t.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ue.addStyleHook.call(this),this.isHTML5&&Uo.insertElements.call(this,"source",e),this.config.title=t.title,fp.setup.call(this),this.isHTML5&&Object.keys(t).includes("tracks")&&Uo.insertElements.call(this,"track",t.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ue.build.call(this),this.isHTML5&&this.media.load(),_.empty(t.previewThumbnails)||(Object.assign(this.config.previewThumbnails,t.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Lo(this))),this.fullscreen.update()},!0)}};let mp=class Fo{constructor(e,r){P(this,"play",()=>_.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>ft(this.media.play())),this.media.play()):null);P(this,"pause",()=>!this.playing||!_.function(this.media.pause)?null:this.media.pause());P(this,"togglePlay",e=>(_.boolean(e)?e:!this.playing)?this.play():this.pause());P(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):_.function(this.media.stop)&&this.media.stop()});P(this,"restart",()=>{this.currentTime=0});P(this,"rewind",e=>{this.currentTime-=_.number(e)?e:this.config.seekTime});P(this,"forward",e=>{this.currentTime+=_.number(e)?e:this.config.seekTime});P(this,"increaseVolume",e=>{const r=this.media.muted?0:this.volume;this.volume=r+(_.number(e)?e:0)});P(this,"decreaseVolume",e=>{this.increaseVolume(-e)});P(this,"airplay",()=>{ve.airplay&&this.media.webkitShowPlaybackTargetPicker()});P(this,"toggleControls",e=>{if(this.supported.ui&&!this.isAudio){const r=Wn(this.elements.container,this.config.classNames.hideControls),s=typeof e>"u"?void 0:!e,n=se(this.elements.container,this.config.classNames.hideControls,s);if(n&&_.array(this.config.controls)&&this.config.controls.includes("settings")&&!_.empty(this.config.settings)&&N.toggleMenu.call(this,!1),n!==r){const i=n?"controlshidden":"controlsshown";V.call(this,this.media,i)}return!n}return!1});P(this,"on",(e,r)=>{ee.call(this,this.elements.container,e,r)});P(this,"once",(e,r)=>{ka.call(this,this.elements.container,e,r)});P(this,"off",(e,r)=>{yi(this.elements.container,e,r)});P(this,"destroy",(e,r=!1)=>{if(!this.ready)return;const s=()=>{document.body.style.overflow="",this.embed=null,r?(Object.keys(this.elements).length&&(_t(this.elements.buttons.play),_t(this.elements.captions),_t(this.elements.controls),_t(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),_.function(e)&&e()):(JS.call(this),Yt.cancelRequests.call(this),Hn(this.elements.original,this.elements.container),V.call(this,this.elements.original,"destroyed",!0),_.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ue.toggleNativeControls.call(this,!0),s()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&_.function(this.embed.destroy)&&this.embed.destroy(),s()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(s),setTimeout(s,200))});P(this,"supports",e=>ve.mime.call(this,e));if(this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ve.touch,this.media=e,_.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||_.nodeList(this.media)||_.array(this.media))&&(this.media=this.media[0]),this.config=be({},dp,Fo.defaults,r||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new hC(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ve),_.nullOrUndefined(this.media)||!_.element(this.media)){this.debug.error("Setup failed: no suitable element passed");return}if(this.media.plyr){this.debug.warn("Target already setup");return}if(!this.config.enabled){this.debug.error("Setup failed: disabled by config");return}if(!ve.check().api){this.debug.error("Setup failed: no support");return}const s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;const n=this.media.tagName.toLowerCase();let i=null,o=null;switch(n){case"div":if(i=this.media.querySelector("iframe"),_.element(i)){if(o=cp(i.getAttribute("src")),this.provider=dC(o.toString()),this.elements.container=this.media,this.media=i,this.elements.container.className="",o.search.length){const a=["1","true"];a.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(_.empty(this.provider)||!Object.values(qt).includes(this.provider)){this.debug.error("Setup failed: Invalid provider");return}this.type=Qi.video;break;case"video":case"audio":this.type=n,this.provider=qt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:this.debug.error("Setup failed: unsupported type");return}if(this.supported=ve.check(this.type,this.provider),!this.supported.api){this.debug.error("Setup failed: no support");return}this.eventListeners=[],this.listeners=new fC(this),this.storage=new Us(this),this.media.plyr=this,_.element(this.elements.container)||(this.elements.container=q("div"),tp(this.media,this.elements.container)),ue.migrateStyles.call(this),ue.addStyleHook.call(this),fp.setup.call(this),this.config.debug&&ee.call(this,this.elements.container,this.config.events.join(" "),a=>{this.debug.log(`event: ${a.type}`)}),this.fullscreen=new et(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ue.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new xC(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>ft(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Lo(this))}get isHTML5(){return this.provider===qt.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===qt.youtube}get isVimeo(){return this.provider===qt.vimeo}get isVideo(){return this.type===Qi.video}get isAudio(){return this.type===Qi.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(e){if(!this.duration)return;const r=_.number(e)&&e>0;this.media.currentTime=r?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return _.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const e=Number.parseFloat(this.config.duration),r=(this.media||{}).duration,s=!_.number(r)||r===1/0?0:r;return e||s}set volume(e){let r=e;const s=1,n=0;_.string(r)&&(r=Number(r)),_.number(r)||(r=this.storage.get("volume")),_.number(r)||({volume:r}=this.config),r>s&&(r=s),r<n&&(r=n),this.config.volume=r,this.media.volume=r,!_.empty(e)&&this.muted&&r>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let r=e;_.boolean(r)||(r=this.storage.get("muted")),_.boolean(r)||(r=this.config.muted),this.config.muted=r,this.media.muted=r}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||this.isAudio?!0:!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let r=null;_.number(e)&&(r=e),_.number(r)||(r=this.storage.get("speed")),_.number(r)||(r=this.config.speed.selected);const{minimumSpeed:s,maximumSpeed:n}=this;r=pp(r,s,n),this.config.speed.selected=r,setTimeout(()=>{this.media&&(this.media.playbackRate=r)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const r=this.config.quality,s=this.options.quality;if(!s.length)return;let n=[!_.empty(e)&&Number(e),this.storage.get("quality"),r.selected,r.default].find(_.number),i=!0;if(!s.includes(n)){const o=rp(s,n);this.debug.warn(`Unsupported quality option: ${n}, using ${o} instead`),n=o,i=!1}r.selected=n,this.media.quality=n,i&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(e){const r=_.boolean(e)?e:this.config.loop.active;this.config.loop.active=r,this.media.loop=r}get loop(){return!!this.media.loop}set source(e){Uo.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return _.url(e)?e:this.source}set download(e){_.url(e)&&(this.config.urls.download=e,N.setDownloadUrl.call(this))}set poster(e){if(!this.isVideo){this.debug.warn("Poster can only be set for video");return}ue.setPoster.call(this,e,!1).catch(()=>{})}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=zn(Aa.call(this));return _.array(e)?e.join(":"):e}set ratio(e){if(!this.isVideo){this.debug.warn("Aspect ratio can only be set for video");return}if(!_.string(e)||!np(e)){this.debug.error(`Invalid aspect ratio specified (${e})`);return}this.config.ratio=zn(e),as.call(this)}set autoplay(e){this.config.autoplay=_.boolean(e)?e:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(e){re.toggle.call(this,e,!1)}set currentTrack(e){re.set.call(this,e,!1),re.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:r}=this.captions;return e?r:-1}set language(e){re.setLanguage.call(this,e,!1)}get language(){return(re.getCurrentTrack.call(this)||{}).language}set pip(e){if(!ve.pip)return;const r=_.boolean(e)?e:!this.pip;_.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(r?Yi.active:Yi.inactive),_.function(this.media.requestPictureInPicture)&&(!this.pip&&r?this.media.requestPictureInPicture():this.pip&&!r&&document.exitPictureInPicture())}get pip(){return ve.pip?_.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Yi.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Lo(this))}static supported(e,r){return ve.check(e,r)}static loadSprite(e,r){return ap(e,r)}static setup(e,r={}){let s=null;return _.string(e)?s=Array.from(document.querySelectorAll(e)):_.nodeList(e)?s=Array.from(e):_.array(e)&&(s=e.filter(_.element)),_.empty(s)?null:s.map(n=>new Fo(n,r))}};mp.defaults=WS(dp);var gp={exports:{}},EC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SC=EC,CC=SC;function yp(){}function bp(){}bp.resetWarningCache=yp;var TC=function(){function t(s,n,i,o,a,l){if(l!==CC){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bp,resetWarningCache:yp};return r.PropTypes=r,r};gp.exports=TC();var kC=gp.exports;const Cc=$c(kC);function AC(t,e,r=[]){const[s,n]=m.useState(null),i=m.useRef(null),{instantiate:o,destroy:a,getAPI:l,params:c}=e;m.useEffect(()=>{const f=o(i.current,c);return n(f),()=>{a&&a(f,c)}},r);const d=m.useMemo(()=>l(s,c),[s]);return m.useImperativeHandle(t,d,[d]),i}const jC={},NC=(t,e)=>{const r=new mp(".plyr-react",e.options||{});return e.source&&(r.source=e.source),r},PC=t=>{t&&t.destroy()},RC=()=>{},OC=t=>t?()=>({plyr:t}):()=>new Proxy({plyr:{source:null}},{get:(e,r)=>r==="plyr"?e[r]:RC});function IC(t,e,r=null){return AC(t,{instantiate:NC,getAPI:OC,destroy:PC,params:e},r||[e.options,e.source])}const Rn=m.forwardRef((t,e)=>{const{source:r,options:s=null,...n}=t,i=IC(e,{source:r,options:s});return u.jsx("video",{ref:i,className:"plyr-react plyr",...n})});(jC&&"production")!=="production"&&(Rn.displayName="Plyr",Rn.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},Rn.propTypes={options:Cc.object,source:Cc.any});function MC({youtubeId:t,onProgress:e,onComplete:r}){const[s,n]=m.useState(!1),i={type:"video",sources:[{src:t,provider:"youtube"}]},o={controls:["play-large","play","progress","current-time","mute","volume","settings","pip","fullscreen"],settings:["quality","speed"],youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1},ratio:"16:9"},a=l=>{const c=l.detail.plyr;if(c.duration>0){const d=c.currentTime/c.duration*100;e==null||e(Math.round(d)),d>=90&&!s&&(n(!0),r==null||r())}};return u.jsxs("div",{className:"relative aspect-video w-full overflow-hidden rounded-xl bg-black",children:[u.jsx(Rn,{source:i,options:o,onTimeUpdate:a}),u.jsx("style",{children:`
        :root {
          --plyr-color-main: #FFD700;
          --plyr-video-control-background-hover: #E50914;
        }
      `})]})}function $C({moduleNumber:t}){const e=kt(),r=xd(),{user:s}=ir(),n=parseInt(r.lessonId||"0"),[i,o]=m.useState([]),a=va(t);m.useEffect(()=>{(async()=>{if(!s)return;const{data:h}=await Ne.from("user_lessons").select("lesson_id, is_completed, module_id").eq("user_id",s.id).eq("module_id",t).eq("is_completed",!0);if(h){const b=h.map(g=>g.lesson_id);o(b)}})()},[s,n]);const c={1:{title:"Reset Emocional",total:8},2:{title:"Mapa da Mente Masculina",total:8},3:{title:"Gatilhos da Memria Emocional",total:4},4:{title:"A Frase de 5 Palavras",total:4},5:{title:"Primeiro Contato Estratgico",total:3},6:{title:"Domnio da Conversa",total:6},7:{title:"Conquista Duradoura",total:6}}[t],d=a.filter(p=>i.includes(p.lesson)).length,f=Math.round(d/a.length*100);return u.jsxs(Ve,{className:"sticky top-24 border-border bg-card p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"mb-2 text-lg font-bold text-foreground",children:["Mdulo ",t,": ",c.title]}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"mb-1 flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Progresso"}),u.jsxs("span",{className:"font-semibold text-foreground",children:[f,"%"]})]}),u.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-muted",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/80 transition-all duration-500",style:{width:`${f}%`}})})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[d," de ",a.length," aulas concludas"]})]}),u.jsx("div",{className:"scrollbar-thin scrollbar-thumb-primary/20 scrollbar-track-transparent max-h-[600px] space-y-2 overflow-y-auto pr-2",children:a.map((p,h)=>{const b=i.includes(p.lesson),g=p.lesson===n;return u.jsx("button",{onClick:()=>e(`/modulo/${t}/aula/${p.lesson}`),className:`w-full rounded-lg p-3 text-left transition-all duration-200 ${g?"border-2 border-primary bg-primary/20 shadow-lg":"border-2 border-transparent bg-background hover:bg-muted"} ${b&&!g?"opacity-70":""} `,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"mt-0.5 flex-shrink-0",children:b?u.jsx(gu,{className:"h-5 w-5 text-green-500"}):g?u.jsx(Ko,{className:"h-5 w-5 text-primary",fill:"currentColor"}):u.jsx(Km,{className:"h-5 w-5 text-muted-foreground"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[u.jsxs("span",{className:`text-xs font-semibold ${g?"text-primary":"text-muted-foreground"}`,children:["Aula ",h+1]}),p.isBonus&&u.jsx("span",{className:"rounded bg-purple-500/20 px-1.5 py-0.5 text-[10px] font-bold text-purple-400",children:"BNUS"})]}),u.jsx("p",{className:`line-clamp-2 text-sm font-medium ${g?"text-foreground":"text-muted-foreground"}`,children:p.title})]})]})},p.lesson)})})]})}function DC({currentModule:t,completedPercentage:e}){const r=kt(),s=e>=100,n=t+1,i=n<=7,o={2:"Mapa da Mente Masculina",3:"Gatilhos da Memria Emocional",4:"A Frase de 5 Palavras",5:"Primeiro Contato Estratgico",6:"Domnio da Conversa",7:"Conquista Duradoura"};return s?u.jsx(Ve,{className:"mb-8 border-green-500/30 bg-gradient-to-br from-green-500/10 via-primary/10 to-background p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mb-6 flex justify-center",children:u.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full border-4 border-green-500/50 bg-green-500/20",children:u.jsx(zo,{className:"h-10 w-10 text-green-500"})})}),u.jsxs("h2",{className:"mb-3 text-3xl font-bold text-foreground",children:[" Mdulo ",t," Concludo!"]}),u.jsx("p",{className:"mb-6 text-lg text-muted-foreground",children:"Parabns! Completaste todas as aulas deste mdulo."}),u.jsxs("div",{className:"mb-8 flex items-center justify-center gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(gu,{className:"mx-auto mb-1 h-6 w-6 text-green-500"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"100% Completo"})]}),u.jsx("div",{className:"h-12 w-px bg-border"}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-green-500",children:""}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Certificado Desbloqueado"})]})]}),i?u.jsxs("div",{className:"rounded-xl border border-border bg-background/50 p-6",children:[u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Prximo Mdulo:"}),u.jsxs("h3",{className:"mb-4 text-xl font-bold text-foreground",children:["Mdulo ",n,": ",o[n]]}),u.jsxs(ie,{size:"lg",onClick:()=>r(`/modulo/${n}/aula/1`),className:"gap-2 bg-primary font-bold text-primary-foreground hover:bg-primary/90",children:["Comear Prximo Mdulo",u.jsx(fu,{className:"h-5 w-5"})]})]}):u.jsxs("div",{className:"rounded-xl border border-border bg-background/50 p-6",children:[u.jsx("h3",{className:"mb-4 text-xl font-bold text-foreground",children:" Curso Completo!"}),u.jsx("p",{className:"mb-4 text-muted-foreground",children:"Parabns por completar toda a jornada do Cdigo da Reconquista!"}),u.jsx(ie,{size:"lg",onClick:()=>r("/dashboard"),className:"bg-gradient-to-r from-yellow-500 to-yellow-600 font-bold text-black hover:from-yellow-600 hover:to-yellow-700",children:"Voltar ao Dashboard"})]})]})}):null}function LC(){const t=xd(),e=kt(),{user:r,loading:s}=ir(),[n,i]=m.useState(null),[o,a]=m.useState(0),[l,c]=m.useState(0),d=parseInt(t.moduleId||"0"),f=parseInt(t.lessonId||"0");m.useEffect(()=>{!s&&!r&&e("/login")},[r,s,e]),m.useEffect(()=>{const w=R_(d,f);if(!w){Ie.error("Aula no encontrada"),e("/dashboard");return}i(w)},[d,f]),m.useEffect(()=>{(async()=>{if(!r)return;const v=va(d),{data:x}=await Ne.from("user_lessons").select("is_completed").eq("user_id",r.id).eq("is_completed",!0),E=(x==null?void 0:x.length)||0,S=Math.round(E/v.length*100);c(S)})()},[r,d,f]);const p=async w=>{a(w),!(!r||!n)&&await Ne.from("user_lessons").upsert({user_id:r.id,module_id:d,lesson_id:f,watch_percentage:w},{onConflict:"user_id,module_id,lesson_id"})},h=async()=>{!r||!n||(await Ne.from("user_lessons").upsert({user_id:r.id,module_id:d,lesson_id:f,is_completed:!0,completed_at:new Date().toISOString()},{onConflict:"user_id,module_id,lesson_id"}),Ie.success(" Aula concluda!",{description:"Parabns por mais uma conquista!"}))};if(s||!n)return u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4 h-16 w-16 animate-spin rounded-full border-b-4 border-primary"}),u.jsx("p",{className:"text-muted-foreground",children:"Carregando aula..."})]})});const b=O_(d,f),g=I_(d,f),y=!b||b.module!==d;return u.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[u.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur-lg",children:u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-primary to-primary/80 font-bold text-primary-foreground shadow-lg",children:"CR"}),u.jsxs("div",{className:"hidden items-center gap-2 text-sm text-muted-foreground sm:flex",children:[u.jsx(pu,{className:"h-4 w-4"}),u.jsxs("span",{children:["Mdulo ",d]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Aula ",f]}),n.isBonus&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsx("span",{className:"rounded bg-purple-500/20 px-2 py-0.5 text-xs font-semibold text-purple-400",children:"BNUS"})]})]})]}),u.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"gap-2",children:[u.jsx(Qm,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})]})})}),u.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-[1fr_400px]",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx(MC,{youtubeId:n.videoId,onProgress:p,onComplete:h}),y&&u.jsx(DC,{currentModule:d,completedPercentage:l}),u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[u.jsx("h1",{className:"mb-4 bg-gradient-to-r from-foreground to-muted-foreground bg-clip-text text-3xl font-bold md:text-4xl",children:n.title}),u.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground",children:n.description}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"mb-2 flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Progresso desta aula"}),u.jsxs("span",{className:"font-semibold text-foreground",children:[o,"%"]})]}),u.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-muted",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/80 transition-all duration-300",style:{width:`${o}%`}})})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[g?u.jsxs(ie,{variant:"outline",onClick:()=>e(`/modulo/${g.module}/aula/${g.lesson}`),className:"min-w-[200px] flex-1 gap-2",children:[u.jsx(Ka,{className:"h-4 w-4"}),"Aula Anterior"]}):u.jsxs(ie,{variant:"outline",onClick:()=>e("/dashboard"),className:"min-w-[200px] flex-1 gap-2",children:[u.jsx(Ka,{className:"h-4 w-4"}),"Voltar ao Incio"]}),b&&u.jsxs(ie,{onClick:()=>e(`/modulo/${b.module}/aula/${b.lesson}`),className:"min-w-[200px] flex-1 gap-2 bg-primary font-semibold hover:bg-primary/90",children:["Prxima Aula",u.jsx(zm,{className:"h-4 w-4"})]})]})]}),u.jsx("div",{children:u.jsx($C,{moduleNumber:d})})]})})]})}const UC=[{name:"Maria Silva",story:"Em 2 semanas ele voltou! Segui tudo  risca e funcionou. Obrigada! ",avatar:""},{name:"Ana Costa",story:"No acreditava que ia funcionar, mas ele me procurou pedindo uma segunda chance!",avatar:""},{name:"Joana Santos",story:"Aprendi a me valorizar e agora ele no me larga mais. Valeu cada minuto!",avatar:""}],FC=()=>{const{user:t,loading:e}=ir(),r=kt();return m.useEffect(()=>{!e&&!t&&r("/")},[t,e,r]),e?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-foreground",children:"A carregar..."})}):t?u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur-lg",children:u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"flex h-16 items-center justify-between",children:u.jsx(ie,{variant:"ghost",onClick:()=>r("/dashboard"),className:"gap-2",children:" Voltar ao Dashboard"})})})}),u.jsxs("div",{className:"mx-auto max-w-7xl space-y-12 px-4 py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold text-foreground md:text-5xl",children:"Comunidade Cdigo da Reconquista"}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"Junte-se a centenas de mulheres transformando suas vidas amorosas"})]}),u.jsx(Ve,{className:"border-green-500/30 bg-gradient-to-br from-green-500/20 to-background p-8",children:u.jsxs("div",{className:"flex flex-col items-center gap-6 md:flex-row",children:[u.jsx("div",{className:"rounded-full bg-green-500/20 p-6",children:u.jsx(Ja,{className:"h-16 w-16 text-green-500"})}),u.jsxs("div",{className:"flex-1 text-center md:text-left",children:[u.jsx("h2",{className:"mb-3 text-2xl font-bold text-foreground",children:" Comunidade Exclusiva no WhatsApp"}),u.jsx("p",{className:"mb-6 text-muted-foreground",children:"Entre no nosso grupo secreto com centenas de alunas transformando suas vidas amorosas! Compartilhe experincias, tire dvidas e receba suporte dirio."}),u.jsxs(ie,{size:"lg",className:"gap-2 bg-green-500 text-white hover:bg-green-600",onClick:()=>window.open("https://wa.me/258834569225","_blank"),children:[u.jsx(Ja,{className:"h-5 w-5"}),"Entrar Agora no WhatsApp"]})]})]})}),u.jsx(Ve,{className:"border-purple-500/30 bg-gradient-to-br from-purple-500/20 to-background p-8",children:u.jsxs("div",{className:"flex flex-col items-center gap-6 md:flex-row",children:[u.jsx("div",{className:"rounded-full bg-purple-500/20 p-6",children:u.jsx(Ya,{className:"h-16 w-16 text-purple-500"})}),u.jsxs("div",{className:"flex-1 text-center md:text-left",children:[u.jsx("div",{className:"mb-3 inline-block rounded-full bg-purple-500/20 px-3 py-1 text-sm font-semibold text-purple-400",children:"PREMIUM"}),u.jsx("h2",{className:"mb-3 text-2xl font-bold text-foreground",children:"Lives Semanais de Mentoria"}),u.jsx("p",{className:"mb-4 text-muted-foreground",children:"Aulas ao vivo comigo, sesses de Perguntas & Respostas e anlise de casos reais. Acesso direto para tirar suas dvidas e acelerar sua reconquista."}),u.jsx("p",{className:"mb-6 text-3xl font-bold text-purple-400",children:"647 MZN/ms"}),u.jsxs(ie,{size:"lg",className:"gap-2 bg-purple-500 text-white hover:bg-purple-600",children:[u.jsx(Ya,{className:"h-5 w-5"}),"Garantir Meu Acesso"]})]})]})}),u.jsxs("div",{children:[u.jsxs("h2",{className:"mb-8 text-center text-3xl font-bold text-foreground",children:[u.jsx(zo,{className:"mr-2 inline-block h-8 w-8 text-primary"}),"Destaques de Sucesso"]}),u.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:UC.map((s,n)=>u.jsxs(Ve,{className:"border-primary/20 p-6",children:[u.jsx("div",{className:"mb-4 text-center text-5xl",children:s.avatar}),u.jsx("h3",{className:"mb-2 text-center font-bold text-foreground",children:s.name}),u.jsxs("p",{className:"text-center italic text-muted-foreground",children:['"',s.story,'"']})]},n))})]})]})]}):null},BC=[{id:"semanal",name:"Plano Semanal",price:197,duration:"Renova a cada 7 dias",tier:"semanal",benefits:["Acesso a todos os 7 mdulos","Suporte via WhatsApp","Materiais de apoio","Comunidade exclusiva"]},{id:"mensal",name:"Plano Mensal",price:397,duration:"Renova a cada 30 dias",tier:"mensal",benefits:["Acesso a todos os 7 mdulos","Suporte prioritrio via WhatsApp","Materiais de apoio","Comunidade exclusiva","Desconto em upsells"]},{id:"vitalicio",name:"Plano Vitalcio",price:997,duration:"Acesso para sempre",tier:"vitalicio",benefits:["Acesso vitalcio a todos os mdulos","Suporte VIP via WhatsApp","Todos os materiais de apoio","Comunidade exclusiva","Atualizaes futuras gratuitas","Bnus exclusivos","50% de desconto em lives de mentoria"]}],qC=()=>{const{user:t,loading:e}=ir(),r=kt(),[s,n]=m.useState(null),[i,o]=m.useState(null);if(m.useEffect(()=>{!e&&!t&&r("/")},[t,e,r]),m.useEffect(()=>{(async()=>{if(t){const{data:c}=await Ne.from("profiles").select("subscription_tier, subscription_expires_at").eq("id",t.id).maybeSingle();c&&(n(c.subscription_tier||"mensal"),o(c.subscription_expires_at))}})()},[t]),e)return u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-foreground",children:"A carregar..."})});if(!t)return null;const a=i&&new Date(i)<new Date;return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur-lg",children:u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"flex h-16 items-center justify-between",children:u.jsx(ie,{variant:"ghost",onClick:()=>r("/dashboard"),className:"gap-2",children:" Voltar ao Dashboard"})})})}),u.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-12 text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold text-foreground",children:"Meu Plano de Assinatura"}),a&&u.jsx("div",{className:"mx-auto max-w-2xl rounded-lg border border-destructive/30 bg-destructive/10 p-4",children:u.jsx("p",{className:"font-semibold text-destructive",children:" Seu plano expirou. Renove para continuar acessando o contedo!"})})]}),u.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:BC.map(l=>{const c=l.tier===s,d=l.tier==="vitalicio";return u.jsxs(Ve,{className:`relative p-6 ${d?"border-primary bg-gradient-to-br from-primary/20 to-background":c?"border-green-500":"border-border"}`,children:[d&&u.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 transform",children:u.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-primary px-4 py-1",children:[u.jsx(Gm,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-bold",children:"RECOMENDADO"})]})}),c&&u.jsx("div",{className:"absolute -top-4 right-4",children:u.jsx("div",{className:"rounded-full bg-green-500 px-3 py-1 text-sm font-bold",children:"SEU PLANO"})}),u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx("h3",{className:"mb-2 text-2xl font-bold text-foreground",children:l.name}),u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:l.duration}),u.jsxs("p",{className:"text-4xl font-bold text-primary",children:[l.price," MZN"]})]}),u.jsx("ul",{className:"mb-6 space-y-3",children:l.benefits.map((f,p)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(mu,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-green-500"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:f})]},p))}),u.jsx(ie,{className:"w-full",variant:c?"outline":"default",disabled:c&&!a,children:c&&!a?"Plano Ativo":c&&a?"Renovar Plano":"Fazer Upgrade"})]},l.id)})})]})]})},VC=()=>{const t=ci();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},HC=new Rv,WC=()=>u.jsx(Iv,{client:HC,children:u.jsx(Xx,{children:u.jsx(Qx,{children:u.jsxs(iv,{children:[u.jsx(Ug,{}),u.jsx(yy,{}),u.jsx(jw,{children:u.jsxs(Tw,{children:[u.jsx(Ut,{path:"/",element:u.jsx(Sw,{to:"/login",replace:!0})}),u.jsx(Ut,{path:"/login",element:u.jsx(N_,{})}),u.jsx(Ut,{path:"/dashboard",element:u.jsx(vS,{})}),u.jsx(Ut,{path:"/comunidade",element:u.jsx(FC,{})}),u.jsx(Ut,{path:"/meu-plano",element:u.jsx(qC,{})}),u.jsx(Ut,{path:"/modulo/:moduleId/aula/:lessonId",element:u.jsx(LC,{})}),u.jsx(Ut,{path:"*",element:u.jsx(VC,{})})]})})]})})})});Uc(document.getElementById("root")).render(u.jsx(WC,{}));
